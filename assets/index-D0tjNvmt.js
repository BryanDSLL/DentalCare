(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function zE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pd={exports:{}},za={},Nd={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function BE(){if(Ug)return Ce;Ug=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,$={};function B(L,Y,me){this.props=L,this.context=Y,this.refs=$,this.updater=me||b}B.prototype.isReactComponent={},B.prototype.setState=function(L,Y){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Y,"setState")},B.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function q(){}q.prototype=B.prototype;function ne(L,Y,me){this.props=L,this.context=Y,this.refs=$,this.updater=me||b}var K=ne.prototype=new q;K.constructor=ne,O(K,B.prototype),K.isPureReactComponent=!0;var de=Array.isArray,ee=Object.prototype.hasOwnProperty,le={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function x(L,Y,me){var xe,Ae={},De=null,Me=null;if(Y!=null)for(xe in Y.ref!==void 0&&(Me=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)ee.call(Y,xe)&&!P.hasOwnProperty(xe)&&(Ae[xe]=Y[xe]);var je=arguments.length-2;if(je===1)Ae.children=me;else if(1<je){for(var $e=Array(je),_t=0;_t<je;_t++)$e[_t]=arguments[_t+2];Ae.children=$e}if(L&&L.defaultProps)for(xe in je=L.defaultProps,je)Ae[xe]===void 0&&(Ae[xe]=je[xe]);return{$$typeof:r,type:L,key:De,ref:Me,props:Ae,_owner:le.current}}function A(L,Y){return{$$typeof:r,type:L.type,key:Y,ref:L.ref,props:L.props,_owner:L._owner}}function N(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function V(L){var Y={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(me){return Y[me]})}var M=/\/+/g;function C(L,Y){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):Y.toString(36)}function rt(L,Y,me,xe,Ae){var De=typeof L;(De==="undefined"||De==="boolean")&&(L=null);var Me=!1;if(L===null)Me=!0;else switch(De){case"string":case"number":Me=!0;break;case"object":switch(L.$$typeof){case r:case e:Me=!0}}if(Me)return Me=L,Ae=Ae(Me),L=xe===""?"."+C(Me,0):xe,de(Ae)?(me="",L!=null&&(me=L.replace(M,"$&/")+"/"),rt(Ae,Y,me,"",function(_t){return _t})):Ae!=null&&(N(Ae)&&(Ae=A(Ae,me+(!Ae.key||Me&&Me.key===Ae.key?"":(""+Ae.key).replace(M,"$&/")+"/")+L)),Y.push(Ae)),1;if(Me=0,xe=xe===""?".":xe+":",de(L))for(var je=0;je<L.length;je++){De=L[je];var $e=xe+C(De,je);Me+=rt(De,Y,me,$e,Ae)}else if($e=T(L),typeof $e=="function")for(L=$e.call(L),je=0;!(De=L.next()).done;)De=De.value,$e=xe+C(De,je++),Me+=rt(De,Y,me,$e,Ae);else if(De==="object")throw Y=String(L),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Me}function Ot(L,Y,me){if(L==null)return L;var xe=[],Ae=0;return rt(L,xe,"","",function(De){return Y.call(me,De,Ae++)}),xe}function Vt(L){if(L._status===-1){var Y=L._result;Y=Y(),Y.then(function(me){(L._status===0||L._status===-1)&&(L._status=1,L._result=me)},function(me){(L._status===0||L._status===-1)&&(L._status=2,L._result=me)}),L._status===-1&&(L._status=0,L._result=Y)}if(L._status===1)return L._result.default;throw L._result}var ze={current:null},ie={transition:null},ye={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ie,ReactCurrentOwner:le};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Ot,forEach:function(L,Y,me){Ot(L,function(){Y.apply(this,arguments)},me)},count:function(L){var Y=0;return Ot(L,function(){Y++}),Y},toArray:function(L){return Ot(L,function(Y){return Y})||[]},only:function(L){if(!N(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ce.Component=B,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=ne,Ce.StrictMode=i,Ce.Suspense=p,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ce.act=ue,Ce.cloneElement=function(L,Y,me){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var xe=O({},L.props),Ae=L.key,De=L.ref,Me=L._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,Me=le.current),Y.key!==void 0&&(Ae=""+Y.key),L.type&&L.type.defaultProps)var je=L.type.defaultProps;for($e in Y)ee.call(Y,$e)&&!P.hasOwnProperty($e)&&(xe[$e]=Y[$e]===void 0&&je!==void 0?je[$e]:Y[$e])}var $e=arguments.length-2;if($e===1)xe.children=me;else if(1<$e){je=Array($e);for(var _t=0;_t<$e;_t++)je[_t]=arguments[_t+2];xe.children=je}return{$$typeof:r,type:L.type,key:Ae,ref:De,props:xe,_owner:Me}},Ce.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Ce.createElement=x,Ce.createFactory=function(L){var Y=x.bind(null,L);return Y.type=L,Y},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:f,render:L}},Ce.isValidElement=N,Ce.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:Vt}},Ce.memo=function(L,Y){return{$$typeof:y,type:L,compare:Y===void 0?null:Y}},Ce.startTransition=function(L){var Y=ie.transition;ie.transition={};try{L()}finally{ie.transition=Y}},Ce.unstable_act=ue,Ce.useCallback=function(L,Y){return ze.current.useCallback(L,Y)},Ce.useContext=function(L){return ze.current.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L){return ze.current.useDeferredValue(L)},Ce.useEffect=function(L,Y){return ze.current.useEffect(L,Y)},Ce.useId=function(){return ze.current.useId()},Ce.useImperativeHandle=function(L,Y,me){return ze.current.useImperativeHandle(L,Y,me)},Ce.useInsertionEffect=function(L,Y){return ze.current.useInsertionEffect(L,Y)},Ce.useLayoutEffect=function(L,Y){return ze.current.useLayoutEffect(L,Y)},Ce.useMemo=function(L,Y){return ze.current.useMemo(L,Y)},Ce.useReducer=function(L,Y,me){return ze.current.useReducer(L,Y,me)},Ce.useRef=function(L){return ze.current.useRef(L)},Ce.useState=function(L){return ze.current.useState(L)},Ce.useSyncExternalStore=function(L,Y,me){return ze.current.useSyncExternalStore(L,Y,me)},Ce.useTransition=function(){return ze.current.useTransition()},Ce.version="18.3.1",Ce}var zg;function bf(){return zg||(zg=1,Nd.exports=BE()),Nd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function $E(){if(Bg)return za;Bg=1;var r=bf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var _,S={},T=null,b=null;y!==void 0&&(T=""+y),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(b=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(S[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)S[_]===void 0&&(S[_]=p[_]);return{$$typeof:e,type:f,key:T,ref:b,props:S,_owner:o.current}}return za.Fragment=t,za.jsx=h,za.jsxs=h,za}var $g;function HE(){return $g||($g=1,Pd.exports=$E()),Pd.exports}var E=HE(),U=bf(),qu={},Dd={exports:{}},tn={},bd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function qE(){return Hg||(Hg=1,function(r){function e(ie,ye){var ue=ie.length;ie.push(ye);e:for(;0<ue;){var L=ue-1>>>1,Y=ie[L];if(0<o(Y,ye))ie[L]=ye,ie[ue]=Y,ue=L;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var ye=ie[0],ue=ie.pop();if(ue!==ye){ie[0]=ue;e:for(var L=0,Y=ie.length,me=Y>>>1;L<me;){var xe=2*(L+1)-1,Ae=ie[xe],De=xe+1,Me=ie[De];if(0>o(Ae,ue))De<Y&&0>o(Me,Ae)?(ie[L]=Me,ie[De]=ue,L=De):(ie[L]=Ae,ie[xe]=ue,L=xe);else if(De<Y&&0>o(Me,ue))ie[L]=Me,ie[De]=ue,L=De;else break e}}return ye}function o(ie,ye){var ue=ie.sortIndex-ye.sortIndex;return ue!==0?ue:ie.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var p=[],y=[],_=1,S=null,T=3,b=!1,O=!1,$=!1,B=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(ie){for(var ye=t(y);ye!==null;){if(ye.callback===null)i(y);else if(ye.startTime<=ie)i(y),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(y)}}function de(ie){if($=!1,K(ie),!O)if(t(p)!==null)O=!0,Vt(ee);else{var ye=t(y);ye!==null&&ze(de,ye.startTime-ie)}}function ee(ie,ye){O=!1,$&&($=!1,q(x),x=-1),b=!0;var ue=T;try{for(K(ye),S=t(p);S!==null&&(!(S.expirationTime>ye)||ie&&!V());){var L=S.callback;if(typeof L=="function"){S.callback=null,T=S.priorityLevel;var Y=L(S.expirationTime<=ye);ye=r.unstable_now(),typeof Y=="function"?S.callback=Y:S===t(p)&&i(p),K(ye)}else i(p);S=t(p)}if(S!==null)var me=!0;else{var xe=t(y);xe!==null&&ze(de,xe.startTime-ye),me=!1}return me}finally{S=null,T=ue,b=!1}}var le=!1,P=null,x=-1,A=5,N=-1;function V(){return!(r.unstable_now()-N<A)}function M(){if(P!==null){var ie=r.unstable_now();N=ie;var ye=!0;try{ye=P(!0,ie)}finally{ye?C():(le=!1,P=null)}}else le=!1}var C;if(typeof ne=="function")C=function(){ne(M)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Ot=rt.port2;rt.port1.onmessage=M,C=function(){Ot.postMessage(null)}}else C=function(){B(M,0)};function Vt(ie){P=ie,le||(le=!0,C())}function ze(ie,ye){x=B(function(){ie(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){O||b||(O=!0,Vt(ee))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(ie){switch(T){case 1:case 2:case 3:var ye=3;break;default:ye=T}var ue=T;T=ye;try{return ie()}finally{T=ue}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=T;T=ie;try{return ye()}finally{T=ue}},r.unstable_scheduleCallback=function(ie,ye,ue){var L=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?L+ue:L):ue=L,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ue+Y,ie={id:_++,callback:ye,priorityLevel:ie,startTime:ue,expirationTime:Y,sortIndex:-1},ue>L?(ie.sortIndex=ue,e(y,ie),t(p)===null&&ie===t(y)&&($?(q(x),x=-1):$=!0,ze(de,ue-L))):(ie.sortIndex=Y,e(p,ie),O||b||(O=!0,Vt(ee))),ie},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(ie){var ye=T;return function(){var ue=T;T=ye;try{return ie.apply(this,arguments)}finally{T=ue}}}}(Od)),Od}var qg;function WE(){return qg||(qg=1,bd.exports=qE()),bd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function KE(){if(Wg)return tn;Wg=1;var r=bf(),e=WE();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},S={};function T(n){return p.call(S,n)?!0:p.call(_,n)?!1:y.test(n)?S[n]=!0:(_[n]=!0,!1)}function b(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function O(n,s,a,c){if(s===null||typeof s>"u"||b(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function $(n,s,a,c,d,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){B[n]=new $(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];B[s]=new $(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){B[n]=new $(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){B[n]=new $(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){B[n]=new $(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){B[n]=new $(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){B[n]=new $(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){B[n]=new $(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){B[n]=new $(n,5,!1,n.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function ne(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(q,ne);B[s]=new $(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(q,ne);B[s]=new $(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(q,ne);B[s]=new $(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){B[n]=new $(n,1,!1,n.toLowerCase(),null,!1,!1)}),B.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){B[n]=new $(n,1,!1,n.toLowerCase(),null,!0,!0)});function K(n,s,a,c){var d=B.hasOwnProperty(s)?B[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,d,c)&&(a=null),c||d===null?T(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var de=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),le=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),Ot=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var ue=Object.assign,L;function Y(n){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+n}var me=!1;function xe(n,s){if(!n||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var c=H}Reflect.construct(n,[],s)}else{try{s.call()}catch(H){c=H}n.call(s.prototype)}else{try{throw Error()}catch(H){c=H}n()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var d=H.stack.split(`
`),g=c.stack.split(`
`),w=d.length-1,k=g.length-1;1<=w&&0<=k&&d[w]!==g[k];)k--;for(;1<=w&&0<=k;w--,k--)if(d[w]!==g[k]){if(w!==1||k!==1)do if(w--,k--,0>k||d[w]!==g[k]){var R=`
`+d[w].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=w&&0<=k);break}}}finally{me=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?Y(n):""}function Ae(n){switch(n.tag){case 5:return Y(n.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return n=xe(n.type,!1),n;case 11:return n=xe(n.type.render,!1),n;case 1:return n=xe(n.type,!0),n;default:return""}}function De(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case le:return"Portal";case A:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case rt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case N:return(n._context.displayName||"Context")+".Provider";case M:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ot:return s=n.displayName||null,s!==null?s:De(n.type)||"Memo";case Vt:s=n._payload,n=n._init;try{return De(n(s))}catch{}}return null}function Me(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $e(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _t(n){var s=$e(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function dr(n){n._valueTracker||(n._valueTracker=_t(n))}function xs(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=$e(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function zr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Mi(n,s){var a=s.checked;return ue({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ks(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=je(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ko(n,s){s=s.checked,s!=null&&K(n,"checked",s,!1)}function Go(n,s){Ko(n,s);var a=je(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?As(n,s.type,a):s.hasOwnProperty("defaultValue")&&As(n,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Pl(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function As(n,s,a){(s!=="number"||zr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var fr=Array.isArray;function pr(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+je(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Qo(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Cs(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(fr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:je(a)}}function Rs(n,s){var a=je(s.value),c=je(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Yo(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function dt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?dt(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var mr,Xo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(mr=mr||document.createElement("div"),mr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Br(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fi=["Webkit","ms","Moz","O"];Object.keys(ji).forEach(function(n){Fi.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),ji[s]=ji[n]})});function Jo(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ji.hasOwnProperty(n)&&ji[n]?(""+s).trim():s+"px"}function Zo(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Jo(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var ea=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ta(n,s){if(s){if(ea[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function na(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Ps(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ns=null,fn=null,Kn=null;function Ds(n){if(n=ka(n)){if(typeof Ns!="function")throw Error(t(280));var s=n.stateNode;s&&(s=ou(s),Ns(n.stateNode,n.type,s))}}function Gn(n){fn?Kn?Kn.push(n):Kn=[n]:fn=n}function ra(){if(fn){var n=fn,s=Kn;if(Kn=fn=null,Ds(n),s)for(n=0;n<s.length;n++)Ds(s[n])}}function zi(n,s){return n(s)}function ia(){}var gr=!1;function sa(n,s,a){if(gr)return n(s,a);gr=!0;try{return zi(n,s,a)}finally{gr=!1,(fn!==null||Kn!==null)&&(ia(),ra())}}function it(n,s){var a=n.stateNode;if(a===null)return null;var c=ou(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var bs=!1;if(f)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){bs=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{bs=!1}function Bi(n,s,a,c,d,g,w,k,R){var H=Array.prototype.slice.call(arguments,3);try{s.apply(a,H)}catch(J){this.onError(J)}}var $i=!1,Os=null,kn=!1,oa=null,ih={onError:function(n){$i=!0,Os=n}};function Vs(n,s,a,c,d,g,w,k,R){$i=!1,Os=null,Bi.apply(ih,arguments)}function Nl(n,s,a,c,d,g,w,k,R){if(Vs.apply(this,arguments),$i){if($i){var H=Os;$i=!1,Os=null}else throw Error(t(198));kn||(kn=!0,oa=H)}}function An(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Hi(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Cn(n){if(An(n)!==n)throw Error(t(188))}function Dl(n){var s=n.alternate;if(!s){if(s=An(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Cn(d),n;if(g===c)return Cn(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var w=!1,k=d.child;k;){if(k===a){w=!0,a=d,c=g;break}if(k===c){w=!0,c=d,a=g;break}k=k.sibling}if(!w){for(k=g.child;k;){if(k===a){w=!0,a=g,c=d;break}if(k===c){w=!0,c=g,a=d;break}k=k.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function aa(n){return n=Dl(n),n!==null?Ls(n):null}function Ls(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Ls(n);if(s!==null)return s;n=n.sibling}return null}var Ms=e.unstable_scheduleCallback,la=e.unstable_cancelCallback,bl=e.unstable_shouldYield,sh=e.unstable_requestPaint,He=e.unstable_now,Ol=e.unstable_getCurrentPriorityLevel,qi=e.unstable_ImmediatePriority,$r=e.unstable_UserBlockingPriority,pn=e.unstable_NormalPriority,ua=e.unstable_LowPriority,Vl=e.unstable_IdlePriority,Wi=null,sn=null;function Ll(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Wi,n,void 0,(n.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:jl,ca=Math.log,Ml=Math.LN2;function jl(n){return n>>>=0,n===0?32:31-(ca(n)/Ml|0)|0}var js=64,Fs=4194304;function Hr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ki(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,g=n.pingedLanes,w=a&268435455;if(w!==0){var k=w&~d;k!==0?c=Hr(k):(g&=w,g!==0&&(c=Hr(g)))}else w=a&~d,w!==0?c=Hr(w):g!==0&&(c=Hr(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-Ht(s),d=1<<a,c|=n[a],s&=~d;return c}function oh(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes;0<g;){var w=31-Ht(g),k=1<<w,R=d[w];R===-1?((k&a)===0||(k&c)!==0)&&(d[w]=oh(k,s)):R<=s&&(n.expiredLanes|=k),g&=~k}}function on(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Gi(){var n=js;return js<<=1,(js&4194240)===0&&(js=64),n}function qr(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Wr(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Ht(s),n[s]=a}function Be(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Ht(a),g=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~g}}function Kr(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-Ht(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var Ne=0;function Gr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Fl,Us,Ul,zl,Bl,ha=!1,Qn=[],At=null,Rn=null,Pn=null,Qr=new Map,mn=new Map,Yn=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(n,s){switch(n){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Qr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mn.delete(s.pointerId)}}function Gt(n,s,a,c,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=ka(s),s!==null&&Us(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function lh(n,s,a,c,d){switch(s){case"focusin":return At=Gt(At,n,s,a,c,d),!0;case"dragenter":return Rn=Gt(Rn,n,s,a,c,d),!0;case"mouseover":return Pn=Gt(Pn,n,s,a,c,d),!0;case"pointerover":var g=d.pointerId;return Qr.set(g,Gt(Qr.get(g)||null,n,s,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,mn.set(g,Gt(mn.get(g)||null,n,s,a,c,d)),!0}return!1}function Hl(n){var s=Zi(n.target);if(s!==null){var a=An(s);if(a!==null){if(s=a.tag,s===13){if(s=Hi(a),s!==null){n.blockedOn=s,Bl(n.priority,function(){Ul(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function vr(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=zs(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Ui=c,a.target.dispatchEvent(c),Ui=null}else return s=ka(a),s!==null&&Us(s),n.blockedOn=a,!1;s.shift()}return!0}function Qi(n,s,a){vr(n)&&a.delete(s)}function ql(){ha=!1,At!==null&&vr(At)&&(At=null),Rn!==null&&vr(Rn)&&(Rn=null),Pn!==null&&vr(Pn)&&(Pn=null),Qr.forEach(Qi),mn.forEach(Qi)}function Nn(n,s){n.blockedOn===s&&(n.blockedOn=null,ha||(ha=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ql)))}function Dn(n){function s(d){return Nn(d,n)}if(0<Qn.length){Nn(Qn[0],n);for(var a=1;a<Qn.length;a++){var c=Qn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(At!==null&&Nn(At,n),Rn!==null&&Nn(Rn,n),Pn!==null&&Nn(Pn,n),Qr.forEach(s),mn.forEach(s),a=0;a<Yn.length;a++)c=Yn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Yn.length&&(a=Yn[0],a.blockedOn===null);)Hl(a),a.blockedOn===null&&Yn.shift()}var _r=de.ReactCurrentBatchConfig,Yr=!0;function Ye(n,s,a,c){var d=Ne,g=_r.transition;_r.transition=null;try{Ne=1,da(n,s,a,c)}finally{Ne=d,_r.transition=g}}function uh(n,s,a,c){var d=Ne,g=_r.transition;_r.transition=null;try{Ne=4,da(n,s,a,c)}finally{Ne=d,_r.transition=g}}function da(n,s,a,c){if(Yr){var d=zs(n,s,a,c);if(d===null)wh(n,s,c,Yi,a),$l(n,c);else if(lh(d,n,s,a,c))c.stopPropagation();else if($l(n,c),s&4&&-1<ah.indexOf(n)){for(;d!==null;){var g=ka(d);if(g!==null&&Fl(g),g=zs(n,s,a,c),g===null&&wh(n,s,c,Yi,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else wh(n,s,c,null,a)}}var Yi=null;function zs(n,s,a,c){if(Yi=null,n=Ps(c),n=Zi(n),n!==null)if(s=An(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Hi(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Yi=n,null}function fa(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ol()){case qi:return 1;case $r:return 4;case pn:case ua:return 16;case Vl:return 536870912;default:return 16}default:return 16}}var an=null,Bs=null,Qt=null;function pa(){if(Qt)return Qt;var n,s=Bs,a=s.length,c,d="value"in an?an.value:an.textContent,g=d.length;for(n=0;n<a&&s[n]===d[n];n++);var w=a-n;for(c=1;c<=w&&s[a-c]===d[g-c];c++);return Qt=d.slice(n,1<c?1-c:void 0)}function $s(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Xn(){return!0}function ma(){return!1}function Ct(n){function s(a,c,d,g,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(a=n[k],this[k]=a?a(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Xn:ma,this.isPropagationStopped=ma,this}return ue(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),s}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Ct(bn),Jn=ue({},bn,{view:0,detail:0}),ch=Ct(Jn),qs,wr,Xr,Xi=ue({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Xr&&(Xr&&n.type==="mousemove"?(qs=n.screenX-Xr.screenX,wr=n.screenY-Xr.screenY):wr=qs=0,Xr=n),qs)},movementY:function(n){return"movementY"in n?n.movementY:wr}}),Ws=Ct(Xi),ga=ue({},Xi,{dataTransfer:0}),Wl=Ct(ga),Ks=ue({},Jn,{relatedTarget:0}),Gs=Ct(Ks),Kl=ue({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Er=Ct(Kl),Gl=ue({},bn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ql=Ct(Gl),Yl=ue({},bn,{data:0}),ya=Ct(Yl),Qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Xl[n])?!!s[n]:!1}function Zn(){return Jl}var u=ue({},Jn,{key:function(n){if(n.key){var s=Qs[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=$s(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zn,charCode:function(n){return n.type==="keypress"?$s(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$s(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),m=Ct(u),v=ue({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Ct(v),j=ue({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zn}),W=Ct(j),re=ue({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=Ct(re),pt=ue({},Xi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),be=Ct(pt),wt=[9,13,27,32],at=f&&"CompositionEvent"in window,gn=null;f&&"documentMode"in document&&(gn=document.documentMode);var ln=f&&"TextEvent"in window&&!gn,Ji=f&&(!at||gn&&8<gn&&11>=gn),Ys=" ",Op=!1;function Vp(n,s){switch(n){case"keyup":return wt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xs=!1;function jw(n,s){switch(n){case"compositionend":return Lp(s);case"keypress":return s.which!==32?null:(Op=!0,Ys);case"textInput":return n=s.data,n===Ys&&Op?null:n;default:return null}}function Fw(n,s){if(Xs)return n==="compositionend"||!at&&Vp(n,s)?(n=pa(),Qt=Bs=an=null,Xs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ji&&s.locale!=="ko"?null:s.data;default:return null}}var Uw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Uw[n.type]:s==="textarea"}function jp(n,s,a,c){Gn(c),s=ru(s,"onChange"),0<s.length&&(a=new Hs("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var va=null,_a=null;function zw(n){nm(n,0)}function Zl(n){var s=no(n);if(xs(s))return n}function Bw(n,s){if(n==="change")return s}var Fp=!1;if(f){var hh;if(f){var dh="oninput"in document;if(!dh){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),dh=typeof Up.oninput=="function"}hh=dh}else hh=!1;Fp=hh&&(!document.documentMode||9<document.documentMode)}function zp(){va&&(va.detachEvent("onpropertychange",Bp),_a=va=null)}function Bp(n){if(n.propertyName==="value"&&Zl(_a)){var s=[];jp(s,_a,n,Ps(n)),sa(zw,s)}}function $w(n,s,a){n==="focusin"?(zp(),va=s,_a=a,va.attachEvent("onpropertychange",Bp)):n==="focusout"&&zp()}function Hw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zl(_a)}function qw(n,s){if(n==="click")return Zl(s)}function Ww(n,s){if(n==="input"||n==="change")return Zl(s)}function Kw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var On=typeof Object.is=="function"?Object.is:Kw;function wa(n,s){if(On(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(s,d)||!On(n[d],s[d]))return!1}return!0}function $p(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Hp(n,s){var a=$p(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$p(a)}}function qp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?qp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Wp(){for(var n=window,s=zr();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=zr(n.document)}return s}function fh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Gw(n){var s=Wp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&qp(a.ownerDocument.documentElement,a)){if(c!==null&&fh(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!n.extend&&g>c&&(d=c,c=g,g=d),d=Hp(a,g);var w=Hp(a,c);d&&w&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),g>c?(n.addRange(s),n.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Qw=f&&"documentMode"in document&&11>=document.documentMode,Js=null,ph=null,Ea=null,mh=!1;function Kp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mh||Js==null||Js!==zr(c)||(c=Js,"selectionStart"in c&&fh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ea&&wa(Ea,c)||(Ea=c,c=ru(ph,"onSelect"),0<c.length&&(s=new Hs("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=Js)))}function eu(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Zs={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},gh={},Gp={};f&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function tu(n){if(gh[n])return gh[n];if(!Zs[n])return n;var s=Zs[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Gp)return gh[n]=s[a];return n}var Qp=tu("animationend"),Yp=tu("animationiteration"),Xp=tu("animationstart"),Jp=tu("transitionend"),Zp=new Map,em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(n,s){Zp.set(n,s),l(s,[n])}for(var yh=0;yh<em.length;yh++){var vh=em[yh],Yw=vh.toLowerCase(),Xw=vh[0].toUpperCase()+vh.slice(1);Jr(Yw,"on"+Xw)}Jr(Qp,"onAnimationEnd"),Jr(Yp,"onAnimationIteration"),Jr(Xp,"onAnimationStart"),Jr("dblclick","onDoubleClick"),Jr("focusin","onFocus"),Jr("focusout","onBlur"),Jr(Jp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function tm(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,Nl(c,s,void 0,n),n.currentTarget=null}function nm(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var k=c[w],R=k.instance,H=k.currentTarget;if(k=k.listener,R!==g&&d.isPropagationStopped())break e;tm(d,k,H),g=R}else for(w=0;w<c.length;w++){if(k=c[w],R=k.instance,H=k.currentTarget,k=k.listener,R!==g&&d.isPropagationStopped())break e;tm(d,k,H),g=R}}}if(kn)throw n=oa,kn=!1,oa=null,n}function Ke(n,s){var a=s[kh];a===void 0&&(a=s[kh]=new Set);var c=n+"__bubble";a.has(c)||(rm(s,n,2,!1),a.add(c))}function _h(n,s,a){var c=0;s&&(c|=4),rm(a,n,c,s)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Ia(n){if(!n[nu]){n[nu]=!0,i.forEach(function(a){a!=="selectionchange"&&(Jw.has(a)||_h(a,!1,n),_h(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[nu]||(s[nu]=!0,_h("selectionchange",!1,s))}}function rm(n,s,a,c){switch(fa(s)){case 1:var d=Ye;break;case 4:d=uh;break;default:d=da}a=d.bind(null,s,a,n),d=void 0,!bs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function wh(n,s,a,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var k=c.stateNode.containerInfo;if(k===d||k.nodeType===8&&k.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var R=w.tag;if((R===3||R===4)&&(R=w.stateNode.containerInfo,R===d||R.nodeType===8&&R.parentNode===d))return;w=w.return}for(;k!==null;){if(w=Zi(k),w===null)return;if(R=w.tag,R===5||R===6){c=g=w;continue e}k=k.parentNode}}c=c.return}sa(function(){var H=g,J=Ps(a),Z=[];e:{var X=Zp.get(n);if(X!==void 0){var oe=Hs,he=n;switch(n){case"keypress":if($s(a)===0)break e;case"keydown":case"keyup":oe=m;break;case"focusin":he="focus",oe=Gs;break;case"focusout":he="blur",oe=Gs;break;case"beforeblur":case"afterblur":oe=Gs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=W;break;case Qp:case Yp:case Xp:oe=Er;break;case Jp:oe=Ue;break;case"scroll":oe=ch;break;case"wheel":oe=be;break;case"copy":case"cut":case"paste":oe=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=I}var fe=(s&4)!==0,st=!fe&&n==="scroll",F=fe?X!==null?X+"Capture":null:X;fe=[];for(var D=H,z;D!==null;){z=D;var te=z.stateNode;if(z.tag===5&&te!==null&&(z=te,F!==null&&(te=it(D,F),te!=null&&fe.push(Sa(D,te,z)))),st)break;D=D.return}0<fe.length&&(X=new oe(X,he,null,a,J),Z.push({event:X,listeners:fe}))}}if((s&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",X&&a!==Ui&&(he=a.relatedTarget||a.fromElement)&&(Zi(he)||he[Tr]))break e;if((oe||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,oe?(he=a.relatedTarget||a.toElement,oe=H,he=he?Zi(he):null,he!==null&&(st=An(he),he!==st||he.tag!==5&&he.tag!==6)&&(he=null)):(oe=null,he=H),oe!==he)){if(fe=Ws,te="onMouseLeave",F="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(fe=I,te="onPointerLeave",F="onPointerEnter",D="pointer"),st=oe==null?X:no(oe),z=he==null?X:no(he),X=new fe(te,D+"leave",oe,a,J),X.target=st,X.relatedTarget=z,te=null,Zi(J)===H&&(fe=new fe(F,D+"enter",he,a,J),fe.target=z,fe.relatedTarget=st,te=fe),st=te,oe&&he)t:{for(fe=oe,F=he,D=0,z=fe;z;z=eo(z))D++;for(z=0,te=F;te;te=eo(te))z++;for(;0<D-z;)fe=eo(fe),D--;for(;0<z-D;)F=eo(F),z--;for(;D--;){if(fe===F||F!==null&&fe===F.alternate)break t;fe=eo(fe),F=eo(F)}fe=null}else fe=null;oe!==null&&im(Z,X,oe,fe,!1),he!==null&&st!==null&&im(Z,st,he,fe,!0)}}e:{if(X=H?no(H):window,oe=X.nodeName&&X.nodeName.toLowerCase(),oe==="select"||oe==="input"&&X.type==="file")var pe=Bw;else if(Mp(X))if(Fp)pe=Ww;else{pe=Hw;var ve=$w}else(oe=X.nodeName)&&oe.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(pe=qw);if(pe&&(pe=pe(n,H))){jp(Z,pe,a,J);break e}ve&&ve(n,X,H),n==="focusout"&&(ve=X._wrapperState)&&ve.controlled&&X.type==="number"&&As(X,"number",X.value)}switch(ve=H?no(H):window,n){case"focusin":(Mp(ve)||ve.contentEditable==="true")&&(Js=ve,ph=H,Ea=null);break;case"focusout":Ea=ph=Js=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,Kp(Z,a,J);break;case"selectionchange":if(Qw)break;case"keydown":case"keyup":Kp(Z,a,J)}var _e;if(at)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Xs?Vp(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(Ji&&a.locale!=="ko"&&(Xs||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Xs&&(_e=pa()):(an=J,Bs="value"in an?an.value:an.textContent,Xs=!0)),ve=ru(H,Te),0<ve.length&&(Te=new ya(Te,n,null,a,J),Z.push({event:Te,listeners:ve}),_e?Te.data=_e:(_e=Lp(a),_e!==null&&(Te.data=_e)))),(_e=ln?jw(n,a):Fw(n,a))&&(H=ru(H,"onBeforeInput"),0<H.length&&(J=new ya("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:H}),J.data=_e))}nm(Z,s)})}function Sa(n,s,a){return{instance:n,listener:s,currentTarget:a}}function ru(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=it(n,a),g!=null&&c.unshift(Sa(n,g,d)),g=it(n,s),g!=null&&c.push(Sa(n,g,d))),n=n.return}return c}function eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function im(n,s,a,c,d){for(var g=s._reactName,w=[];a!==null&&a!==c;){var k=a,R=k.alternate,H=k.stateNode;if(R!==null&&R===c)break;k.tag===5&&H!==null&&(k=H,d?(R=it(a,g),R!=null&&w.unshift(Sa(a,R,k))):d||(R=it(a,g),R!=null&&w.push(Sa(a,R,k)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var Zw=/\r\n?/g,eE=/\u0000|\uFFFD/g;function sm(n){return(typeof n=="string"?n:""+n).replace(Zw,`
`).replace(eE,"")}function iu(n,s,a){if(s=sm(s),sm(n)!==s&&a)throw Error(t(425))}function su(){}var Eh=null,Th=null;function Ih(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sh=typeof setTimeout=="function"?setTimeout:void 0,tE=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,nE=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(n){return om.resolve(null).then(n).catch(rE)}:Sh;function rE(n){setTimeout(function(){throw n})}function xh(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Dn(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Dn(s)}function Zr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function am(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var to=Math.random().toString(36).slice(2),er="__reactFiber$"+to,xa="__reactProps$"+to,Tr="__reactContainer$"+to,kh="__reactEvents$"+to,iE="__reactListeners$"+to,sE="__reactHandles$"+to;function Zi(n){var s=n[er];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Tr]||a[er]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=am(n);n!==null;){if(a=n[er])return a;n=am(n)}return s}n=a,a=n.parentNode}return null}function ka(n){return n=n[er]||n[Tr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function no(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function ou(n){return n[xa]||null}var Ah=[],ro=-1;function ei(n){return{current:n}}function Ge(n){0>ro||(n.current=Ah[ro],Ah[ro]=null,ro--)}function qe(n,s){ro++,Ah[ro]=n.current,n.current=s}var ti={},Lt=ei(ti),Yt=ei(!1),es=ti;function io(n,s){var a=n.type.contextTypes;if(!a)return ti;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function Xt(n){return n=n.childContextTypes,n!=null}function au(){Ge(Yt),Ge(Lt)}function lm(n,s,a){if(Lt.current!==ti)throw Error(t(168));qe(Lt,s),qe(Yt,a)}function um(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Me(n)||"Unknown",d));return ue({},a,c)}function lu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ti,es=Lt.current,qe(Lt,n),qe(Yt,Yt.current),!0}function cm(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=um(n,s,es),c.__reactInternalMemoizedMergedChildContext=n,Ge(Yt),Ge(Lt),qe(Lt,n)):Ge(Yt),qe(Yt,a)}var Ir=null,uu=!1,Ch=!1;function hm(n){Ir===null?Ir=[n]:Ir.push(n)}function oE(n){uu=!0,hm(n)}function ni(){if(!Ch&&Ir!==null){Ch=!0;var n=0,s=Ne;try{var a=Ir;for(Ne=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Ir=null,uu=!1}catch(d){throw Ir!==null&&(Ir=Ir.slice(n+1)),Ms(qi,ni),d}finally{Ne=s,Ch=!1}}return null}var so=[],oo=0,cu=null,hu=0,yn=[],vn=0,ts=null,Sr=1,xr="";function ns(n,s){so[oo++]=hu,so[oo++]=cu,cu=n,hu=s}function dm(n,s,a){yn[vn++]=Sr,yn[vn++]=xr,yn[vn++]=ts,ts=n;var c=Sr;n=xr;var d=32-Ht(c)-1;c&=~(1<<d),a+=1;var g=32-Ht(s)+d;if(30<g){var w=d-d%5;g=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Sr=1<<32-Ht(s)+d|a<<d|c,xr=g+n}else Sr=1<<g|a<<d|c,xr=n}function Rh(n){n.return!==null&&(ns(n,1),dm(n,1,0))}function Ph(n){for(;n===cu;)cu=so[--oo],so[oo]=null,hu=so[--oo],so[oo]=null;for(;n===ts;)ts=yn[--vn],yn[vn]=null,xr=yn[--vn],yn[vn]=null,Sr=yn[--vn],yn[vn]=null}var un=null,cn=null,Xe=!1,Vn=null;function fm(n,s){var a=Tn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function pm(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,un=n,cn=Zr(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,un=n,cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ts!==null?{id:Sr,overflow:xr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Tn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,un=n,cn=null,!0):!1;default:return!1}}function Nh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Dh(n){if(Xe){var s=cn;if(s){var a=s;if(!pm(n,s)){if(Nh(n))throw Error(t(418));s=Zr(a.nextSibling);var c=un;s&&pm(n,s)?fm(c,a):(n.flags=n.flags&-4097|2,Xe=!1,un=n)}}else{if(Nh(n))throw Error(t(418));n.flags=n.flags&-4097|2,Xe=!1,un=n}}}function mm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;un=n}function du(n){if(n!==un)return!1;if(!Xe)return mm(n),Xe=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Ih(n.type,n.memoizedProps)),s&&(s=cn)){if(Nh(n))throw gm(),Error(t(418));for(;s;)fm(n,s),s=Zr(s.nextSibling)}if(mm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){cn=Zr(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}cn=null}}else cn=un?Zr(n.stateNode.nextSibling):null;return!0}function gm(){for(var n=cn;n;)n=Zr(n.nextSibling)}function ao(){cn=un=null,Xe=!1}function bh(n){Vn===null?Vn=[n]:Vn.push(n)}var aE=de.ReactCurrentBatchConfig;function Aa(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var k=d.refs;w===null?delete k[g]:k[g]=w},s._stringRef=g,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function fu(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function ym(n){var s=n._init;return s(n._payload)}function vm(n){function s(F,D){if(n){var z=F.deletions;z===null?(F.deletions=[D],F.flags|=16):z.push(D)}}function a(F,D){if(!n)return null;for(;D!==null;)s(F,D),D=D.sibling;return null}function c(F,D){for(F=new Map;D!==null;)D.key!==null?F.set(D.key,D):F.set(D.index,D),D=D.sibling;return F}function d(F,D){return F=ci(F,D),F.index=0,F.sibling=null,F}function g(F,D,z){return F.index=z,n?(z=F.alternate,z!==null?(z=z.index,z<D?(F.flags|=2,D):z):(F.flags|=2,D)):(F.flags|=1048576,D)}function w(F){return n&&F.alternate===null&&(F.flags|=2),F}function k(F,D,z,te){return D===null||D.tag!==6?(D=Sd(z,F.mode,te),D.return=F,D):(D=d(D,z),D.return=F,D)}function R(F,D,z,te){var pe=z.type;return pe===P?J(F,D,z.props.children,te,z.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Vt&&ym(pe)===D.type)?(te=d(D,z.props),te.ref=Aa(F,D,z),te.return=F,te):(te=Mu(z.type,z.key,z.props,null,F.mode,te),te.ref=Aa(F,D,z),te.return=F,te)}function H(F,D,z,te){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=xd(z,F.mode,te),D.return=F,D):(D=d(D,z.children||[]),D.return=F,D)}function J(F,D,z,te,pe){return D===null||D.tag!==7?(D=cs(z,F.mode,te,pe),D.return=F,D):(D=d(D,z),D.return=F,D)}function Z(F,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Sd(""+D,F.mode,z),D.return=F,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ee:return z=Mu(D.type,D.key,D.props,null,F.mode,z),z.ref=Aa(F,null,D),z.return=F,z;case le:return D=xd(D,F.mode,z),D.return=F,D;case Vt:var te=D._init;return Z(F,te(D._payload),z)}if(fr(D)||ye(D))return D=cs(D,F.mode,z,null),D.return=F,D;fu(F,D)}return null}function X(F,D,z,te){var pe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return pe!==null?null:k(F,D,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ee:return z.key===pe?R(F,D,z,te):null;case le:return z.key===pe?H(F,D,z,te):null;case Vt:return pe=z._init,X(F,D,pe(z._payload),te)}if(fr(z)||ye(z))return pe!==null?null:J(F,D,z,te,null);fu(F,z)}return null}function oe(F,D,z,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number")return F=F.get(z)||null,k(D,F,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case ee:return F=F.get(te.key===null?z:te.key)||null,R(D,F,te,pe);case le:return F=F.get(te.key===null?z:te.key)||null,H(D,F,te,pe);case Vt:var ve=te._init;return oe(F,D,z,ve(te._payload),pe)}if(fr(te)||ye(te))return F=F.get(z)||null,J(D,F,te,pe,null);fu(D,te)}return null}function he(F,D,z,te){for(var pe=null,ve=null,_e=D,Te=D=0,It=null;_e!==null&&Te<z.length;Te++){_e.index>Te?(It=_e,_e=null):It=_e.sibling;var Le=X(F,_e,z[Te],te);if(Le===null){_e===null&&(_e=It);break}n&&_e&&Le.alternate===null&&s(F,_e),D=g(Le,D,Te),ve===null?pe=Le:ve.sibling=Le,ve=Le,_e=It}if(Te===z.length)return a(F,_e),Xe&&ns(F,Te),pe;if(_e===null){for(;Te<z.length;Te++)_e=Z(F,z[Te],te),_e!==null&&(D=g(_e,D,Te),ve===null?pe=_e:ve.sibling=_e,ve=_e);return Xe&&ns(F,Te),pe}for(_e=c(F,_e);Te<z.length;Te++)It=oe(_e,F,Te,z[Te],te),It!==null&&(n&&It.alternate!==null&&_e.delete(It.key===null?Te:It.key),D=g(It,D,Te),ve===null?pe=It:ve.sibling=It,ve=It);return n&&_e.forEach(function(hi){return s(F,hi)}),Xe&&ns(F,Te),pe}function fe(F,D,z,te){var pe=ye(z);if(typeof pe!="function")throw Error(t(150));if(z=pe.call(z),z==null)throw Error(t(151));for(var ve=pe=null,_e=D,Te=D=0,It=null,Le=z.next();_e!==null&&!Le.done;Te++,Le=z.next()){_e.index>Te?(It=_e,_e=null):It=_e.sibling;var hi=X(F,_e,Le.value,te);if(hi===null){_e===null&&(_e=It);break}n&&_e&&hi.alternate===null&&s(F,_e),D=g(hi,D,Te),ve===null?pe=hi:ve.sibling=hi,ve=hi,_e=It}if(Le.done)return a(F,_e),Xe&&ns(F,Te),pe;if(_e===null){for(;!Le.done;Te++,Le=z.next())Le=Z(F,Le.value,te),Le!==null&&(D=g(Le,D,Te),ve===null?pe=Le:ve.sibling=Le,ve=Le);return Xe&&ns(F,Te),pe}for(_e=c(F,_e);!Le.done;Te++,Le=z.next())Le=oe(_e,F,Te,Le.value,te),Le!==null&&(n&&Le.alternate!==null&&_e.delete(Le.key===null?Te:Le.key),D=g(Le,D,Te),ve===null?pe=Le:ve.sibling=Le,ve=Le);return n&&_e.forEach(function(UE){return s(F,UE)}),Xe&&ns(F,Te),pe}function st(F,D,z,te){if(typeof z=="object"&&z!==null&&z.type===P&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ee:e:{for(var pe=z.key,ve=D;ve!==null;){if(ve.key===pe){if(pe=z.type,pe===P){if(ve.tag===7){a(F,ve.sibling),D=d(ve,z.props.children),D.return=F,F=D;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Vt&&ym(pe)===ve.type){a(F,ve.sibling),D=d(ve,z.props),D.ref=Aa(F,ve,z),D.return=F,F=D;break e}a(F,ve);break}else s(F,ve);ve=ve.sibling}z.type===P?(D=cs(z.props.children,F.mode,te,z.key),D.return=F,F=D):(te=Mu(z.type,z.key,z.props,null,F.mode,te),te.ref=Aa(F,D,z),te.return=F,F=te)}return w(F);case le:e:{for(ve=z.key;D!==null;){if(D.key===ve)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(F,D.sibling),D=d(D,z.children||[]),D.return=F,F=D;break e}else{a(F,D);break}else s(F,D);D=D.sibling}D=xd(z,F.mode,te),D.return=F,F=D}return w(F);case Vt:return ve=z._init,st(F,D,ve(z._payload),te)}if(fr(z))return he(F,D,z,te);if(ye(z))return fe(F,D,z,te);fu(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(a(F,D.sibling),D=d(D,z),D.return=F,F=D):(a(F,D),D=Sd(z,F.mode,te),D.return=F,F=D),w(F)):a(F,D)}return st}var lo=vm(!0),_m=vm(!1),pu=ei(null),mu=null,uo=null,Oh=null;function Vh(){Oh=uo=mu=null}function Lh(n){var s=pu.current;Ge(pu),n._currentValue=s}function Mh(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function co(n,s){mu=n,Oh=uo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Jt=!0),n.firstContext=null)}function _n(n){var s=n._currentValue;if(Oh!==n)if(n={context:n,memoizedValue:s,next:null},uo===null){if(mu===null)throw Error(t(308));uo=n,mu.dependencies={lanes:0,firstContext:n}}else uo=uo.next=n;return s}var rs=null;function jh(n){rs===null?rs=[n]:rs.push(n)}function wm(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,jh(s)):(a.next=d.next,d.next=a),s.interleaved=a,kr(n,c)}function kr(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ri=!1;function Fh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Em(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ar(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ii(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ve&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,kr(n,a)}return d=c.interleaved,d===null?(s.next=s,jh(c)):(s.next=d.next,d.next=s),c.interleaved=s,kr(n,a)}function gu(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Kr(n,a)}}function Tm(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function yu(n,s,a,c){var d=n.updateQueue;ri=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,k=d.shared.pending;if(k!==null){d.shared.pending=null;var R=k,H=R.next;R.next=null,w===null?g=H:w.next=H,w=R;var J=n.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==w&&(k===null?J.firstBaseUpdate=H:k.next=H,J.lastBaseUpdate=R))}if(g!==null){var Z=d.baseState;w=0,J=H=R=null,k=g;do{var X=k.lane,oe=k.eventTime;if((c&X)===X){J!==null&&(J=J.next={eventTime:oe,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var he=n,fe=k;switch(X=s,oe=a,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){Z=he.call(oe,Z,X);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,X=typeof he=="function"?he.call(oe,Z,X):he,X==null)break e;Z=ue({},Z,X);break e;case 2:ri=!0}}k.callback!==null&&k.lane!==0&&(n.flags|=64,X=d.effects,X===null?d.effects=[k]:X.push(k))}else oe={eventTime:oe,lane:X,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(H=J=oe,R=Z):J=J.next=oe,w|=X;if(k=k.next,k===null){if(k=d.shared.pending,k===null)break;X=k,k=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(J===null&&(R=Z),d.baseState=R,d.firstBaseUpdate=H,d.lastBaseUpdate=J,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);os|=w,n.lanes=w,n.memoizedState=Z}}function Im(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Ca={},tr=ei(Ca),Ra=ei(Ca),Pa=ei(Ca);function is(n){if(n===Ca)throw Error(t(174));return n}function Uh(n,s){switch(qe(Pa,s),qe(Ra,n),qe(tr,Ca),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ft(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=ft(s,n)}Ge(tr),qe(tr,s)}function ho(){Ge(tr),Ge(Ra),Ge(Pa)}function Sm(n){is(Pa.current);var s=is(tr.current),a=ft(s,n.type);s!==a&&(qe(Ra,n),qe(tr,a))}function zh(n){Ra.current===n&&(Ge(tr),Ge(Ra))}var Ze=ei(0);function vu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bh=[];function $h(){for(var n=0;n<Bh.length;n++)Bh[n]._workInProgressVersionPrimary=null;Bh.length=0}var _u=de.ReactCurrentDispatcher,Hh=de.ReactCurrentBatchConfig,ss=0,et=null,mt=null,Et=null,wu=!1,Na=!1,Da=0,lE=0;function Mt(){throw Error(t(321))}function qh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!On(n[a],s[a]))return!1;return!0}function Wh(n,s,a,c,d,g){if(ss=g,et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_u.current=n===null||n.memoizedState===null?dE:fE,n=a(c,d),Na){g=0;do{if(Na=!1,Da=0,25<=g)throw Error(t(301));g+=1,Et=mt=null,s.updateQueue=null,_u.current=pE,n=a(c,d)}while(Na)}if(_u.current=Iu,s=mt!==null&&mt.next!==null,ss=0,Et=mt=et=null,wu=!1,s)throw Error(t(300));return n}function Kh(){var n=Da!==0;return Da=0,n}function nr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?et.memoizedState=Et=n:Et=Et.next=n,Et}function wn(){if(mt===null){var n=et.alternate;n=n!==null?n.memoizedState:null}else n=mt.next;var s=Et===null?et.memoizedState:Et.next;if(s!==null)Et=s,mt=n;else{if(n===null)throw Error(t(310));mt=n,n={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Et===null?et.memoizedState=Et=n:Et=Et.next=n}return Et}function ba(n,s){return typeof s=="function"?s(n):s}function Gh(n){var s=wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=mt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var k=w=null,R=null,H=g;do{var J=H.lane;if((ss&J)===J)R!==null&&(R=R.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:n(c,H.action);else{var Z={lane:J,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};R===null?(k=R=Z,w=c):R=R.next=Z,et.lanes|=J,os|=J}H=H.next}while(H!==null&&H!==g);R===null?w=c:R.next=k,On(c,s.memoizedState)||(Jt=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=R,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do g=d.lane,et.lanes|=g,os|=g,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Qh(n){var s=wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do g=n(g,w.action),w=w.next;while(w!==d);On(g,s.memoizedState)||(Jt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function xm(){}function km(n,s){var a=et,c=wn(),d=s(),g=!On(c.memoizedState,d);if(g&&(c.memoizedState=d,Jt=!0),c=c.queue,Yh(Rm.bind(null,a,c,n),[n]),c.getSnapshot!==s||g||Et!==null&&Et.memoizedState.tag&1){if(a.flags|=2048,Oa(9,Cm.bind(null,a,c,d,s),void 0,null),Tt===null)throw Error(t(349));(ss&30)!==0||Am(a,s,d)}return d}function Am(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Cm(n,s,a,c){s.value=a,s.getSnapshot=c,Pm(s)&&Nm(n)}function Rm(n,s,a){return a(function(){Pm(s)&&Nm(n)})}function Pm(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!On(n,a)}catch{return!0}}function Nm(n){var s=kr(n,1);s!==null&&Fn(s,n,1,-1)}function Dm(n){var s=nr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:n},s.queue=n,n=n.dispatch=hE.bind(null,et,n),[s.memoizedState,n]}function Oa(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function bm(){return wn().memoizedState}function Eu(n,s,a,c){var d=nr();et.flags|=n,d.memoizedState=Oa(1|s,a,void 0,c===void 0?null:c)}function Tu(n,s,a,c){var d=wn();c=c===void 0?null:c;var g=void 0;if(mt!==null){var w=mt.memoizedState;if(g=w.destroy,c!==null&&qh(c,w.deps)){d.memoizedState=Oa(s,a,g,c);return}}et.flags|=n,d.memoizedState=Oa(1|s,a,g,c)}function Om(n,s){return Eu(8390656,8,n,s)}function Yh(n,s){return Tu(2048,8,n,s)}function Vm(n,s){return Tu(4,2,n,s)}function Lm(n,s){return Tu(4,4,n,s)}function Mm(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function jm(n,s,a){return a=a!=null?a.concat([n]):null,Tu(4,4,Mm.bind(null,s,n),a)}function Xh(){}function Fm(n,s){var a=wn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&qh(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Um(n,s){var a=wn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&qh(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function zm(n,s,a){return(ss&21)===0?(n.baseState&&(n.baseState=!1,Jt=!0),n.memoizedState=a):(On(a,s)||(a=Gi(),et.lanes|=a,os|=a,n.baseState=!0),s)}function uE(n,s){var a=Ne;Ne=a!==0&&4>a?a:4,n(!0);var c=Hh.transition;Hh.transition={};try{n(!1),s()}finally{Ne=a,Hh.transition=c}}function Bm(){return wn().memoizedState}function cE(n,s,a){var c=li(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},$m(n))Hm(s,a);else if(a=wm(n,s,a,c),a!==null){var d=Kt();Fn(a,n,c,d),qm(a,s,c)}}function hE(n,s,a){var c=li(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if($m(n))Hm(s,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,k=g(w,a);if(d.hasEagerState=!0,d.eagerState=k,On(k,w)){var R=s.interleaved;R===null?(d.next=d,jh(s)):(d.next=R.next,R.next=d),s.interleaved=d;return}}catch{}finally{}a=wm(n,s,d,c),a!==null&&(d=Kt(),Fn(a,n,c,d),qm(a,s,c))}}function $m(n){var s=n.alternate;return n===et||s!==null&&s===et}function Hm(n,s){Na=wu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function qm(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Kr(n,a)}}var Iu={readContext:_n,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},dE={readContext:_n,useCallback:function(n,s){return nr().memoizedState=[n,s===void 0?null:s],n},useContext:_n,useEffect:Om,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,Eu(4194308,4,Mm.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Eu(4194308,4,n,s)},useInsertionEffect:function(n,s){return Eu(4,2,n,s)},useMemo:function(n,s){var a=nr();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=nr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=cE.bind(null,et,n),[c.memoizedState,n]},useRef:function(n){var s=nr();return n={current:n},s.memoizedState=n},useState:Dm,useDebugValue:Xh,useDeferredValue:function(n){return nr().memoizedState=n},useTransition:function(){var n=Dm(!1),s=n[0];return n=uE.bind(null,n[1]),nr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=et,d=nr();if(Xe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Tt===null)throw Error(t(349));(ss&30)!==0||Am(c,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,Om(Rm.bind(null,c,g,n),[n]),c.flags|=2048,Oa(9,Cm.bind(null,c,g,a,s),void 0,null),a},useId:function(){var n=nr(),s=Tt.identifierPrefix;if(Xe){var a=xr,c=Sr;a=(c&~(1<<32-Ht(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Da++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=lE++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},fE={readContext:_n,useCallback:Fm,useContext:_n,useEffect:Yh,useImperativeHandle:jm,useInsertionEffect:Vm,useLayoutEffect:Lm,useMemo:Um,useReducer:Gh,useRef:bm,useState:function(){return Gh(ba)},useDebugValue:Xh,useDeferredValue:function(n){var s=wn();return zm(s,mt.memoizedState,n)},useTransition:function(){var n=Gh(ba)[0],s=wn().memoizedState;return[n,s]},useMutableSource:xm,useSyncExternalStore:km,useId:Bm,unstable_isNewReconciler:!1},pE={readContext:_n,useCallback:Fm,useContext:_n,useEffect:Yh,useImperativeHandle:jm,useInsertionEffect:Vm,useLayoutEffect:Lm,useMemo:Um,useReducer:Qh,useRef:bm,useState:function(){return Qh(ba)},useDebugValue:Xh,useDeferredValue:function(n){var s=wn();return mt===null?s.memoizedState=n:zm(s,mt.memoizedState,n)},useTransition:function(){var n=Qh(ba)[0],s=wn().memoizedState;return[n,s]},useMutableSource:xm,useSyncExternalStore:km,useId:Bm,unstable_isNewReconciler:!1};function Ln(n,s){if(n&&n.defaultProps){s=ue({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Jh(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:ue({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Su={isMounted:function(n){return(n=n._reactInternals)?An(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Kt(),d=li(n),g=Ar(c,d);g.payload=s,a!=null&&(g.callback=a),s=ii(n,g,d),s!==null&&(Fn(s,n,d,c),gu(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Kt(),d=li(n),g=Ar(c,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ii(n,g,d),s!==null&&(Fn(s,n,d,c),gu(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Kt(),c=li(n),d=Ar(a,c);d.tag=2,s!=null&&(d.callback=s),s=ii(n,d,c),s!==null&&(Fn(s,n,c,a),gu(s,n,c))}};function Wm(n,s,a,c,d,g,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!wa(a,c)||!wa(d,g):!0}function Km(n,s,a){var c=!1,d=ti,g=s.contextType;return typeof g=="object"&&g!==null?g=_n(g):(d=Xt(s)?es:Lt.current,c=s.contextTypes,g=(c=c!=null)?io(n,d):ti),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Su,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=g),s}function Gm(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&Su.enqueueReplaceState(s,s.state,null)}function Zh(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Fh(n);var g=s.contextType;typeof g=="object"&&g!==null?d.context=_n(g):(g=Xt(s)?es:Lt.current,d.context=io(n,g)),d.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Jh(n,s,g,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Su.enqueueReplaceState(d,d.state,null),yu(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function fo(n,s){try{var a="",c=s;do a+=Ae(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:d,digest:null}}function ed(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function td(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var mE=typeof WeakMap=="function"?WeakMap:Map;function Qm(n,s,a){a=Ar(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Nu||(Nu=!0,gd=c),td(n,s)},a}function Ym(n,s,a){a=Ar(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){td(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){td(n,s),typeof c!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Xm(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new mE;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=RE.bind(null,n,s,a),s.then(n,n))}function Jm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Zm(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Ar(-1,1),s.tag=2,ii(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var gE=de.ReactCurrentOwner,Jt=!1;function Wt(n,s,a,c){s.child=n===null?_m(s,null,a,c):lo(s,n.child,a,c)}function eg(n,s,a,c,d){a=a.render;var g=s.ref;return co(s,d),c=Wh(n,s,a,c,g,d),a=Kh(),n!==null&&!Jt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Cr(n,s,d)):(Xe&&a&&Rh(s),s.flags|=1,Wt(n,s,c,d),s.child)}function tg(n,s,a,c,d){if(n===null){var g=a.type;return typeof g=="function"&&!Id(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,ng(n,s,g,c,d)):(n=Mu(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&d)===0){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:wa,a(w,c)&&n.ref===s.ref)return Cr(n,s,d)}return s.flags|=1,n=ci(g,c),n.ref=s.ref,n.return=s,s.child=n}function ng(n,s,a,c,d){if(n!==null){var g=n.memoizedProps;if(wa(g,c)&&n.ref===s.ref)if(Jt=!1,s.pendingProps=c=g,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Jt=!0);else return s.lanes=n.lanes,Cr(n,s,d)}return nd(n,s,a,c,d)}function rg(n,s,a){var c=s.pendingProps,d=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(mo,hn),hn|=a;else{if((a&1073741824)===0)return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,qe(mo,hn),hn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,qe(mo,hn),hn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,qe(mo,hn),hn|=c;return Wt(n,s,d,a),s.child}function ig(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function nd(n,s,a,c,d){var g=Xt(a)?es:Lt.current;return g=io(s,g),co(s,d),a=Wh(n,s,a,c,g,d),c=Kh(),n!==null&&!Jt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Cr(n,s,d)):(Xe&&c&&Rh(s),s.flags|=1,Wt(n,s,a,d),s.child)}function sg(n,s,a,c,d){if(Xt(a)){var g=!0;lu(s)}else g=!1;if(co(s,d),s.stateNode===null)ku(n,s),Km(s,a,c),Zh(s,a,c,d),c=!0;else if(n===null){var w=s.stateNode,k=s.memoizedProps;w.props=k;var R=w.context,H=a.contextType;typeof H=="object"&&H!==null?H=_n(H):(H=Xt(a)?es:Lt.current,H=io(s,H));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==c||R!==H)&&Gm(s,w,c,H),ri=!1;var X=s.memoizedState;w.state=X,yu(s,c,w,d),R=s.memoizedState,k!==c||X!==R||Yt.current||ri?(typeof J=="function"&&(Jh(s,a,J,c),R=s.memoizedState),(k=ri||Wm(s,a,k,c,X,R,H))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=R),w.props=c,w.state=R,w.context=H,c=k):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,Em(n,s),k=s.memoizedProps,H=s.type===s.elementType?k:Ln(s.type,k),w.props=H,Z=s.pendingProps,X=w.context,R=a.contextType,typeof R=="object"&&R!==null?R=_n(R):(R=Xt(a)?es:Lt.current,R=io(s,R));var oe=a.getDerivedStateFromProps;(J=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==Z||X!==R)&&Gm(s,w,c,R),ri=!1,X=s.memoizedState,w.state=X,yu(s,c,w,d);var he=s.memoizedState;k!==Z||X!==he||Yt.current||ri?(typeof oe=="function"&&(Jh(s,a,oe,c),he=s.memoizedState),(H=ri||Wm(s,a,H,c,X,he,R)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,he,R),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,he,R)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=he),w.props=c,w.state=he,w.context=R,c=H):(typeof w.componentDidUpdate!="function"||k===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),c=!1)}return rd(n,s,a,c,g,d)}function rd(n,s,a,c,d,g){ig(n,s);var w=(s.flags&128)!==0;if(!c&&!w)return d&&cm(s,a,!1),Cr(n,s,g);c=s.stateNode,gE.current=s;var k=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&w?(s.child=lo(s,n.child,null,g),s.child=lo(s,null,k,g)):Wt(n,s,k,g),s.memoizedState=c.state,d&&cm(s,a,!0),s.child}function og(n){var s=n.stateNode;s.pendingContext?lm(n,s.pendingContext,s.pendingContext!==s.context):s.context&&lm(n,s.context,!1),Uh(n,s.containerInfo)}function ag(n,s,a,c,d){return ao(),bh(d),s.flags|=256,Wt(n,s,a,c),s.child}var id={dehydrated:null,treeContext:null,retryLane:0};function sd(n){return{baseLanes:n,cachePool:null,transitions:null}}function lg(n,s,a){var c=s.pendingProps,d=Ze.current,g=!1,w=(s.flags&128)!==0,k;if((k=w)||(k=n!==null&&n.memoizedState===null?!1:(d&2)!==0),k?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),qe(Ze,d&1),n===null)return Dh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=c.children,n=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=ju(w,c,0,null),n=cs(n,c,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=sd(a),s.memoizedState=id,n):od(s,w));if(d=n.memoizedState,d!==null&&(k=d.dehydrated,k!==null))return yE(n,s,w,c,k,d,a);if(g){g=c.fallback,w=s.mode,d=n.child,k=d.sibling;var R={mode:"hidden",children:c.children};return(w&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=R,s.deletions=null):(c=ci(d,R),c.subtreeFlags=d.subtreeFlags&14680064),k!==null?g=ci(k,g):(g=cs(g,w,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=n.child.memoizedState,w=w===null?sd(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=n.childLanes&~a,s.memoizedState=id,c}return g=n.child,n=g.sibling,c=ci(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function od(n,s){return s=ju({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function xu(n,s,a,c){return c!==null&&bh(c),lo(s,n.child,null,a),n=od(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function yE(n,s,a,c,d,g,w){if(a)return s.flags&256?(s.flags&=-257,c=ed(Error(t(422))),xu(n,s,w,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=c.fallback,d=s.mode,c=ju({mode:"visible",children:c.children},d,0,null),g=cs(g,d,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&lo(s,n.child,null,w),s.child.memoizedState=sd(w),s.memoizedState=id,g);if((s.mode&1)===0)return xu(n,s,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var k=c.dgst;return c=k,g=Error(t(419)),c=ed(g,c,void 0),xu(n,s,w,c)}if(k=(w&n.childLanes)!==0,Jt||k){if(c=Tt,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|w))!==0?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,kr(n,d),Fn(c,n,d,-1))}return Td(),c=ed(Error(t(421))),xu(n,s,w,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=PE.bind(null,n),d._reactRetry=s,null):(n=g.treeContext,cn=Zr(d.nextSibling),un=s,Xe=!0,Vn=null,n!==null&&(yn[vn++]=Sr,yn[vn++]=xr,yn[vn++]=ts,Sr=n.id,xr=n.overflow,ts=s),s=od(s,c.children),s.flags|=4096,s)}function ug(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Mh(n.return,s,a)}function ad(n,s,a,c,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function cg(n,s,a){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(Wt(n,s,c.children,a),c=Ze.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ug(n,a,s);else if(n.tag===19)ug(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(qe(Ze,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&vu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),ad(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&vu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}ad(s,!0,a,null,g);break;case"together":ad(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ku(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Cr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),os|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=ci(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=ci(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function vE(n,s,a){switch(s.tag){case 3:og(s),ao();break;case 5:Sm(s);break;case 1:Xt(s.type)&&lu(s);break;case 4:Uh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;qe(pu,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(qe(Ze,Ze.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?lg(n,s,a):(qe(Ze,Ze.current&1),n=Cr(n,s,a),n!==null?n.sibling:null);qe(Ze,Ze.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return cg(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Ze,Ze.current),c)break;return null;case 22:case 23:return s.lanes=0,rg(n,s,a)}return Cr(n,s,a)}var hg,ld,dg,fg;hg=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ld=function(){},dg=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,is(tr.current);var g=null;switch(a){case"input":d=Mi(n,d),c=Mi(n,c),g=[];break;case"select":d=ue({},d,{value:void 0}),c=ue({},c,{value:void 0}),g=[];break;case"textarea":d=Qo(n,d),c=Qo(n,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=su)}ta(a,c);var w;a=null;for(H in d)if(!c.hasOwnProperty(H)&&d.hasOwnProperty(H)&&d[H]!=null)if(H==="style"){var k=d[H];for(w in k)k.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in c){var R=c[H];if(k=d?.[H],c.hasOwnProperty(H)&&R!==k&&(R!=null||k!=null))if(H==="style")if(k){for(w in k)!k.hasOwnProperty(w)||R&&R.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in R)R.hasOwnProperty(w)&&k[w]!==R[w]&&(a||(a={}),a[w]=R[w])}else a||(g||(g=[]),g.push(H,a)),a=R;else H==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,k=k?k.__html:void 0,R!=null&&k!==R&&(g=g||[]).push(H,R)):H==="children"?typeof R!="string"&&typeof R!="number"||(g=g||[]).push(H,""+R):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(R!=null&&H==="onScroll"&&Ke("scroll",n),g||k===R||(g=[])):(g=g||[]).push(H,R))}a&&(g=g||[]).push("style",a);var H=g;(s.updateQueue=H)&&(s.flags|=4)}},fg=function(n,s,a,c){a!==c&&(s.flags|=4)};function Va(n,s){if(!Xe)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function jt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function _E(n,s,a){var c=s.pendingProps;switch(Ph(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return Xt(s.type)&&au(),jt(s),null;case 3:return c=s.stateNode,ho(),Ge(Yt),Ge(Lt),$h(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(du(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vn!==null&&(_d(Vn),Vn=null))),ld(n,s),jt(s),null;case 5:zh(s);var d=is(Pa.current);if(a=s.type,n!==null&&s.stateNode!=null)dg(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return jt(s),null}if(n=is(tr.current),du(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[er]=s,c[xa]=g,n=(s.mode&1)!==0,a){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(d=0;d<Ta.length;d++)Ke(Ta[d],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":ks(c,g),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ke("invalid",c);break;case"textarea":Cs(c,g),Ke("invalid",c)}ta(a,g),d=null;for(var w in g)if(g.hasOwnProperty(w)){var k=g[w];w==="children"?typeof k=="string"?c.textContent!==k&&(g.suppressHydrationWarning!==!0&&iu(c.textContent,k,n),d=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&iu(c.textContent,k,n),d=["children",""+k]):o.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&Ke("scroll",c)}switch(a){case"input":dr(c),Pl(c,g,!0);break;case"textarea":dr(c),Yo(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=su)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=dt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=w.createElement(a,{is:c.is}):(n=w.createElement(a),a==="select"&&(w=n,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):n=w.createElementNS(n,a),n[er]=s,n[xa]=c,hg(n,s,!1,!1),s.stateNode=n;e:{switch(w=na(a,c),a){case"dialog":Ke("cancel",n),Ke("close",n),d=c;break;case"iframe":case"object":case"embed":Ke("load",n),d=c;break;case"video":case"audio":for(d=0;d<Ta.length;d++)Ke(Ta[d],n);d=c;break;case"source":Ke("error",n),d=c;break;case"img":case"image":case"link":Ke("error",n),Ke("load",n),d=c;break;case"details":Ke("toggle",n),d=c;break;case"input":ks(n,c),d=Mi(n,c),Ke("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ue({},c,{value:void 0}),Ke("invalid",n);break;case"textarea":Cs(n,c),d=Qo(n,c),Ke("invalid",n);break;default:d=c}ta(a,d),k=d;for(g in k)if(k.hasOwnProperty(g)){var R=k[g];g==="style"?Zo(n,R):g==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Xo(n,R)):g==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&Br(n,R):typeof R=="number"&&Br(n,""+R):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?R!=null&&g==="onScroll"&&Ke("scroll",n):R!=null&&K(n,g,R,w))}switch(a){case"input":dr(n),Pl(n,c,!1);break;case"textarea":dr(n),Yo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+je(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?pr(n,!!c.multiple,g,!1):c.defaultValue!=null&&pr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=su)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return jt(s),null;case 6:if(n&&s.stateNode!=null)fg(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=is(Pa.current),is(tr.current),du(s)){if(c=s.stateNode,a=s.memoizedProps,c[er]=s,(g=c.nodeValue!==a)&&(n=un,n!==null))switch(n.tag){case 3:iu(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&iu(c.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[er]=s,s.stateNode=c}return jt(s),null;case 13:if(Ge(Ze),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xe&&cn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)gm(),ao(),s.flags|=98560,g=!1;else if(g=du(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[er]=s}else ao(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),g=!1}else Vn!==null&&(_d(Vn),Vn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Ze.current&1)!==0?gt===0&&(gt=3):Td())),s.updateQueue!==null&&(s.flags|=4),jt(s),null);case 4:return ho(),ld(n,s),n===null&&Ia(s.stateNode.containerInfo),jt(s),null;case 10:return Lh(s.type._context),jt(s),null;case 17:return Xt(s.type)&&au(),jt(s),null;case 19:if(Ge(Ze),g=s.memoizedState,g===null)return jt(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)Va(g,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(w=vu(n),w!==null){for(s.flags|=128,Va(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,n=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,n=w.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return qe(Ze,Ze.current&1|2),s.child}n=n.sibling}g.tail!==null&&He()>go&&(s.flags|=128,c=!0,Va(g,!1),s.lanes=4194304)}else{if(!c)if(n=vu(w),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Va(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Xe)return jt(s),null}else 2*He()-g.renderingStartTime>go&&a!==1073741824&&(s.flags|=128,c=!0,Va(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=He(),s.sibling=null,a=Ze.current,qe(Ze,c?a&1|2:a&1),s):(jt(s),null);case 22:case 23:return Ed(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(hn&1073741824)!==0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function wE(n,s){switch(Ph(s),s.tag){case 1:return Xt(s.type)&&au(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ho(),Ge(Yt),Ge(Lt),$h(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return zh(s),null;case 13:if(Ge(Ze),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ao()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ge(Ze),null;case 4:return ho(),null;case 10:return Lh(s.type._context),null;case 22:case 23:return Ed(),null;case 24:return null;default:return null}}var Au=!1,Ft=!1,EE=typeof WeakSet=="function"?WeakSet:Set,ce=null;function po(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){nt(n,s,c)}else a.current=null}function ud(n,s,a){try{a()}catch(c){nt(n,s,c)}}var pg=!1;function TE(n,s){if(Eh=Yr,n=Wp(),fh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,k=-1,R=-1,H=0,J=0,Z=n,X=null;t:for(;;){for(var oe;Z!==a||d!==0&&Z.nodeType!==3||(k=w+d),Z!==g||c!==0&&Z.nodeType!==3||(R=w+c),Z.nodeType===3&&(w+=Z.nodeValue.length),(oe=Z.firstChild)!==null;)X=Z,Z=oe;for(;;){if(Z===n)break t;if(X===a&&++H===d&&(k=w),X===g&&++J===c&&(R=w),(oe=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=oe}a=k===-1||R===-1?null:{start:k,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Th={focusedElem:n,selectionRange:a},Yr=!1,ce=s;ce!==null;)if(s=ce,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ce=n;else for(;ce!==null;){s=ce;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,st=he.memoizedState,F=s.stateNode,D=F.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Ln(s.type,fe),st);F.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){nt(s,s.return,te)}if(n=s.sibling,n!==null){n.return=s.return,ce=n;break}ce=s.return}return he=pg,pg=!1,he}function La(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var g=d.destroy;d.destroy=void 0,g!==void 0&&ud(s,a,g)}d=d.next}while(d!==c)}}function Cu(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function cd(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function mg(n){var s=n.alternate;s!==null&&(n.alternate=null,mg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[er],delete s[xa],delete s[kh],delete s[iE],delete s[sE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function gg(n){return n.tag===5||n.tag===3||n.tag===4}function yg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hd(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=su));else if(c!==4&&(n=n.child,n!==null))for(hd(n,s,a),n=n.sibling;n!==null;)hd(n,s,a),n=n.sibling}function dd(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(dd(n,s,a),n=n.sibling;n!==null;)dd(n,s,a),n=n.sibling}var Rt=null,Mn=!1;function si(n,s,a){for(a=a.child;a!==null;)vg(n,s,a),a=a.sibling}function vg(n,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Wi,a)}catch{}switch(a.tag){case 5:Ft||po(a,s);case 6:var c=Rt,d=Mn;Rt=null,si(n,s,a),Rt=c,Mn=d,Rt!==null&&(Mn?(n=Rt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Rt.removeChild(a.stateNode));break;case 18:Rt!==null&&(Mn?(n=Rt,a=a.stateNode,n.nodeType===8?xh(n.parentNode,a):n.nodeType===1&&xh(n,a),Dn(n)):xh(Rt,a.stateNode));break;case 4:c=Rt,d=Mn,Rt=a.stateNode.containerInfo,Mn=!0,si(n,s,a),Rt=c,Mn=d;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&ud(a,s,w),d=d.next}while(d!==c)}si(n,s,a);break;case 1:if(!Ft&&(po(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(k){nt(a,s,k)}si(n,s,a);break;case 21:si(n,s,a);break;case 22:a.mode&1?(Ft=(c=Ft)||a.memoizedState!==null,si(n,s,a),Ft=c):si(n,s,a);break;default:si(n,s,a)}}function _g(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new EE),s.forEach(function(c){var d=NE.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function jn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=n,w=s,k=w;e:for(;k!==null;){switch(k.tag){case 5:Rt=k.stateNode,Mn=!1;break e;case 3:Rt=k.stateNode.containerInfo,Mn=!0;break e;case 4:Rt=k.stateNode.containerInfo,Mn=!0;break e}k=k.return}if(Rt===null)throw Error(t(160));vg(g,w,d),Rt=null,Mn=!1;var R=d.alternate;R!==null&&(R.return=null),d.return=null}catch(H){nt(d,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)wg(s,n),s=s.sibling}function wg(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(jn(s,n),rr(n),c&4){try{La(3,n,n.return),Cu(3,n)}catch(fe){nt(n,n.return,fe)}try{La(5,n,n.return)}catch(fe){nt(n,n.return,fe)}}break;case 1:jn(s,n),rr(n),c&512&&a!==null&&po(a,a.return);break;case 5:if(jn(s,n),rr(n),c&512&&a!==null&&po(a,a.return),n.flags&32){var d=n.stateNode;try{Br(d,"")}catch(fe){nt(n,n.return,fe)}}if(c&4&&(d=n.stateNode,d!=null)){var g=n.memoizedProps,w=a!==null?a.memoizedProps:g,k=n.type,R=n.updateQueue;if(n.updateQueue=null,R!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&Ko(d,g),na(k,w);var H=na(k,g);for(w=0;w<R.length;w+=2){var J=R[w],Z=R[w+1];J==="style"?Zo(d,Z):J==="dangerouslySetInnerHTML"?Xo(d,Z):J==="children"?Br(d,Z):K(d,J,Z,H)}switch(k){case"input":Go(d,g);break;case"textarea":Rs(d,g);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?pr(d,!!g.multiple,oe,!1):X!==!!g.multiple&&(g.defaultValue!=null?pr(d,!!g.multiple,g.defaultValue,!0):pr(d,!!g.multiple,g.multiple?[]:"",!1))}d[xa]=g}catch(fe){nt(n,n.return,fe)}}break;case 6:if(jn(s,n),rr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,g=n.memoizedProps;try{d.nodeValue=g}catch(fe){nt(n,n.return,fe)}}break;case 3:if(jn(s,n),rr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Dn(s.containerInfo)}catch(fe){nt(n,n.return,fe)}break;case 4:jn(s,n),rr(n);break;case 13:jn(s,n),rr(n),d=n.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(md=He())),c&4&&_g(n);break;case 22:if(J=a!==null&&a.memoizedState!==null,n.mode&1?(Ft=(H=Ft)||J,jn(s,n),Ft=H):jn(s,n),rr(n),c&8192){if(H=n.memoizedState!==null,(n.stateNode.isHidden=H)&&!J&&(n.mode&1)!==0)for(ce=n,J=n.child;J!==null;){for(Z=ce=J;ce!==null;){switch(X=ce,oe=X.child,X.tag){case 0:case 11:case 14:case 15:La(4,X,X.return);break;case 1:po(X,X.return);var he=X.stateNode;if(typeof he.componentWillUnmount=="function"){c=X,a=X.return;try{s=c,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(fe){nt(c,a,fe)}}break;case 5:po(X,X.return);break;case 22:if(X.memoizedState!==null){Ig(Z);continue}}oe!==null?(oe.return=X,ce=oe):Ig(Z)}J=J.sibling}e:for(J=null,Z=n;;){if(Z.tag===5){if(J===null){J=Z;try{d=Z.stateNode,H?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=Z.stateNode,R=Z.memoizedProps.style,w=R!=null&&R.hasOwnProperty("display")?R.display:null,k.style.display=Jo("display",w))}catch(fe){nt(n,n.return,fe)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=H?"":Z.memoizedProps}catch(fe){nt(n,n.return,fe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:jn(s,n),rr(n),c&4&&_g(n);break;case 21:break;default:jn(s,n),rr(n)}}function rr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(gg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Br(d,""),c.flags&=-33);var g=yg(n);dd(n,g,d);break;case 3:case 4:var w=c.stateNode.containerInfo,k=yg(n);hd(n,k,w);break;default:throw Error(t(161))}}catch(R){nt(n,n.return,R)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function IE(n,s,a){ce=n,Eg(n)}function Eg(n,s,a){for(var c=(n.mode&1)!==0;ce!==null;){var d=ce,g=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||Au;if(!w){var k=d.alternate,R=k!==null&&k.memoizedState!==null||Ft;k=Au;var H=Ft;if(Au=w,(Ft=R)&&!H)for(ce=d;ce!==null;)w=ce,R=w.child,w.tag===22&&w.memoizedState!==null?Sg(d):R!==null?(R.return=w,ce=R):Sg(d);for(;g!==null;)ce=g,Eg(g),g=g.sibling;ce=d,Au=k,Ft=H}Tg(n)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,ce=g):Tg(n)}}function Tg(n){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ft||Cu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Ft)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Ln(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Im(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Im(s,w,a)}break;case 5:var k=s.stateNode;if(a===null&&s.flags&4){a=k;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var J=H.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&Dn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||s.flags&512&&cd(s)}catch(X){nt(s,s.return,X)}}if(s===n){ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,ce=a;break}ce=s.return}}function Ig(n){for(;ce!==null;){var s=ce;if(s===n){ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ce=a;break}ce=s.return}}function Sg(n){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Cu(4,s)}catch(R){nt(s,a,R)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(R){nt(s,d,R)}}var g=s.return;try{cd(s)}catch(R){nt(s,g,R)}break;case 5:var w=s.return;try{cd(s)}catch(R){nt(s,w,R)}}}catch(R){nt(s,s.return,R)}if(s===n){ce=null;break}var k=s.sibling;if(k!==null){k.return=s.return,ce=k;break}ce=s.return}}var SE=Math.ceil,Ru=de.ReactCurrentDispatcher,fd=de.ReactCurrentOwner,En=de.ReactCurrentBatchConfig,Ve=0,Tt=null,lt=null,Pt=0,hn=0,mo=ei(0),gt=0,Ma=null,os=0,Pu=0,pd=0,ja=null,Zt=null,md=0,go=1/0,Rr=null,Nu=!1,gd=null,oi=null,Du=!1,ai=null,bu=0,Fa=0,yd=null,Ou=-1,Vu=0;function Kt(){return(Ve&6)!==0?He():Ou!==-1?Ou:Ou=He()}function li(n){return(n.mode&1)===0?1:(Ve&2)!==0&&Pt!==0?Pt&-Pt:aE.transition!==null?(Vu===0&&(Vu=Gi()),Vu):(n=Ne,n!==0||(n=window.event,n=n===void 0?16:fa(n.type)),n)}function Fn(n,s,a,c){if(50<Fa)throw Fa=0,yd=null,Error(t(185));Wr(n,a,c),((Ve&2)===0||n!==Tt)&&(n===Tt&&((Ve&2)===0&&(Pu|=a),gt===4&&ui(n,Pt)),en(n,c),a===1&&Ve===0&&(s.mode&1)===0&&(go=He()+500,uu&&ni()))}function en(n,s){var a=n.callbackNode;yr(n,s);var c=Ki(n,n===Tt?Pt:0);if(c===0)a!==null&&la(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&la(a),s===1)n.tag===0?oE(kg.bind(null,n)):hm(kg.bind(null,n)),nE(function(){(Ve&6)===0&&ni()}),a=null;else{switch(Gr(c)){case 1:a=qi;break;case 4:a=$r;break;case 16:a=pn;break;case 536870912:a=Vl;break;default:a=pn}a=Og(a,xg.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function xg(n,s){if(Ou=-1,Vu=0,(Ve&6)!==0)throw Error(t(327));var a=n.callbackNode;if(yo()&&n.callbackNode!==a)return null;var c=Ki(n,n===Tt?Pt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=Lu(n,c);else{s=c;var d=Ve;Ve|=2;var g=Cg();(Tt!==n||Pt!==s)&&(Rr=null,go=He()+500,ls(n,s));do try{AE();break}catch(k){Ag(n,k)}while(!0);Vh(),Ru.current=g,Ve=d,lt!==null?s=0:(Tt=null,Pt=0,s=gt)}if(s!==0){if(s===2&&(d=on(n),d!==0&&(c=d,s=vd(n,d))),s===1)throw a=Ma,ls(n,0),ui(n,c),en(n,He()),a;if(s===6)ui(n,c);else{if(d=n.current.alternate,(c&30)===0&&!xE(d)&&(s=Lu(n,c),s===2&&(g=on(n),g!==0&&(c=g,s=vd(n,g))),s===1))throw a=Ma,ls(n,0),ui(n,c),en(n,He()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:us(n,Zt,Rr);break;case 3:if(ui(n,c),(c&130023424)===c&&(s=md+500-He(),10<s)){if(Ki(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Kt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Sh(us.bind(null,n,Zt,Rr),s);break}us(n,Zt,Rr);break;case 4:if(ui(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var w=31-Ht(c);g=1<<w,w=s[w],w>d&&(d=w),c&=~g}if(c=d,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*SE(c/1960))-c,10<c){n.timeoutHandle=Sh(us.bind(null,n,Zt,Rr),c);break}us(n,Zt,Rr);break;case 5:us(n,Zt,Rr);break;default:throw Error(t(329))}}}return en(n,He()),n.callbackNode===a?xg.bind(null,n):null}function vd(n,s){var a=ja;return n.current.memoizedState.isDehydrated&&(ls(n,s).flags|=256),n=Lu(n,s),n!==2&&(s=Zt,Zt=a,s!==null&&_d(s)),n}function _d(n){Zt===null?Zt=n:Zt.push.apply(Zt,n)}function xE(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!On(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ui(n,s){for(s&=~pd,s&=~Pu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-Ht(s),c=1<<a;n[a]=-1,s&=~c}}function kg(n){if((Ve&6)!==0)throw Error(t(327));yo();var s=Ki(n,0);if((s&1)===0)return en(n,He()),null;var a=Lu(n,s);if(n.tag!==0&&a===2){var c=on(n);c!==0&&(s=c,a=vd(n,c))}if(a===1)throw a=Ma,ls(n,0),ui(n,s),en(n,He()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,us(n,Zt,Rr),en(n,He()),null}function wd(n,s){var a=Ve;Ve|=1;try{return n(s)}finally{Ve=a,Ve===0&&(go=He()+500,uu&&ni())}}function as(n){ai!==null&&ai.tag===0&&(Ve&6)===0&&yo();var s=Ve;Ve|=1;var a=En.transition,c=Ne;try{if(En.transition=null,Ne=1,n)return n()}finally{Ne=c,En.transition=a,Ve=s,(Ve&6)===0&&ni()}}function Ed(){hn=mo.current,Ge(mo)}function ls(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,tE(a)),lt!==null)for(a=lt.return;a!==null;){var c=a;switch(Ph(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&au();break;case 3:ho(),Ge(Yt),Ge(Lt),$h();break;case 5:zh(c);break;case 4:ho();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:Lh(c.type._context);break;case 22:case 23:Ed()}a=a.return}if(Tt=n,lt=n=ci(n.current,null),Pt=hn=s,gt=0,Ma=null,pd=Pu=os=0,Zt=ja=null,rs!==null){for(s=0;s<rs.length;s++)if(a=rs[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=d,c.next=w}a.pending=c}rs=null}return n}function Ag(n,s){do{var a=lt;try{if(Vh(),_u.current=Iu,wu){for(var c=et.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}wu=!1}if(ss=0,Et=mt=et=null,Na=!1,Da=0,fd.current=null,a===null||a.return===null){gt=1,Ma=s,lt=null;break}e:{var g=n,w=a.return,k=a,R=s;if(s=Pt,k.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=R,J=k,Z=J.tag;if((J.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var oe=Jm(w);if(oe!==null){oe.flags&=-257,Zm(oe,w,k,g,s),oe.mode&1&&Xm(g,H,s),s=oe,R=H;var he=s.updateQueue;if(he===null){var fe=new Set;fe.add(R),s.updateQueue=fe}else he.add(R);break e}else{if((s&1)===0){Xm(g,H,s),Td();break e}R=Error(t(426))}}else if(Xe&&k.mode&1){var st=Jm(w);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),Zm(st,w,k,g,s),bh(fo(R,k));break e}}g=R=fo(R,k),gt!==4&&(gt=2),ja===null?ja=[g]:ja.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var F=Qm(g,R,s);Tm(g,F);break e;case 1:k=R;var D=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(oi===null||!oi.has(z)))){g.flags|=65536,s&=-s,g.lanes|=s;var te=Ym(g,k,s);Tm(g,te);break e}}g=g.return}while(g!==null)}Pg(a)}catch(pe){s=pe,lt===a&&a!==null&&(lt=a=a.return);continue}break}while(!0)}function Cg(){var n=Ru.current;return Ru.current=Iu,n===null?Iu:n}function Td(){(gt===0||gt===3||gt===2)&&(gt=4),Tt===null||(os&268435455)===0&&(Pu&268435455)===0||ui(Tt,Pt)}function Lu(n,s){var a=Ve;Ve|=2;var c=Cg();(Tt!==n||Pt!==s)&&(Rr=null,ls(n,s));do try{kE();break}catch(d){Ag(n,d)}while(!0);if(Vh(),Ve=a,Ru.current=c,lt!==null)throw Error(t(261));return Tt=null,Pt=0,gt}function kE(){for(;lt!==null;)Rg(lt)}function AE(){for(;lt!==null&&!bl();)Rg(lt)}function Rg(n){var s=bg(n.alternate,n,hn);n.memoizedProps=n.pendingProps,s===null?Pg(n):lt=s,fd.current=null}function Pg(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=_E(a,s,hn),a!==null){lt=a;return}}else{if(a=wE(a,s),a!==null){a.flags&=32767,lt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{gt=6,lt=null;return}}if(s=s.sibling,s!==null){lt=s;return}lt=s=n}while(s!==null);gt===0&&(gt=5)}function us(n,s,a){var c=Ne,d=En.transition;try{En.transition=null,Ne=1,CE(n,s,a,c)}finally{En.transition=d,Ne=c}return null}function CE(n,s,a,c){do yo();while(ai!==null);if((Ve&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(Be(n,g),n===Tt&&(lt=Tt=null,Pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Du||(Du=!0,Og(pn,function(){return yo(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=En.transition,En.transition=null;var w=Ne;Ne=1;var k=Ve;Ve|=4,fd.current=null,TE(n,a),wg(a,n),Gw(Th),Yr=!!Eh,Th=Eh=null,n.current=a,IE(a),sh(),Ve=k,Ne=w,En.transition=g}else n.current=a;if(Du&&(Du=!1,ai=n,bu=d),g=n.pendingLanes,g===0&&(oi=null),Ll(a.stateNode),en(n,He()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Nu)throw Nu=!1,n=gd,gd=null,n;return(bu&1)!==0&&n.tag!==0&&yo(),g=n.pendingLanes,(g&1)!==0?n===yd?Fa++:(Fa=0,yd=n):Fa=0,ni(),null}function yo(){if(ai!==null){var n=Gr(bu),s=En.transition,a=Ne;try{if(En.transition=null,Ne=16>n?16:n,ai===null)var c=!1;else{if(n=ai,ai=null,bu=0,(Ve&6)!==0)throw Error(t(331));var d=Ve;for(Ve|=4,ce=n.current;ce!==null;){var g=ce,w=g.child;if((ce.flags&16)!==0){var k=g.deletions;if(k!==null){for(var R=0;R<k.length;R++){var H=k[R];for(ce=H;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:La(8,J,g)}var Z=J.child;if(Z!==null)Z.return=J,ce=Z;else for(;ce!==null;){J=ce;var X=J.sibling,oe=J.return;if(mg(J),J===H){ce=null;break}if(X!==null){X.return=oe,ce=X;break}ce=oe}}}var he=g.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var st=fe.sibling;fe.sibling=null,fe=st}while(fe!==null)}}ce=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,ce=w;else e:for(;ce!==null;){if(g=ce,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:La(9,g,g.return)}var F=g.sibling;if(F!==null){F.return=g.return,ce=F;break e}ce=g.return}}var D=n.current;for(ce=D;ce!==null;){w=ce;var z=w.child;if((w.subtreeFlags&2064)!==0&&z!==null)z.return=w,ce=z;else e:for(w=D;ce!==null;){if(k=ce,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Cu(9,k)}}catch(pe){nt(k,k.return,pe)}if(k===w){ce=null;break e}var te=k.sibling;if(te!==null){te.return=k.return,ce=te;break e}ce=k.return}}if(Ve=d,ni(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Wi,n)}catch{}c=!0}return c}finally{Ne=a,En.transition=s}}return!1}function Ng(n,s,a){s=fo(a,s),s=Qm(n,s,1),n=ii(n,s,1),s=Kt(),n!==null&&(Wr(n,1,s),en(n,s))}function nt(n,s,a){if(n.tag===3)Ng(n,n,a);else for(;s!==null;){if(s.tag===3){Ng(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(oi===null||!oi.has(c))){n=fo(a,n),n=Ym(s,n,1),s=ii(s,n,1),n=Kt(),s!==null&&(Wr(s,1,n),en(s,n));break}}s=s.return}}function RE(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=Kt(),n.pingedLanes|=n.suspendedLanes&a,Tt===n&&(Pt&a)===a&&(gt===4||gt===3&&(Pt&130023424)===Pt&&500>He()-md?ls(n,0):pd|=a),en(n,s)}function Dg(n,s){s===0&&((n.mode&1)===0?s=1:(s=Fs,Fs<<=1,(Fs&130023424)===0&&(Fs=4194304)));var a=Kt();n=kr(n,s),n!==null&&(Wr(n,s,a),en(n,a))}function PE(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Dg(n,a)}function NE(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Dg(n,a)}var bg;bg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Yt.current)Jt=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Jt=!1,vE(n,s,a);Jt=(n.flags&131072)!==0}else Jt=!1,Xe&&(s.flags&1048576)!==0&&dm(s,hu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;ku(n,s),n=s.pendingProps;var d=io(s,Lt.current);co(s,a),d=Wh(null,s,c,n,d,a);var g=Kh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Xt(c)?(g=!0,lu(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Fh(s),d.updater=Su,s.stateNode=d,d._reactInternals=s,Zh(s,c,n,a),s=rd(null,s,c,!0,g,a)):(s.tag=0,Xe&&g&&Rh(s),Wt(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(ku(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=bE(c),n=Ln(c,n),d){case 0:s=nd(null,s,c,n,a);break e;case 1:s=sg(null,s,c,n,a);break e;case 11:s=eg(null,s,c,n,a);break e;case 14:s=tg(null,s,c,Ln(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Ln(c,d),nd(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Ln(c,d),sg(n,s,c,d,a);case 3:e:{if(og(s),n===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,d=g.element,Em(n,s),yu(s,c,null,a);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=fo(Error(t(423)),s),s=ag(n,s,c,a,d);break e}else if(c!==d){d=fo(Error(t(424)),s),s=ag(n,s,c,a,d);break e}else for(cn=Zr(s.stateNode.containerInfo.firstChild),un=s,Xe=!0,Vn=null,a=_m(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ao(),c===d){s=Cr(n,s,a);break e}Wt(n,s,c,a)}s=s.child}return s;case 5:return Sm(s),n===null&&Dh(s),c=s.type,d=s.pendingProps,g=n!==null?n.memoizedProps:null,w=d.children,Ih(c,d)?w=null:g!==null&&Ih(c,g)&&(s.flags|=32),ig(n,s),Wt(n,s,w,a),s.child;case 6:return n===null&&Dh(s),null;case 13:return lg(n,s,a);case 4:return Uh(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=lo(s,null,c,a):Wt(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Ln(c,d),eg(n,s,c,d,a);case 7:return Wt(n,s,s.pendingProps,a),s.child;case 8:return Wt(n,s,s.pendingProps.children,a),s.child;case 12:return Wt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,g=s.memoizedProps,w=d.value,qe(pu,c._currentValue),c._currentValue=w,g!==null)if(On(g.value,w)){if(g.children===d.children&&!Yt.current){s=Cr(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var k=g.dependencies;if(k!==null){w=g.child;for(var R=k.firstContext;R!==null;){if(R.context===c){if(g.tag===1){R=Ar(-1,a&-a),R.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var J=H.pending;J===null?R.next=R:(R.next=J.next,J.next=R),H.pending=R}}g.lanes|=a,R=g.alternate,R!==null&&(R.lanes|=a),Mh(g.return,a,s),k.lanes|=a;break}R=R.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,k=w.alternate,k!==null&&(k.lanes|=a),Mh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Wt(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,co(s,a),d=_n(d),c=c(d),s.flags|=1,Wt(n,s,c,a),s.child;case 14:return c=s.type,d=Ln(c,s.pendingProps),d=Ln(c.type,d),tg(n,s,c,d,a);case 15:return ng(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Ln(c,d),ku(n,s),s.tag=1,Xt(c)?(n=!0,lu(s)):n=!1,co(s,a),Km(s,c,d),Zh(s,c,d,a),rd(null,s,c,!0,n,a);case 19:return cg(n,s,a);case 22:return rg(n,s,a)}throw Error(t(156,s.tag))};function Og(n,s){return Ms(n,s)}function DE(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(n,s,a,c){return new DE(n,s,a,c)}function Id(n){return n=n.prototype,!(!n||!n.isReactComponent)}function bE(n){if(typeof n=="function")return Id(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M)return 11;if(n===Ot)return 14}return 2}function ci(n,s){var a=n.alternate;return a===null?(a=Tn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Mu(n,s,a,c,d,g){var w=2;if(c=n,typeof n=="function")Id(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case P:return cs(a.children,d,g,s);case x:w=8,d|=8;break;case A:return n=Tn(12,a,s,d|2),n.elementType=A,n.lanes=g,n;case C:return n=Tn(13,a,s,d),n.elementType=C,n.lanes=g,n;case rt:return n=Tn(19,a,s,d),n.elementType=rt,n.lanes=g,n;case ze:return ju(a,d,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:w=10;break e;case V:w=9;break e;case M:w=11;break e;case Ot:w=14;break e;case Vt:w=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Tn(w,a,s,d),s.elementType=n,s.type=c,s.lanes=g,s}function cs(n,s,a,c){return n=Tn(7,n,c,s),n.lanes=a,n}function ju(n,s,a,c){return n=Tn(22,n,c,s),n.elementType=ze,n.lanes=a,n.stateNode={isHidden:!1},n}function Sd(n,s,a){return n=Tn(6,n,null,s),n.lanes=a,n}function xd(n,s,a){return s=Tn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function OE(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function kd(n,s,a,c,d,g,w,k,R){return n=new OE(n,s,a,k,R),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Tn(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fh(g),n}function VE(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function Vg(n){if(!n)return ti;n=n._reactInternals;e:{if(An(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Xt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Xt(a))return um(n,a,s)}return s}function Lg(n,s,a,c,d,g,w,k,R){return n=kd(a,c,!0,n,d,g,w,k,R),n.context=Vg(null),a=n.current,c=Kt(),d=li(a),g=Ar(c,d),g.callback=s??null,ii(a,g,d),n.current.lanes=d,Wr(n,d,c),en(n,c),n}function Fu(n,s,a,c){var d=s.current,g=Kt(),w=li(d);return a=Vg(a),s.context===null?s.context=a:s.pendingContext=a,s=Ar(g,w),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=ii(d,s,w),n!==null&&(Fn(n,d,w,g),gu(n,d,w)),w}function Uu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Mg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Ad(n,s){Mg(n,s),(n=n.alternate)&&Mg(n,s)}function LE(){return null}var jg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Cd(n){this._internalRoot=n}zu.prototype.render=Cd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Fu(n,s,null,null)},zu.prototype.unmount=Cd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;as(function(){Fu(null,n,null,null)}),s[Tr]=null}};function zu(n){this._internalRoot=n}zu.prototype.unstable_scheduleHydration=function(n){if(n){var s=zl();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Yn.length&&s!==0&&s<Yn[a].priority;a++);Yn.splice(a,0,n),a===0&&Hl(n)}};function Rd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Bu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Fg(){}function ME(n,s,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var H=Uu(w);g.call(H)}}var w=Lg(s,c,n,0,null,!1,!1,"",Fg);return n._reactRootContainer=w,n[Tr]=w.current,Ia(n.nodeType===8?n.parentNode:n),as(),w}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var k=c;c=function(){var H=Uu(R);k.call(H)}}var R=kd(n,0,!1,null,null,!1,!1,"",Fg);return n._reactRootContainer=R,n[Tr]=R.current,Ia(n.nodeType===8?n.parentNode:n),as(function(){Fu(s,R,a,c)}),R}function $u(n,s,a,c,d){var g=a._reactRootContainer;if(g){var w=g;if(typeof d=="function"){var k=d;d=function(){var R=Uu(w);k.call(R)}}Fu(s,w,n,d)}else w=ME(a,s,n,d,c);return Uu(w)}Fl=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Hr(s.pendingLanes);a!==0&&(Kr(s,a|1),en(s,He()),(Ve&6)===0&&(go=He()+500,ni()))}break;case 13:as(function(){var c=kr(n,1);if(c!==null){var d=Kt();Fn(c,n,1,d)}}),Ad(n,1)}},Us=function(n){if(n.tag===13){var s=kr(n,134217728);if(s!==null){var a=Kt();Fn(s,n,134217728,a)}Ad(n,134217728)}},Ul=function(n){if(n.tag===13){var s=li(n),a=kr(n,s);if(a!==null){var c=Kt();Fn(a,n,s,c)}Ad(n,s)}},zl=function(){return Ne},Bl=function(n,s){var a=Ne;try{return Ne=n,s()}finally{Ne=a}},Ns=function(n,s,a){switch(s){case"input":if(Go(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=ou(c);if(!d)throw Error(t(90));xs(c),Go(c,d)}}}break;case"textarea":Rs(n,a);break;case"select":s=a.value,s!=null&&pr(n,!!a.multiple,s,!1)}},zi=wd,ia=as;var jE={usingClientEntryPoint:!1,Events:[ka,no,ou,Gn,ra,wd]},Ua={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FE={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=aa(n),n===null?null:n.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||LE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Wi=Hu.inject(FE),sn=Hu}catch{}}return tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jE,tn.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rd(s))throw Error(t(200));return VE(n,s,null,a)},tn.createRoot=function(n,s){if(!Rd(n))throw Error(t(299));var a=!1,c="",d=jg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=kd(n,1,!1,null,null,a,!1,c,d),n[Tr]=s.current,Ia(n.nodeType===8?n.parentNode:n),new Cd(s)},tn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=aa(s),n=n===null?null:n.stateNode,n},tn.flushSync=function(n){return as(n)},tn.hydrate=function(n,s,a){if(!Bu(s))throw Error(t(200));return $u(null,n,s,!0,a)},tn.hydrateRoot=function(n,s,a){if(!Rd(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",w=jg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Lg(s,null,n,1,a??null,d,!1,g,w),n[Tr]=s.current,Ia(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new zu(s)},tn.render=function(n,s,a){if(!Bu(s))throw Error(t(200));return $u(null,n,s,!1,a)},tn.unmountComponentAtNode=function(n){if(!Bu(n))throw Error(t(40));return n._reactRootContainer?(as(function(){$u(null,null,n,!1,function(){n._reactRootContainer=null,n[Tr]=null})}),!0):!1},tn.unstable_batchedUpdates=wd,tn.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!Bu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return $u(n,s,a,!1,c)},tn.version="18.3.1-next-f1338f8080-20240426",tn}var Kg;function GE(){if(Kg)return Dd.exports;Kg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dd.exports=KE(),Dd.exports}var Gg;function QE(){if(Gg)return qu;Gg=1;var r=GE();return qu.createRoot=r.createRoot,qu.hydrateRoot=r.hydrateRoot,qu}var YE=QE(),Ba={},Qg;function XE(){if(Qg)return Ba;Qg=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.parse=h,Ba.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,b){const O=new l,$=T.length;if($<2)return O;const B=b?.decode||_;let q=0;do{const ne=T.indexOf("=",q);if(ne===-1)break;const K=T.indexOf(";",q),de=K===-1?$:K;if(ne>de){q=T.lastIndexOf(";",ne-1)+1;continue}const ee=f(T,q,ne),le=p(T,ne,ee),P=T.slice(ee,le);if(O[P]===void 0){let x=f(T,ne+1,de),A=p(T,de,x);const N=B(T.slice(x,A));O[P]=N}q=de+1}while(q<$);return O}function f(T,b,O){do{const $=T.charCodeAt(b);if($!==32&&$!==9)return b}while(++b<O);return O}function p(T,b,O){for(;b>O;){const $=T.charCodeAt(--b);if($!==32&&$!==9)return b+1}return O}function y(T,b,O){const $=O?.encode||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const B=$(b);if(!e.test(B))throw new TypeError(`argument val is invalid: ${b}`);let q=T+"="+B;if(!O)return q;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);q+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);q+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);q+="; Path="+O.path}if(O.expires){if(!S(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);q+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(q+="; HttpOnly"),O.secure&&(q+="; Secure"),O.partitioned&&(q+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return q}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function S(T){return o.call(T)==="[object Date]"}return Ba}XE();var Yg="popstate";function JE(r={}){function e(i,o){let{pathname:l,search:h,hash:f}=i.location;return Xd("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:nl(o)}return eT(e,t,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Bn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZE(){return Math.random().toString(36).substring(2,10)}function Xg(r,e){return{usr:r.state,key:r.key,idx:e}}function Xd(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Lo(e):e,state:t,key:e&&e.key||i||ZE()}}function nl({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Lo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function eT(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f="POP",p=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function S(){f="POP";let B=_(),q=B==null?null:B-y;y=B,p&&p({action:f,location:$.location,delta:q})}function T(B,q){f="PUSH";let ne=Xd($.location,B,q);y=_()+1;let K=Xg(ne,y),de=$.createHref(ne);try{h.pushState(K,"",de)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(de)}l&&p&&p({action:f,location:$.location,delta:1})}function b(B,q){f="REPLACE";let ne=Xd($.location,B,q);y=_();let K=Xg(ne,y),de=$.createHref(ne);h.replaceState(K,"",de),l&&p&&p({action:f,location:$.location,delta:0})}function O(B){return tT(B)}let $={get action(){return f},get location(){return r(o,h)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Yg,S),p=B,()=>{o.removeEventListener(Yg,S),p=null}},createHref(B){return e(o,B)},createURL:O,encodeLocation(B){let q=O(B);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:T,replace:b,go(B){return h.go(B)}};return $}function tT(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Je(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:nl(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Mv(r,e,t="/"){return nT(r,e,t,!1)}function nT(r,e,t,i){let o=typeof e=="string"?Lo(e):e,l=Or(o.pathname||"/",t);if(l==null)return null;let h=jv(r);rT(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=pT(l);f=dT(h[p],y,i)}return f}function jv(r,e=[],t=[],i=""){let o=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Dr([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(Je(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),jv(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:cT(y,l.index),routesMeta:_})};return r.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))o(l,h);else for(let f of Fv(l.path))o(l,h,f)}),e}function Fv(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=Fv(i.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function rT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:hT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var iT=/^:[\w-]+$/,sT=3,oT=2,aT=1,lT=10,uT=-2,Jg=r=>r==="*";function cT(r,e){let t=r.split("/"),i=t.length;return t.some(Jg)&&(i+=uT),e&&(i+=oT),t.filter(o=>!Jg(o)).reduce((o,l)=>o+(iT.test(l)?sT:l===""?aT:lT),i)}function hT(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function dT(r,e,t=!1){let{routesMeta:i}=r,o={},l="/",h=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",S=fc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),T=p.route;if(!S&&y&&t&&!i[i.length-1].route.index&&(S=fc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Dr([l,S.pathname]),pathnameBase:vT(Dr([l,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(l=Dr([l,S.pathnameBase]))}return h}function fc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=fT(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:S},T)=>{if(_==="*"){let O=f[T]||"";h=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const b=f[T];return S&&!b?y[_]=void 0:y[_]=(b||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function fT(r,e=!1,t=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function pT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Or(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function mT(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Lo(r):r;return{pathname:t?t.startsWith("/")?t:gT(t,e):e,search:_T(i),hash:wT(o)}}function gT(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Vd(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yT(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Of(r){let e=yT(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Vf(r,e,t,i=!1){let o;typeof r=="string"?o=Lo(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),Vd("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Vd("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Vd("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let S=e.length-1;if(!i&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),S-=1;o.pathname=T.join("/")}f=S>=0?e[S]:"/"}let p=mT(o,f),y=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var Dr=r=>r.join("/").replace(/\/\/+/g,"/"),vT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_T=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,wT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ET(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Uv=["POST","PUT","PATCH","DELETE"];new Set(Uv);var TT=["GET",...Uv];new Set(TT);var Mo=U.createContext(null);Mo.displayName="DataRouter";var Oc=U.createContext(null);Oc.displayName="DataRouterState";var zv=U.createContext({isTransitioning:!1});zv.displayName="ViewTransition";var IT=U.createContext(new Map);IT.displayName="Fetchers";var ST=U.createContext(null);ST.displayName="Await";var qn=U.createContext(null);qn.displayName="Navigation";var pl=U.createContext(null);pl.displayName="Location";var Wn=U.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var Lf=U.createContext(null);Lf.displayName="RouteError";function xT(r,{relative:e}={}){Je(jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(qn),{hash:o,pathname:l,search:h}=gl(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Dr([t,l])),i.createHref({pathname:f,search:h,hash:o})}function jo(){return U.useContext(pl)!=null}function Fr(){return Je(jo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(pl).location}var Bv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $v(r){U.useContext(qn).static||U.useLayoutEffect(r)}function ml(){let{isDataRoute:r}=U.useContext(Wn);return r?UT():kT()}function kT(){Je(jo(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Mo),{basename:e,navigator:t}=U.useContext(qn),{matches:i}=U.useContext(Wn),{pathname:o}=Fr(),l=JSON.stringify(Of(i)),h=U.useRef(!1);return $v(()=>{h.current=!0}),U.useCallback((p,y={})=>{if(Bn(h.current,Bv),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=Vf(p,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Dr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,r])}var AT=U.createContext(null);function CT(r){let e=U.useContext(Wn).outlet;return e&&U.createElement(AT.Provider,{value:r},e)}function gl(r,{relative:e}={}){let{matches:t}=U.useContext(Wn),{pathname:i}=Fr(),o=JSON.stringify(Of(t));return U.useMemo(()=>Vf(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function RT(r,e){return Hv(r,e)}function Hv(r,e,t,i){Je(jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(qn),{matches:l}=U.useContext(Wn),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let q=_&&_.path||"";qv(p,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let S=Fr(),T;if(e){let q=typeof e=="string"?Lo(e):e;Je(y==="/"||q.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${q.pathname}" was given in the \`location\` prop.`),T=q}else T=S;let b=T.pathname||"/",O=b;if(y!=="/"){let q=y.replace(/^\//,"").split("/");O="/"+b.replace(/^\//,"").split("/").slice(q.length).join("/")}let $=Mv(r,{pathname:O});Bn(_||$!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Bn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=OT($&&$.map(q=>Object.assign({},q,{params:Object.assign({},f,q.params),pathname:Dr([y,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:Dr([y,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,t,i);return e&&B?U.createElement(pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},B):B}function PT(){let r=FT(),e=ET(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,h)}var NT=U.createElement(PT,null),DT=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?U.createElement(Wn.Provider,{value:this.props.routeContext},U.createElement(Lf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bT({routeContext:r,match:e,children:t}){let i=U.useContext(Mo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Wn.Provider,{value:r},t)}function OT(r,e=[],t=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t?.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:S}=t,T=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||T){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let S,T=!1,b=null,O=null;t&&(S=l&&y.route.id?l[y.route.id]:void 0,b=y.route.errorElement||NT,h&&(f<0&&_===0?(qv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):f===_&&(T=!0,O=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,_+1)),B=()=>{let q;return S?q=b:T?q=O:y.route.Component?q=U.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,U.createElement(bT,{match:y,routeContext:{outlet:p,matches:$,isDataRoute:t!=null},children:q})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?U.createElement(DT,{location:t.location,revalidation:t.revalidation,component:b,error:S,children:B(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):B()},null)}function Mf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VT(r){let e=U.useContext(Mo);return Je(e,Mf(r)),e}function LT(r){let e=U.useContext(Oc);return Je(e,Mf(r)),e}function MT(r){let e=U.useContext(Wn);return Je(e,Mf(r)),e}function jf(r){let e=MT(r),t=e.matches[e.matches.length-1];return Je(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function jT(){return jf("useRouteId")}function FT(){let r=U.useContext(Lf),e=LT("useRouteError"),t=jf("useRouteError");return r!==void 0?r:e.errors?.[t]}function UT(){let{router:r}=VT("useNavigate"),e=jf("useNavigate"),t=U.useRef(!1);return $v(()=>{t.current=!0}),U.useCallback(async(o,l={})=>{Bn(t.current,Bv),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Zg={};function qv(r,e,t){!e&&!Zg[r]&&(Zg[r]=!0,Bn(!1,t))}U.memo(zT);function zT({routes:r,future:e,state:t}){return Hv(r,void 0,t,e)}function BT({to:r,replace:e,state:t,relative:i}){Je(jo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(qn);Bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=U.useContext(Wn),{pathname:h}=Fr(),f=ml(),p=Vf(r,Of(l),h,i==="path"),y=JSON.stringify(p);return U.useEffect(()=>{f(JSON.parse(y),{replace:e,state:t,relative:i})},[f,y,i,e,t]),null}function $T(r){return CT(r.context)}function fi(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HT({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){Je(!jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Lo(t));let{pathname:p="/",search:y="",hash:_="",state:S=null,key:T="default"}=t,b=U.useMemo(()=>{let O=Or(p,h);return O==null?null:{location:{pathname:O,search:y,hash:_,state:S,key:T},navigationType:i}},[h,p,y,_,S,T,i]);return Bn(b!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:U.createElement(qn.Provider,{value:f},U.createElement(pl.Provider,{children:e,value:b}))}function qT({children:r,location:e}){return RT(Jd(r),e)}function Jd(r,e=[]){let t=[];return U.Children.forEach(r,(i,o)=>{if(!U.isValidElement(i))return;let l=[...e,o];if(i.type===U.Fragment){t.push.apply(t,Jd(i.props.children,l));return}Je(i.type===fi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Jd(i.props.children,l)),t.push(h)}),t}var tc="get",nc="application/x-www-form-urlencoded";function Vc(r){return r!=null&&typeof r.tagName=="string"}function WT(r){return Vc(r)&&r.tagName.toLowerCase()==="button"}function KT(r){return Vc(r)&&r.tagName.toLowerCase()==="form"}function GT(r){return Vc(r)&&r.tagName.toLowerCase()==="input"}function QT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function YT(r,e){return r.button===0&&(!e||e==="_self")&&!QT(r)}var Wu=null;function XT(){if(Wu===null)try{new FormData(document.createElement("form"),0),Wu=!1}catch{Wu=!0}return Wu}var JT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ld(r){return r!=null&&!JT.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nc}"`),null):r}function ZT(r,e){let t,i,o,l,h;if(KT(r)){let f=r.getAttribute("action");i=f?Or(f,e):null,t=r.getAttribute("method")||tc,o=Ld(r.getAttribute("enctype"))||nc,l=new FormData(r)}else if(WT(r)||GT(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(i=p?Or(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||tc,o=Ld(r.getAttribute("formenctype"))||Ld(f.getAttribute("enctype"))||nc,l=new FormData(f,r),!XT()){let{name:y,type:_,value:S}=r;if(_==="image"){let T=y?`${y}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else y&&l.append(y,S)}}else{if(Vc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=tc,i=null,o=nc,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Ff(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function eI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function nI(r,e,t){let i=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await eI(l,t);return h.links?h.links():[]}return[]}));return oI(i.flat(1).filter(tI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ey(r,e,t,i,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>t[y].pathname!==p.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,y)=>h(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function rI(r,e,{includeHydrateFallback:t}={}){return iI(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function iI(r){return[...new Set(r)]}function sI(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function oI(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let l=JSON.stringify(sI(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aI=new Set([100,101,204,205]);function lI(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Or(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Wv(){let r=U.useContext(Mo);return Ff(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function uI(){let r=U.useContext(Oc);return Ff(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Uf=U.createContext(void 0);Uf.displayName="FrameworkContext";function Kv(){let r=U.useContext(Uf);return Ff(r,"You must render this element inside a <HydratedRouter> element"),r}function cI(r,e){let t=U.useContext(Uf),[i,o]=U.useState(!1),[l,h]=U.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:S}=e,T=U.useRef(null);U.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=q=>{q.forEach(ne=>{h(ne.isIntersecting)})},B=new IntersectionObserver($,{threshold:.5});return T.current&&B.observe(T.current),()=>{B.disconnect()}}},[r]),U.useEffect(()=>{if(i){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[i]);let b=()=>{o(!0)},O=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,T,{}]:[l,T,{onFocus:$a(f,b),onBlur:$a(p,O),onMouseEnter:$a(y,b),onMouseLeave:$a(_,O),onTouchStart:$a(S,b)}]:[!1,T,{}]}function $a(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function hI({page:r,...e}){let{router:t}=Wv(),i=U.useMemo(()=>Mv(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?U.createElement(fI,{page:r,matches:i,...e}):null}function dI(r){let{manifest:e,routeModules:t}=Kv(),[i,o]=U.useState([]);return U.useEffect(()=>{let l=!1;return nI(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),i}function fI({page:r,matches:e,...t}){let i=Fr(),{manifest:o,routeModules:l}=Kv(),{basename:h}=Wv(),{loaderData:f,matches:p}=uI(),y=U.useMemo(()=>ey(r,e,p,o,i,"data"),[r,e,p,o,i]),_=U.useMemo(()=>ey(r,e,p,o,i,"assets"),[r,e,p,o,i]),S=U.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let O=new Set,$=!1;if(e.forEach(q=>{let ne=o.routes[q.route.id];!ne||!ne.hasLoader||(!y.some(K=>K.route.id===q.route.id)&&q.route.id in f&&l[q.route.id]?.shouldRevalidate||ne.hasClientLoader?$=!0:O.add(q.route.id))}),O.size===0)return[];let B=lI(r,h);return $&&O.size>0&&B.searchParams.set("_routes",e.filter(q=>O.has(q.route.id)).map(q=>q.route.id).join(",")),[B.pathname+B.search]},[h,f,i,o,y,e,r,l]),T=U.useMemo(()=>rI(_,o),[_,o]),b=dI(_);return U.createElement(U.Fragment,null,S.map(O=>U.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),T.map(O=>U.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),b.map(({key:O,link:$})=>U.createElement("link",{key:O,...$})))}function pI(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Gv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gv&&(window.__reactRouterVersion="7.6.3")}catch{}function mI({basename:r,children:e,window:t}){let i=U.useRef();i.current==null&&(i.current=JE({window:t,v5Compat:!0}));let o=i.current,[l,h]=U.useState({action:o.action,location:o.location}),f=U.useCallback(p=>{U.startTransition(()=>h(p))},[h]);return U.useLayoutEffect(()=>o.listen(f),[o,f]),U.createElement(HT,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var Qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ro=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:_,viewTransition:S,...T},b){let{basename:O}=U.useContext(qn),$=typeof y=="string"&&Qv.test(y),B,q=!1;if(typeof y=="string"&&$&&(B=y,Gv))try{let A=new URL(window.location.href),N=y.startsWith("//")?new URL(A.protocol+y):new URL(y),V=Or(N.pathname,O);N.origin===A.origin&&V!=null?y=V+N.search+N.hash:q=!0}catch{Bn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=xT(y,{relative:o}),[K,de,ee]=cI(i,T),le=_I(y,{replace:h,state:f,target:p,preventScrollReset:_,relative:o,viewTransition:S});function P(A){e&&e(A),A.defaultPrevented||le(A)}let x=U.createElement("a",{...T,...ee,href:B||ne,onClick:q||l?e:P,ref:pI(b,de),target:p,"data-discover":!$&&t==="render"?"true":void 0});return K&&!$?U.createElement(U.Fragment,null,x,U.createElement(hI,{page:ne})):x});Ro.displayName="Link";var gI=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:f,children:p,...y},_){let S=gl(h,{relative:y.relative}),T=Fr(),b=U.useContext(Oc),{navigator:O,basename:$}=U.useContext(qn),B=b!=null&&SI(S)&&f===!0,q=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,ne=T.pathname,K=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),K=K?K.toLowerCase():null,q=q.toLowerCase()),K&&$&&(K=Or(K,$)||K);const de=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ee=ne===q||!o&&ne.startsWith(q)&&ne.charAt(de)==="/",le=K!=null&&(K===q||!o&&K.startsWith(q)&&K.charAt(q.length)==="/"),P={isActive:ee,isPending:le,isTransitioning:B},x=ee?e:void 0,A;typeof i=="function"?A=i(P):A=[i,ee?"active":null,le?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(P):l;return U.createElement(Ro,{...y,"aria-current":x,className:A,ref:_,style:N,to:h,viewTransition:f},typeof p=="function"?p(P):p)});gI.displayName="NavLink";var yI=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=tc,action:f,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:S,...T},b)=>{let O=TI(),$=II(f,{relative:y}),B=h.toLowerCase()==="get"?"get":"post",q=typeof f=="string"&&Qv.test(f),ne=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let de=K.nativeEvent.submitter,ee=de?.getAttribute("formmethod")||h;O(de||K.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:S})};return U.createElement("form",{ref:b,method:B,action:$,onSubmit:i?p:ne,...T,"data-discover":!q&&r==="render"?"true":void 0})});yI.displayName="Form";function vI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yv(r){let e=U.useContext(Mo);return Je(e,vI(r)),e}function _I(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=ml(),p=Fr(),y=gl(r,{relative:l});return U.useCallback(_=>{if(YT(_,e)){_.preventDefault();let S=t!==void 0?t:nl(p)===nl(y);f(r,{replace:S,state:i,preventScrollReset:o,relative:l,viewTransition:h})}},[p,f,y,t,i,e,r,o,l,h])}var wI=0,EI=()=>`__${String(++wI)}__`;function TI(){let{router:r}=Yv("useSubmit"),{basename:e}=U.useContext(qn),t=jT();return U.useCallback(async(i,o={})=>{let{action:l,method:h,encType:f,formData:p,body:y}=ZT(i,e);if(o.navigate===!1){let _=o.fetcherKey||EI();await r.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function II(r,{relative:e}={}){let{basename:t}=U.useContext(qn),i=U.useContext(Wn);Je(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...gl(r||".",{relative:e})},h=Fr();if(r==null){l.search=h.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(S=>S).forEach(S=>f.append("index",S));let _=f.toString();l.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Dr([t,l.pathname])),nl(l)}function SI(r,e={}){let t=U.useContext(zv);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Yv("useViewTransitionState"),o=gl(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Or(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Or(t.nextLocation.pathname,i)||t.nextLocation.pathname;return fc(o.pathname,h)!=null||fc(o.pathname,l)!=null}[...aI];const xI=()=>{};var ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},kI=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,_=l>>2,S=(l&3)<<4|f>>4;let T=(f&15)<<2|y>>6,b=y&63;p||(b=64,h||(T=64)),i.push(t[_],t[S],t[T],t[b])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Xv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):kI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||y==null||S==null)throw new AI;const T=l<<2|f>>4;if(i.push(T),y!==64){const b=f<<4&240|y>>2;if(i.push(b),S!==64){const O=y<<6&192|S;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CI=function(r){const e=Xv(r);return Jv.encodeByteArray(e,!0)},pc=function(r){return CI(r).replace(/\./g,"")},Zv=function(r){try{return Jv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=()=>RI().__FIREBASE_DEFAULTS__,NI=()=>{if(typeof process>"u"||typeof ty>"u")return;const r=ty.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Zv(r[1]);return e&&JSON.parse(e)},Lc=()=>{try{return xI()||PI()||NI()||DI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},e_=r=>{var e,t;return(t=(e=Lc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},bI=r=>{const e=e_(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},t_=()=>{var r;return(r=Lc())===null||r===void 0?void 0:r.config},n_=r=>{var e;return(e=Lc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[pc(JSON.stringify(t)),pc(JSON.stringify(h)),""].join(".")}const Ya={};function LI(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ya))Ya[e]?r.emulator.push(e):r.prod.push(e);return r}function MI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let ny=!1;function i_(r,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||Ya[r]===e||Ya[r]||ny)return;Ya[r]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=LI().prod.length>0;function h(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,b){T.setAttribute("width","24"),T.setAttribute("id",b),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{ny=!0,h()},T}function _(T,b){T.setAttribute("id",b),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function S(){const T=MI(i),b=t("text"),O=document.getElementById(b)||document.createElement("span"),$=t("learnmore"),B=document.getElementById($)||document.createElement("a"),q=t("preprendIcon"),ne=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;f(K),_(B,$);const de=y();p(ne,q),K.append(ne,O,B,de),document.body.appendChild(K)}l?(O.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function FI(){var r;const e=(r=Lc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function BI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $I(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function HI(){return!FI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qI(){try{return typeof indexedDB=="object"}catch{return!1}}function WI(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="FirebaseError";class Ur extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=KI,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?GI(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Ur(o,f,i)}}function GI(r,e){return r.replace(QI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const QI=/\{\$([^}]+)}/g;function YI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ps(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(ry(l)&&ry(h)){if(!ps(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ry(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ha(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function qa(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function XI(r,e){const t=new JI(r,e);return t.subscribe.bind(t)}class JI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ZI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(r){return r&&r._delegate?r._delegate:r}class ms{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new OI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n1(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:t1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t1(r){return r===hs?void 0:r}function n1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new e1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Re||(Re={}));const i1={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},s1=Re.INFO,o1={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},a1=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=o1[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zf{constructor(e){this.name=e,this._logLevel=s1,this._logHandler=a1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const l1=(r,e)=>e.some(t=>r instanceof t);let iy,sy;function u1(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c1(){return sy||(sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s_=new WeakMap,Zd=new WeakMap,o_=new WeakMap,jd=new WeakMap,Bf=new WeakMap;function h1(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(wi(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&s_.set(t,r)}).catch(()=>{}),Bf.set(e,r),e}function d1(r){if(Zd.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Zd.set(r,e)}let ef={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Zd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||o_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function f1(r){ef=r(ef)}function p1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Fd(this),e,...t);return o_.set(i,e.sort?e.sort():[e]),wi(i)}:c1().includes(r)?function(...e){return r.apply(Fd(this),e),wi(s_.get(this))}:function(...e){return wi(r.apply(Fd(this),e))}}function m1(r){return typeof r=="function"?p1(r):(r instanceof IDBTransaction&&d1(r),l1(r,u1())?new Proxy(r,ef):r)}function wi(r){if(r instanceof IDBRequest)return h1(r);if(jd.has(r))return jd.get(r);const e=m1(r);return e!==r&&(jd.set(r,e),Bf.set(e,r)),e}const Fd=r=>Bf.get(r);function g1(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=wi(h);return i&&h.addEventListener("upgradeneeded",p=>{i(wi(h.result),p.oldVersion,p.newVersion,wi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const y1=["get","getKey","getAll","getAllKeys","count"],v1=["put","add","delete","clear"],Ud=new Map;function oy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=v1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||y1.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Ud.set(e,l),l}f1(r=>({...r,get:(e,t,i)=>oy(e,t)||r.get(e,t,i),has:(e,t)=>!!oy(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(w1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function w1(r){const e=r.getComponent();return e?.type==="VERSION"}const tf="@firebase/app",ay="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new zf("@firebase/app"),E1="@firebase/app-compat",T1="@firebase/analytics-compat",I1="@firebase/analytics",S1="@firebase/app-check-compat",x1="@firebase/app-check",k1="@firebase/auth",A1="@firebase/auth-compat",C1="@firebase/database",R1="@firebase/data-connect",P1="@firebase/database-compat",N1="@firebase/functions",D1="@firebase/functions-compat",b1="@firebase/installations",O1="@firebase/installations-compat",V1="@firebase/messaging",L1="@firebase/messaging-compat",M1="@firebase/performance",j1="@firebase/performance-compat",F1="@firebase/remote-config",U1="@firebase/remote-config-compat",z1="@firebase/storage",B1="@firebase/storage-compat",$1="@firebase/firestore",H1="@firebase/ai",q1="@firebase/firestore-compat",W1="firebase",K1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="[DEFAULT]",G1={[tf]:"fire-core",[E1]:"fire-core-compat",[I1]:"fire-analytics",[T1]:"fire-analytics-compat",[x1]:"fire-app-check",[S1]:"fire-app-check-compat",[k1]:"fire-auth",[A1]:"fire-auth-compat",[C1]:"fire-rtdb",[R1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[N1]:"fire-fn",[D1]:"fire-fn-compat",[b1]:"fire-iid",[O1]:"fire-iid-compat",[V1]:"fire-fcm",[L1]:"fire-fcm-compat",[M1]:"fire-perf",[j1]:"fire-perf-compat",[F1]:"fire-rc",[U1]:"fire-rc-compat",[z1]:"fire-gcs",[B1]:"fire-gcs-compat",[$1]:"fire-fst",[q1]:"fire-fst-compat",[H1]:"fire-vertex","fire-js":"fire-js",[W1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,Q1=new Map,rf=new Map;function ly(r,e){try{r.container.addComponent(e)}catch(t){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Po(r){const e=r.name;if(rf.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;rf.set(e,r);for(const t of mc.values())ly(t,r);for(const t of Q1.values())ly(t,r);return!0}function $f(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function In(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new yl("app","Firebase",Y1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=K1;function a_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:nf,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Ei.create("bad-app-name",{appName:String(o)});if(t||(t=t_()),!t)throw Ei.create("no-options");const l=mc.get(o);if(l){if(ps(t,l.options)&&ps(i,l.config))return l;throw Ei.create("duplicate-app",{appName:o})}const h=new r1(o);for(const p of rf.values())h.addComponent(p);const f=new X1(t,i,h);return mc.set(o,f),f}function l_(r=nf){const e=mc.get(r);if(!e&&r===nf&&t_())return a_();if(!e)throw Ei.create("no-app",{appName:r});return e}function Ti(r,e,t){var i;let o=(i=G1[r])!==null&&i!==void 0?i:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(f.join(" "));return}Po(new ms(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firebase-heartbeat-database",Z1=1,rl="firebase-heartbeat-store";let zd=null;function u_(){return zd||(zd=g1(J1,Z1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(rl)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ei.create("idb-open",{originalErrorMessage:r.message})})),zd}async function eS(r){try{const t=(await u_()).transaction(rl),i=await t.objectStore(rl).get(c_(r));return await t.done,i}catch(e){if(e instanceof Ur)Vr.warn(e.message);else{const t=Ei.create("idb-get",{originalErrorMessage:e?.message});Vr.warn(t.message)}}}async function uy(r,e){try{const i=(await u_()).transaction(rl,"readwrite");await i.objectStore(rl).put(e,c_(r)),await i.done}catch(t){if(t instanceof Ur)Vr.warn(t.message);else{const i=Ei.create("idb-set",{originalErrorMessage:t?.message});Vr.warn(i.message)}}}function c_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=1024,nS=30;class rS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new sS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=cy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>nS){const h=oS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Vr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cy(),{heartbeatsToSend:i,unsentEntries:o}=iS(this._heartbeatsCache.heartbeats),l=pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Vr.warn(t),""}}}function cy(){return new Date().toISOString().substring(0,10)}function iS(r,e=tS){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),hy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),hy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class sS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qI()?WI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eS(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return uy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hy(r){return pc(JSON.stringify({version:2,heartbeats:r})).length}function oS(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(r){Po(new ms("platform-logger",e=>new _1(e),"PRIVATE")),Po(new ms("heartbeat",e=>new rS(e),"PRIVATE")),Ti(tf,ay,r),Ti(tf,ay,"esm2017"),Ti("fire-js","")}aS("");function Hf(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function h_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lS=h_,d_=new yl("auth","Firebase",h_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new zf("@firebase/auth");function uS(r,...e){gc.logLevel<=Re.WARN&&gc.warn(`Auth (${Uo}): ${r}`,...e)}function rc(r,...e){gc.logLevel<=Re.ERROR&&gc.error(`Auth (${Uo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,...e){throw qf(r,...e)}function sr(r,...e){return qf(r,...e)}function f_(r,e,t){const i=Object.assign(Object.assign({},lS()),{[e]:t});return new yl("auth","Firebase",i).create(e,{appName:r.name})}function br(r){return f_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qf(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return d_.create(r,...e)}function we(r,e,...t){if(!r)throw qf(e,...t)}function Pr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw rc(e),new Error(e)}function Lr(r,e){r||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function cS(){return dy()==="http:"||dy()==="https:"}function dy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cS()||zI()||"connection"in navigator)?navigator.onLine:!0}function dS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t){this.shortDelay=e,this.longDelay=t,Lr(t>e,"Short delay should be less than long delay!"),this.isMobile=jI()||BI()}get(){return hS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(r,e){Lr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mS=new _l(3e4,6e4);function bi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Oi(r,e,t,i,o={}){return m_(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=vl(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},l);return UI()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Fo(r.emulatorConfig.host)&&(y.credentials="include"),p_.fetch()(await g_(r,r.config.apiHost,t,f),y)})}async function m_(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},fS),e);try{const o=new yS(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Ku(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Ku(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Ku(r,"user-disabled",h);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw f_(r,_,y);$n(r,_)}}catch(o){if(o instanceof Ur)throw o;$n(r,"network-request-failed",{message:String(o)})}}async function wl(r,e,t,i,o={}){const l=await Oi(r,e,t,i,o);return"mfaPendingCredential"in l&&$n(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function g_(r,e,t,i){const o=`${e}${t}?${i}`,l=r,h=l.config.emulator?Wf(r.config,o):`${r.config.apiScheme}://${o}`;return pS.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function gS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(sr(this.auth,"network-request-failed")),mS.get())})}}function Ku(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=sr(r,e,i);return o.customData._tokenResponse=t,o}function fy(r){return r!==void 0&&r.enterprise!==void 0}class vS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _S(r,e){return Oi(r,"GET","/v2/recaptchaConfig",bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(r,e){return Oi(r,"POST","/v1/accounts:delete",e)}async function yc(r,e){return Oi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ES(r,e=!1){const t=xt(r),i=await t.getIdToken(e),o=Kf(i);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:i,authTime:Xa(Bd(o.auth_time)),issuedAtTime:Xa(Bd(o.iat)),expirationTime:Xa(Bd(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Kf(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return rc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Zv(t);return o?JSON.parse(o):(rc("Failed to decode base64 JWT payload"),null)}catch(o){return rc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function py(r){const e=Kf(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ur&&TS(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function TS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(r){var e;const t=r.auth,i=await r.getIdToken(),o=await il(r,yc(t,{idToken:i}));we(o?.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?y_(l.providerUserInfo):[],f=xS(r.providerData,h),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!f?.length,_=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new of(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,S)}async function SS(r){const e=xt(r);await vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xS(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function y_(r){return r.map(e=>{var{providerId:t}=e,i=Hf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(r,e){const t=await m_(r,{},async()=>{const i=vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await g_(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return r.emulatorConfig&&Fo(r.emulatorConfig.host)&&(p.credentials="include"),p_.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AS(r,e){return Oi(r,"POST","/v2/accounts:revokeToken",bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):py(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=py(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await kS(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new Io;return i&&(we(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(we(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Un{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Hf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new of(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await il(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ES(this,e)}reload(){return SS(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await vc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await il(this,wS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,f,p,y,_;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,b=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(f=t.tenantId)!==null&&f!==void 0?f:void 0,B=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(y=t.createdAt)!==null&&y!==void 0?y:void 0,ne=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:K,emailVerified:de,isAnonymous:ee,providerData:le,stsTokenManager:P}=t;we(K&&P,e,"internal-error");const x=Io.fromJSON(this.name,P);we(typeof K=="string",e,"internal-error"),di(S,e.name),di(T,e.name),we(typeof de=="boolean",e,"internal-error"),we(typeof ee=="boolean",e,"internal-error"),di(b,e.name),di(O,e.name),di($,e.name),di(B,e.name),di(q,e.name),di(ne,e.name);const A=new Un({uid:K,auth:e,email:T,emailVerified:de,displayName:S,isAnonymous:ee,photoURL:O,phoneNumber:b,tenantId:$,stsTokenManager:x,createdAt:q,lastLoginAt:ne});return le&&Array.isArray(le)&&(A.providerData=le.map(N=>Object.assign({},N))),B&&(A._redirectEventId=B),A}static async _fromIdTokenResponse(e,t,i=!1){const o=new Io;o.updateFromServerResponse(t);const l=new Un({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await vc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];we(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?y_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,f=new Io;f.updateFromIdToken(i);const p=new Un({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new of(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=new Map;function Nr(r){Lr(r instanceof Function,"Expected a class definition");let e=my.get(r);return e?(Lr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,my.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}v_.type="NONE";const gy=v_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(r,e,t){return`firebase:${r}:${e}:${t}`}class So{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=ic(this.userKey,o.apiKey,l),this.fullPersistenceKey=ic("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yc(this.auth,{idToken:e}).catch(()=>{});return t?Un._fromGetAccountInfoResponse(this.auth,t,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new So(Nr(gy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Nr(gy);const h=ic(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const _=await y._get(h);if(_){let S;if(typeof _=="string"){const T=await yc(e,{idToken:_}).catch(()=>{});if(!T)break;S=await Un._fromGetAccountInfoResponse(e,T,_)}else S=Un._fromJSON(e,_);y!==l&&(f=S),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new So(l,e,i):(l=p[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new So(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(__(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S_(e))return"Blackberry";if(x_(e))return"Webos";if(w_(e))return"Safari";if((e.includes("chrome/")||E_(e))&&!e.includes("edge/"))return"Chrome";if(I_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function __(r=$t()){return/firefox\//i.test(r)}function w_(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E_(r=$t()){return/crios\//i.test(r)}function T_(r=$t()){return/iemobile/i.test(r)}function I_(r=$t()){return/android/i.test(r)}function S_(r=$t()){return/blackberry/i.test(r)}function x_(r=$t()){return/webos/i.test(r)}function Gf(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function CS(r=$t()){var e;return Gf(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RS(){return $I()&&document.documentMode===10}function k_(r=$t()){return Gf(r)||I_(r)||x_(r)||S_(r)||/windows phone/i.test(r)||T_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(r,e=[]){let t;switch(r){case"Browser":t=yy($t());break;case"Worker":t=`${yy($t())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Uo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const p=e(l);h(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(r,e={}){return Oi(r,"GET","/v2/passwordPolicy",bi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=6;class bS{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:DS,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vy(this),this.idTokenSubscription=new vy(this),this.beforeStateQueue=new PS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nr(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yc(this,{idToken:e}),i=await Un._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(In(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&p?.user&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(br(this));const t=e?xt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NS(this),t=new bS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await AS(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&uS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Es(r){return xt(r)}class vy{constructor(e){this.auth=e,this.observer=null,this.addObserver=XI(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VS(r){Mc=r}function C_(r){return Mc.loadJS(r)}function LS(){return Mc.recaptchaEnterpriseScript}function MS(){return Mc.gapiScript}function jS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class FS{constructor(){this.enterprise=new US}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class US{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zS="recaptcha-enterprise",R_="NO_RECAPTCHA";class BS{constructor(e){this.type=zS,this.auth=Es(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{_S(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new vS(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,h(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,h,f){const p=window.grecaptcha;fy(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{h(y)}).catch(()=>{h(R_)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FS().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{i(this.auth).then(f=>{if(!t&&fy(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=LS();p.length!==0&&(p+=f),C_(p).then(()=>{o(f,l,h)}).catch(y=>{h(y)})}}).catch(f=>{h(f)})})}}async function _y(r,e,t,i=!1,o=!1){const l=new BS(r);let h;if(o)h=R_;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function af(r,e,t,i,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await _y(r,e,t,t==="getOobCode");return i(r,h)}else return i(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await _y(r,e,t,t==="getOobCode");return i(r,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(r,e){const t=$f(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ps(l,e??{}))return o;$n(o,"already-initialized")}return t.initialize({options:e})}function HS(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Nr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function qS(r,e,t){const i=Es(r);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=P_(e),{host:h,port:f}=WS(e),p=f===null?"":`:${f}`,y={url:`${l}//${h}${p}/`},_=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(ps(y,i.config.emulator)&&ps(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Fo(h)?(r_(`${l}//${h}${p}`),i_("Auth",!0)):KS()}function P_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function WS(r){const e=P_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:wy(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:wy(h)}}}function wy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function KS(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,t){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}async function GS(r,e){return Oi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(r,e){return wl(r,"POST","/v1/accounts:signInWithPassword",bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(r,e){return wl(r,"POST","/v1/accounts:signInWithEmailLink",bi(r,e))}async function XS(r,e){return wl(r,"POST","/v1/accounts:signInWithEmailLink",bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Qf{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new sl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new sl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return af(e,t,"signInWithPassword",QS);case"emailLink":return YS(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return af(e,i,"signUpPassword",GS);case"emailLink":return XS(e,{idToken:t,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(r,e){return wl(r,"POST","/v1/accounts:signInWithIdp",bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="http://localhost";class gs extends Qf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$n("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Hf(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new gs(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return xo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,xo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}buildRequest(){const e={requestUri:JS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ex(r){const e=Ha(qa(r)).link,t=e?Ha(qa(e)).deep_link_id:null,i=Ha(qa(r)).deep_link_id;return(i?Ha(qa(i)).link:null)||i||t||e||r}class Yf{constructor(e){var t,i,o,l,h,f;const p=Ha(qa(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,S=ZS((o=p.mode)!==null&&o!==void 0?o:null);we(y&&_&&S,"argument-error"),this.apiKey=y,this.operation=S,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=ex(e);try{return new Yf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,t){return sl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Yf.parseLink(t);return we(i,"argument-error"),sl._fromEmailAndCode(e,i.code,i.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends N_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends El{constructor(){super("facebook.com")}static credential(e){return gs._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends El{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gs._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return mi.credential(t,i)}catch{return null}}}mi.GOOGLE_SIGN_IN_METHOD="google.com";mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends El{constructor(){super("github.com")}static credential(e){return gs._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends El{constructor(){super("twitter.com")}static credential(e,t){return gs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return yi.credential(t,i)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(r,e){return wl(r,"POST","/v1/accounts:signUp",bi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Un._fromIdTokenResponse(e,i,o),h=Ey(i);return new ys({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Ey(i);return new ys({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Ey(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends Ur{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,_c.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new _c(e,t,i,o)}}function D_(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?_c._fromErrorAndOperation(r,l,e,i):l})}async function nx(r,e,t=!1){const i=await il(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ys._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(r,e,t=!1){const{auth:i}=r;if(In(i.app))return Promise.reject(br(i));const o="reauthenticate";try{const l=await il(r,D_(i,o,e,r),t);we(l.idToken,i,"internal-error");const h=Kf(l.idToken);we(h,i,"internal-error");const{sub:f}=h;return we(r.uid===f,i,"user-mismatch"),ys._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&$n(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b_(r,e,t=!1){if(In(r.app))return Promise.reject(br(r));const i="signIn",o=await D_(r,i,e),l=await ys._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}async function ix(r,e){return b_(Es(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O_(r){const e=Es(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sx(r,e,t){if(In(r.app))return Promise.reject(br(r));const i=Es(r),h=await af(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&O_(r),p}),f=await ys._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(f.user),f}function ox(r,e,t){return In(r.app)?Promise.reject(br(r)):ix(xt(r),zo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&O_(r),i})}function ax(r,e,t,i){return xt(r).onIdTokenChanged(e,t,i)}function lx(r,e,t){return xt(r).beforeAuthStateChanged(e,t)}function ux(r,e,t,i){return xt(r).onAuthStateChanged(e,t,i)}function cx(r){return xt(r).signOut()}const wc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wc,"1"),this.storage.removeItem(wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=1e3,dx=10;class L_ extends V_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);RS()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,dx):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},hx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}L_.type="LOCAL";const fx=L_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_ extends V_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}M_.type="SESSION";const j_=M_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new jc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),p=await px(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,p)=>{const y=Xf("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(S){const T=S;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function gx(r){or().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function yx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vx(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function _x(){return F_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="firebaseLocalStorageDb",wx=1,Ec="firebaseLocalStorage",z_="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fc(r,e){return r.transaction([Ec],e?"readwrite":"readonly").objectStore(Ec)}function Ex(){const r=indexedDB.deleteDatabase(U_);return new Tl(r).toPromise()}function lf(){const r=indexedDB.open(U_,wx);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Ec,{keyPath:z_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Ec)?e(i):(i.close(),await Ex(),e(await lf()))})})}async function Ty(r,e,t){const i=Fc(r,!0).put({[z_]:e,value:t});return new Tl(i).toPromise()}async function Tx(r,e){const t=Fc(r,!1).get(e),i=await new Tl(t).toPromise();return i===void 0?null:i.value}function Iy(r,e){const t=Fc(r,!0).delete(e);return new Tl(t).toPromise()}const Ix=800,Sx=3;class B_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Sx)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jc._getInstance(_x()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await yx(),!this.activeServiceWorker)return;this.sender=new mx(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lf();return await Ty(e,wc,"1"),await Iy(e,wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ty(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Tx(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Iy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Fc(o,!1).getAll();return new Tl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ix)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B_.type="LOCAL";const xx=B_;new _l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(r,e){return e?Nr(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf extends Qf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ax(r){return b_(r.auth,new Jf(r),r.bypassAuthState)}function Cx(r){const{auth:e,user:t}=r;return we(t,e,"internal-error"),rx(t,new Jf(r),r.bypassAuthState)}async function Rx(r){const{auth:e,user:t}=r;return we(t,e,"internal-error"),nx(t,new Jf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ax;case"linkViaPopup":case"linkViaRedirect":return Rx;case"reauthViaPopup":case"reauthViaRedirect":return Cx;default:$n(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new _l(2e3,1e4);class To extends $_{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=Xf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Px.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="pendingRedirect",sc=new Map;class Dx extends $_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=sc.get(this.auth._key());if(!e){try{const i=await bx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}sc.set(this.auth._key(),e)}return this.bypassAuthState||sc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bx(r,e){const t=Lx(e),i=Vx(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function Ox(r,e){sc.set(r._key(),e)}function Vx(r){return Nr(r._redirectPersistence)}function Lx(r){return ic(Nx,r.config.apiKey,r.name)}async function Mx(r,e,t=!1){if(In(r.app))return Promise.reject(br(r));const i=Es(r),o=kx(i,e),h=await new Dx(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=10*60*1e3;class Fx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ux(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!H_(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(sr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sy(e))}saveEventToCache(e){this.cachedEventUids.add(Sy(e)),this.lastProcessedEventTime=Date.now()}}function Sy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function H_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Ux(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(r,e={}){return Oi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$x=/^https?/;async function Hx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await zx(r);for(const t of e)try{if(qx(t))return}catch{}$n(r,"unauthorized-domain")}function qx(r){const e=sf(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!$x.test(t))return!1;if(Bx.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new _l(3e4,6e4);function xy(){const r=or().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function Kx(r){return new Promise((e,t)=>{var i,o,l;function h(){xy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xy(),t(sr(r,"network-request-failed"))},timeout:Wx.get()})}if(!((o=(i=or().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=or().gapi)===null||l===void 0)&&l.load)h();else{const f=jS("iframefcb");return or()[f]=()=>{gapi.load?h():t(sr(r,"network-request-failed"))},C_(`${MS()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw oc=null,e})}let oc=null;function Gx(r){return oc=oc||Kx(r),oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new _l(5e3,15e3),Yx="__/auth/iframe",Xx="emulator/auth/iframe",Jx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ek(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Wf(e,Xx):`https://${r.config.authDomain}/${Yx}`,i={apiKey:e.apiKey,appName:r.name,v:Uo},o=Zx.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${vl(i).slice(1)}`}async function tk(r){const e=await Gx(r),t=or().gapi;return we(t,r,"internal-error"),e.open({where:document.body,url:ek(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jx,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=sr(r,"network-request-failed"),f=or().setTimeout(()=>{l(h)},Qx.get());function p(){or().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rk=500,ik=600,sk="_blank",ok="http://localhost";class ky{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ak(r,e,t,i=rk,o=ik){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},nk),{width:i.toString(),height:o.toString(),top:l,left:h}),y=$t().toLowerCase();t&&(f=E_(y)?sk:t),__(y)&&(e=e||ok,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[b,O])=>`${T}${b}=${O},`,"");if(CS(y)&&f!=="_self")return lk(e||"",f),new ky(null);const S=window.open(e||"",f,_);we(S,r,"popup-blocked");try{S.focus()}catch{}return new ky(S)}function lk(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="__/auth/handler",ck="emulator/auth/handler",hk=encodeURIComponent("fac");async function Ay(r,e,t,i,o,l){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Uo,eventId:o};if(e instanceof N_){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",YI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,S]of Object.entries({}))h[_]=S}if(e instanceof El){const _=e.getScopes().filter(S=>S!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await r._getAppCheckToken(),y=p?`#${hk}=${encodeURIComponent(p)}`:"";return`${dk(r)}?${vl(f).slice(1)}${y}`}function dk({config:r}){return r.emulator?Wf(r,ck):`https://${r.authDomain}/${uk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="webStorageSupport";class fk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j_,this._completeRedirectFn=Mx,this._overrideRedirectResult=Ox}async _openPopup(e,t,i,o){var l;Lr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Ay(e,t,i,sf(),o);return ak(e,h,Xf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Ay(e,t,i,sf(),o);return gx(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Lr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await tk(e),i=new Fx(e);return t.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($d,{type:$d},o=>{var l;const h=(l=o?.[0])===null||l===void 0?void 0:l[$d];h!==void 0&&t(!!h),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Hx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return k_()||w_()||Gf()}}const pk=fk;var Cy="@firebase/auth",Ry="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yk(r){Po(new ms("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A_(r)},y=new OS(i,o,l,p);return HS(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Po(new ms("auth-internal",e=>{const t=Es(e.getProvider("auth").getImmediate());return(i=>new mk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(Cy,Ry,gk(r)),Ti(Cy,Ry,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=5*60,_k=n_("authIdTokenMaxAge")||vk;let Py=null;const wk=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>_k)return;const o=t?.token;Py!==o&&(Py=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ek(r=l_()){const e=$f(r,"auth");if(e.isInitialized())return e.getImmediate();const t=$S(r,{popupRedirectResolver:pk,persistence:[xx,fx,j_]}),i=n_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=wk(l.toString());lx(t,h,()=>h(t.currentUser)),ax(t,f=>h(f))}}const o=e_("auth");return o&&qS(t,`http://${o}`),t}function Tk(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}VS({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=sr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",Tk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yk("Browser");var Ik="firebase",Sk="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(Ik,Sk,"app");var Ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,q_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function A(){}A.prototype=x.prototype,P.D=x.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(N,V,M){for(var C=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)C[rt-2]=arguments[rt];return x.prototype[V].apply(N,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,x,A){A||(A=0);var N=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)N[V]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(V=0;16>V;++V)N[V]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=P.g[0],A=P.g[1],V=P.g[2];var M=P.g[3],C=x+(M^A&(V^M))+N[0]+3614090360&4294967295;x=A+(C<<7&4294967295|C>>>25),C=M+(V^x&(A^V))+N[1]+3905402710&4294967295,M=x+(C<<12&4294967295|C>>>20),C=V+(A^M&(x^A))+N[2]+606105819&4294967295,V=M+(C<<17&4294967295|C>>>15),C=A+(x^V&(M^x))+N[3]+3250441966&4294967295,A=V+(C<<22&4294967295|C>>>10),C=x+(M^A&(V^M))+N[4]+4118548399&4294967295,x=A+(C<<7&4294967295|C>>>25),C=M+(V^x&(A^V))+N[5]+1200080426&4294967295,M=x+(C<<12&4294967295|C>>>20),C=V+(A^M&(x^A))+N[6]+2821735955&4294967295,V=M+(C<<17&4294967295|C>>>15),C=A+(x^V&(M^x))+N[7]+4249261313&4294967295,A=V+(C<<22&4294967295|C>>>10),C=x+(M^A&(V^M))+N[8]+1770035416&4294967295,x=A+(C<<7&4294967295|C>>>25),C=M+(V^x&(A^V))+N[9]+2336552879&4294967295,M=x+(C<<12&4294967295|C>>>20),C=V+(A^M&(x^A))+N[10]+4294925233&4294967295,V=M+(C<<17&4294967295|C>>>15),C=A+(x^V&(M^x))+N[11]+2304563134&4294967295,A=V+(C<<22&4294967295|C>>>10),C=x+(M^A&(V^M))+N[12]+1804603682&4294967295,x=A+(C<<7&4294967295|C>>>25),C=M+(V^x&(A^V))+N[13]+4254626195&4294967295,M=x+(C<<12&4294967295|C>>>20),C=V+(A^M&(x^A))+N[14]+2792965006&4294967295,V=M+(C<<17&4294967295|C>>>15),C=A+(x^V&(M^x))+N[15]+1236535329&4294967295,A=V+(C<<22&4294967295|C>>>10),C=x+(V^M&(A^V))+N[1]+4129170786&4294967295,x=A+(C<<5&4294967295|C>>>27),C=M+(A^V&(x^A))+N[6]+3225465664&4294967295,M=x+(C<<9&4294967295|C>>>23),C=V+(x^A&(M^x))+N[11]+643717713&4294967295,V=M+(C<<14&4294967295|C>>>18),C=A+(M^x&(V^M))+N[0]+3921069994&4294967295,A=V+(C<<20&4294967295|C>>>12),C=x+(V^M&(A^V))+N[5]+3593408605&4294967295,x=A+(C<<5&4294967295|C>>>27),C=M+(A^V&(x^A))+N[10]+38016083&4294967295,M=x+(C<<9&4294967295|C>>>23),C=V+(x^A&(M^x))+N[15]+3634488961&4294967295,V=M+(C<<14&4294967295|C>>>18),C=A+(M^x&(V^M))+N[4]+3889429448&4294967295,A=V+(C<<20&4294967295|C>>>12),C=x+(V^M&(A^V))+N[9]+568446438&4294967295,x=A+(C<<5&4294967295|C>>>27),C=M+(A^V&(x^A))+N[14]+3275163606&4294967295,M=x+(C<<9&4294967295|C>>>23),C=V+(x^A&(M^x))+N[3]+4107603335&4294967295,V=M+(C<<14&4294967295|C>>>18),C=A+(M^x&(V^M))+N[8]+1163531501&4294967295,A=V+(C<<20&4294967295|C>>>12),C=x+(V^M&(A^V))+N[13]+2850285829&4294967295,x=A+(C<<5&4294967295|C>>>27),C=M+(A^V&(x^A))+N[2]+4243563512&4294967295,M=x+(C<<9&4294967295|C>>>23),C=V+(x^A&(M^x))+N[7]+1735328473&4294967295,V=M+(C<<14&4294967295|C>>>18),C=A+(M^x&(V^M))+N[12]+2368359562&4294967295,A=V+(C<<20&4294967295|C>>>12),C=x+(A^V^M)+N[5]+4294588738&4294967295,x=A+(C<<4&4294967295|C>>>28),C=M+(x^A^V)+N[8]+2272392833&4294967295,M=x+(C<<11&4294967295|C>>>21),C=V+(M^x^A)+N[11]+1839030562&4294967295,V=M+(C<<16&4294967295|C>>>16),C=A+(V^M^x)+N[14]+4259657740&4294967295,A=V+(C<<23&4294967295|C>>>9),C=x+(A^V^M)+N[1]+2763975236&4294967295,x=A+(C<<4&4294967295|C>>>28),C=M+(x^A^V)+N[4]+1272893353&4294967295,M=x+(C<<11&4294967295|C>>>21),C=V+(M^x^A)+N[7]+4139469664&4294967295,V=M+(C<<16&4294967295|C>>>16),C=A+(V^M^x)+N[10]+3200236656&4294967295,A=V+(C<<23&4294967295|C>>>9),C=x+(A^V^M)+N[13]+681279174&4294967295,x=A+(C<<4&4294967295|C>>>28),C=M+(x^A^V)+N[0]+3936430074&4294967295,M=x+(C<<11&4294967295|C>>>21),C=V+(M^x^A)+N[3]+3572445317&4294967295,V=M+(C<<16&4294967295|C>>>16),C=A+(V^M^x)+N[6]+76029189&4294967295,A=V+(C<<23&4294967295|C>>>9),C=x+(A^V^M)+N[9]+3654602809&4294967295,x=A+(C<<4&4294967295|C>>>28),C=M+(x^A^V)+N[12]+3873151461&4294967295,M=x+(C<<11&4294967295|C>>>21),C=V+(M^x^A)+N[15]+530742520&4294967295,V=M+(C<<16&4294967295|C>>>16),C=A+(V^M^x)+N[2]+3299628645&4294967295,A=V+(C<<23&4294967295|C>>>9),C=x+(V^(A|~M))+N[0]+4096336452&4294967295,x=A+(C<<6&4294967295|C>>>26),C=M+(A^(x|~V))+N[7]+1126891415&4294967295,M=x+(C<<10&4294967295|C>>>22),C=V+(x^(M|~A))+N[14]+2878612391&4294967295,V=M+(C<<15&4294967295|C>>>17),C=A+(M^(V|~x))+N[5]+4237533241&4294967295,A=V+(C<<21&4294967295|C>>>11),C=x+(V^(A|~M))+N[12]+1700485571&4294967295,x=A+(C<<6&4294967295|C>>>26),C=M+(A^(x|~V))+N[3]+2399980690&4294967295,M=x+(C<<10&4294967295|C>>>22),C=V+(x^(M|~A))+N[10]+4293915773&4294967295,V=M+(C<<15&4294967295|C>>>17),C=A+(M^(V|~x))+N[1]+2240044497&4294967295,A=V+(C<<21&4294967295|C>>>11),C=x+(V^(A|~M))+N[8]+1873313359&4294967295,x=A+(C<<6&4294967295|C>>>26),C=M+(A^(x|~V))+N[15]+4264355552&4294967295,M=x+(C<<10&4294967295|C>>>22),C=V+(x^(M|~A))+N[6]+2734768916&4294967295,V=M+(C<<15&4294967295|C>>>17),C=A+(M^(V|~x))+N[13]+1309151649&4294967295,A=V+(C<<21&4294967295|C>>>11),C=x+(V^(A|~M))+N[4]+4149444226&4294967295,x=A+(C<<6&4294967295|C>>>26),C=M+(A^(x|~V))+N[11]+3174756917&4294967295,M=x+(C<<10&4294967295|C>>>22),C=V+(x^(M|~A))+N[2]+718787259&4294967295,V=M+(C<<15&4294967295|C>>>17),C=A+(M^(V|~x))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+M&4294967295}i.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var A=x-this.blockSize,N=this.B,V=this.h,M=0;M<x;){if(V==0)for(;M<=A;)o(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<x;)if(N[V++]=P.charCodeAt(M++),V==this.blockSize){o(this,N),V=0;break}}else for(;M<x;)if(N[V++]=P[M++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=x},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var A=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=A&255,A/=256;for(this.u(P),P=Array(16),x=A=0;4>x;++x)for(var N=0;32>N;N+=8)P[A++]=this.g[x]>>>N&255;return P};function l(P,x){var A=f;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=x(P)}function h(P,x){this.h=x;for(var A=[],N=!0,V=P.length-1;0<=V;V--){var M=P[V]|0;N&&M==x||(A[V]=M,N=!1)}this.g=A}var f={};function p(P){return-128<=P&&128>P?l(P,function(x){return new h([x|0],0>x?-1:0)}):new h([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return S;if(0>P)return B(y(-P));for(var x=[],A=1,N=0;P>=A;N++)x[N]=P/A|0,A*=4294967296;return new h(x,0)}function _(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return B(_(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(x,8)),N=S,V=0;V<P.length;V+=8){var M=Math.min(8,P.length-V),C=parseInt(P.substring(V,V+M),x);8>M?(M=y(Math.pow(x,M)),N=N.j(M).add(y(C))):(N=N.j(A),N=N.add(y(C)))}return N}var S=p(0),T=p(1),b=p(16777216);r=h.prototype,r.m=function(){if($(this))return-B(this).m();for(var P=0,x=1,A=0;A<this.g.length;A++){var N=this.i(A);P+=(0<=N?N:4294967296+N)*x,x*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(O(this))return"0";if($(this))return"-"+B(this).toString(P);for(var x=y(Math.pow(P,6)),A=this,N="";;){var V=de(A,x).g;A=q(A,V.j(x));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=V,O(A))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function O(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function $(P){return P.h==-1}r.l=function(P){return P=q(this,P),$(P)?-1:O(P)?0:1};function B(P){for(var x=P.g.length,A=[],N=0;N<x;N++)A[N]=~P.g[N];return new h(A,~P.h).add(T)}r.abs=function(){return $(this)?B(this):this},r.add=function(P){for(var x=Math.max(this.g.length,P.g.length),A=[],N=0,V=0;V<=x;V++){var M=N+(this.i(V)&65535)+(P.i(V)&65535),C=(M>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);N=C>>>16,M&=65535,C&=65535,A[V]=C<<16|M}return new h(A,A[A.length-1]&-2147483648?-1:0)};function q(P,x){return P.add(B(x))}r.j=function(P){if(O(this)||O(P))return S;if($(this))return $(P)?B(this).j(B(P)):B(B(this).j(P));if($(P))return B(this.j(B(P)));if(0>this.l(b)&&0>P.l(b))return y(this.m()*P.m());for(var x=this.g.length+P.g.length,A=[],N=0;N<2*x;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<P.g.length;V++){var M=this.i(N)>>>16,C=this.i(N)&65535,rt=P.i(V)>>>16,Ot=P.i(V)&65535;A[2*N+2*V]+=C*Ot,ne(A,2*N+2*V),A[2*N+2*V+1]+=M*Ot,ne(A,2*N+2*V+1),A[2*N+2*V+1]+=C*rt,ne(A,2*N+2*V+1),A[2*N+2*V+2]+=M*rt,ne(A,2*N+2*V+2)}for(N=0;N<x;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=x;N<2*x;N++)A[N]=0;return new h(A,0)};function ne(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function K(P,x){this.g=P,this.h=x}function de(P,x){if(O(x))throw Error("division by zero");if(O(P))return new K(S,S);if($(P))return x=de(B(P),x),new K(B(x.g),B(x.h));if($(x))return x=de(P,B(x)),new K(B(x.g),x.h);if(30<P.g.length){if($(P)||$(x))throw Error("slowDivide_ only works with positive integers.");for(var A=T,N=x;0>=N.l(P);)A=ee(A),N=ee(N);var V=le(A,1),M=le(N,1);for(N=le(N,2),A=le(A,2);!O(N);){var C=M.add(N);0>=C.l(P)&&(V=V.add(A),M=C),N=le(N,1),A=le(A,1)}return x=q(P,V.j(x)),new K(V,x)}for(V=S;0<=P.l(x);){for(A=Math.max(1,Math.floor(P.m()/x.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=y(A),C=M.j(x);$(C)||0<C.l(P);)A-=N,M=y(A),C=M.j(x);O(M)&&(M=T),V=V.add(M),P=q(P,C)}return new K(V,P)}r.A=function(P){return de(this,P).h},r.and=function(P){for(var x=Math.max(this.g.length,P.g.length),A=[],N=0;N<x;N++)A[N]=this.i(N)&P.i(N);return new h(A,this.h&P.h)},r.or=function(P){for(var x=Math.max(this.g.length,P.g.length),A=[],N=0;N<x;N++)A[N]=this.i(N)|P.i(N);return new h(A,this.h|P.h)},r.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),A=[],N=0;N<x;N++)A[N]=this.i(N)^P.i(N);return new h(A,this.h^P.h)};function ee(P){for(var x=P.g.length+1,A=[],N=0;N<x;N++)A[N]=P.i(N)<<1|P.i(N-1)>>>31;return new h(A,P.h)}function le(P,x){var A=x>>5;x%=32;for(var N=P.g.length-A,V=[],M=0;M<N;M++)V[M]=0<x?P.i(M+A)>>>x|P.i(M+A+1)<<32-x:P.i(M+A);return new h(V,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,q_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,Ii=h}).apply(typeof Ny<"u"?Ny:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W_,Wa,K_,ac,uf,G_,Q_,Y_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var j=u[I];if(!(j in v))break e;v=v[j]}u=u[u.length-1],I=v[u],m=m(I),m!=I&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,I=!1,j={next:function(){if(!I&&v<u.length){var W=v++;return{value:m(W,u[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,I),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function T(u,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:S,T.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function O(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,j,W){for(var re=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)re[Ue-2]=arguments[Ue];return m.prototype[j].apply(I,re)}}function $(u){const m=u.length;if(0<m){const v=Array(m);for(let I=0;I<m;I++)v[I]=u[I];return v}return[]}function B(u,m){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(p(I)){const j=u.length||0,W=I.length||0;u.length=j+W;for(let re=0;re<W;re++)u[j+re]=I[re]}else u.push(I)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function de(u){return de[" "](u),u}de[" "]=function(){};var ee=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function le(u,m,v){for(const I in u)m.call(v,u[I],I,u)}function P(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let v,I;for(let j=1;j<arguments.length;j++){I=arguments[j];for(v in I)u[v]=I[v];for(let W=0;W<A.length;W++)v=A[W],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function V(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function M(u){f.setTimeout(()=>{throw u},0)}function C(){var u=ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,v){const I=Ot.get();I.set(m,v),this.h?this.h.next=I:this.g=I,this.h=I}}var Ot=new q(()=>new Vt,u=>u.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,ie=!1,ye=new rt,ue=()=>{const u=f.Promise.resolve(void 0);ze=()=>{u.then(L)}};var L=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){M(v)}var m=Ot;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ie=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u}();function Ae(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ee){e:{try{de(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ae.aa.h.call(this)}}O(Ae,me);var De={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),je=0;function $e(u,m,v,I,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!I,this.ha=j,this.key=++je,this.da=this.fa=!1}function _t(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function dr(u){this.src=u,this.g={},this.h=0}dr.prototype.add=function(u,m,v,I,j){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var re=zr(u,m,I,j);return-1<re?(m=u[re],v||(m.fa=!1)):(m=new $e(m,this.src,W,!!I,j),m.fa=v,u.push(m)),m};function xs(u,m){var v=m.type;if(v in u.g){var I=u.g[v],j=Array.prototype.indexOf.call(I,m,void 0),W;(W=0<=j)&&Array.prototype.splice.call(I,j,1),W&&(_t(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function zr(u,m,v,I){for(var j=0;j<u.length;++j){var W=u[j];if(!W.da&&W.listener==m&&W.capture==!!v&&W.ha==I)return j}return-1}var Mi="closure_lm_"+(1e6*Math.random()|0),ks={};function Ko(u,m,v,I,j){if(Array.isArray(m)){for(var W=0;W<m.length;W++)Ko(u,m[W],v,I,j);return null}return v=Yo(v),u&&u[Me]?u.K(m,v,y(I)?!!I.capture:!1,j):Go(u,m,v,!1,I,j)}function Go(u,m,v,I,j,W){if(!m)throw Error("Invalid event type");var re=y(j)?!!j.capture:!!j,Ue=Cs(u);if(Ue||(u[Mi]=Ue=new dr(u)),v=Ue.add(m,v,I,re,W),v.proxy)return v;if(I=Pl(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)xe||(j=re),j===void 0&&(j=!1),u.addEventListener(m.toString(),I,j);else if(u.attachEvent)u.attachEvent(pr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pl(){function u(v){return m.call(u.src,u.listener,v)}const m=Qo;return u}function As(u,m,v,I,j){if(Array.isArray(m))for(var W=0;W<m.length;W++)As(u,m[W],v,I,j);else I=y(I)?!!I.capture:!!I,v=Yo(v),u&&u[Me]?(u=u.i,m=String(m).toString(),m in u.g&&(W=u.g[m],v=zr(W,v,I,j),-1<v&&(_t(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete u.g[m],u.h--)))):u&&(u=Cs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=zr(m,v,I,j)),(v=-1<u?m[u]:null)&&fr(v))}function fr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Me])xs(m.i,u);else{var v=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(v,I,u.capture):m.detachEvent?m.detachEvent(pr(v),I):m.addListener&&m.removeListener&&m.removeListener(I),(v=Cs(m))?(xs(v,u),v.h==0&&(v.src=null,m[Mi]=null)):_t(u)}}}function pr(u){return u in ks?ks[u]:ks[u]="on"+u}function Qo(u,m){if(u.da)u=!0;else{m=new Ae(m,this);var v=u.listener,I=u.ha||u.src;u.fa&&fr(u),u=v.call(I,m)}return u}function Cs(u){return u=u[Mi],u instanceof dr?u:null}var Rs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yo(u){return typeof u=="function"?u:(u[Rs]||(u[Rs]=function(m){return u.handleEvent(m)}),u[Rs])}function dt(){Y.call(this),this.i=new dr(this),this.M=this,this.F=null}O(dt,Y),dt.prototype[Me]=!0,dt.prototype.removeEventListener=function(u,m,v,I){As(this,u,m,v,I)};function ft(u,m){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var j=m;m=new me(I,u),N(m,j)}if(j=!0,v)for(var W=v.length-1;0<=W;W--){var re=m.g=v[W];j=mr(re,I,!0,m)&&j}if(re=m.g=u,j=mr(re,I,!0,m)&&j,j=mr(re,I,!1,m)&&j,v)for(W=0;W<v.length;W++)re=m.g=v[W],j=mr(re,I,!1,m)&&j}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],I=0;I<v.length;I++)_t(v[I]);delete u.g[m],u.h--}}this.F=null},dt.prototype.K=function(u,m,v,I){return this.i.add(String(u),m,!1,v,I)},dt.prototype.L=function(u,m,v,I){return this.i.add(String(u),m,!0,v,I)};function mr(u,m,v,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,W=0;W<m.length;++W){var re=m[W];if(re&&!re.da&&re.capture==v){var Ue=re.listener,pt=re.ha||re.src;re.fa&&xs(u.i,re),j=Ue.call(pt,I)!==!1&&j}}return j&&!I.defaultPrevented}function Xo(u,m,v){if(typeof u=="function")v&&(u=T(u,v));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function Br(u){u.g=Xo(()=>{u.g=null,u.i&&(u.i=!1,Br(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ji extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fi(u){Y.call(this),this.h=u,this.g={}}O(Fi,Y);var Jo=[];function Zo(u){le(u.g,function(m,v){this.g.hasOwnProperty(v)&&fr(m)},u),u.g={}}Fi.prototype.N=function(){Fi.aa.N.call(this),Zo(this)},Fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ea=f.JSON.stringify,ta=f.JSON.parse,na=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ui(){}Ui.prototype.h=null;function Ps(u){return u.h||(u.h=u.i())}function Ns(){}var fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){me.call(this,"d")}O(Kn,me);function Ds(){me.call(this,"c")}O(Ds,me);var Gn={},ra=null;function zi(){return ra=ra||new dt}Gn.La="serverreachability";function ia(u){me.call(this,Gn.La,u)}O(ia,me);function gr(u){const m=zi();ft(m,new ia(m))}Gn.STAT_EVENT="statevent";function sa(u,m){me.call(this,Gn.STAT_EVENT,u),this.stat=m}O(sa,me);function it(u){const m=zi();ft(m,new sa(m,u))}Gn.Ma="timingevent";function bs(u,m){me.call(this,Gn.Ma,u),this.size=m}O(bs,me);function xn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function $i(u,m,v,I,j,W){u.info(function(){if(u.g)if(W)for(var re="",Ue=W.split("&"),pt=0;pt<Ue.length;pt++){var be=Ue[pt].split("=");if(1<be.length){var wt=be[0];be=be[1];var at=wt.split("_");re=2<=at.length&&at[1]=="type"?re+(wt+"="+be+"&"):re+(wt+"=redacted&")}}else re=null;else re=W;return"XMLHTTP REQ ("+I+") [attempt "+j+"]: "+m+`
`+v+`
`+re})}function Os(u,m,v,I,j,W,re){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+j+"]: "+m+`
`+v+`
`+W+" "+re})}function kn(u,m,v,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ih(u,v)+(I?" "+I:"")})}function oa(u,m){u.info(function(){return"TIMEOUT: "+m})}Bi.prototype.info=function(){};function ih(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var j=I[1];if(Array.isArray(j)&&!(1>j.length)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(var re=1;re<j.length;re++)j[re]=""}}}}return ea(v)}catch{return m}}var Vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},An;function Hi(){}O(Hi,Ui),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},An=new Hi;function Cn(u,m,v,I){this.j=u,this.i=m,this.l=v,this.R=I||1,this.U=new Fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dl}function Dl(){this.i=null,this.g="",this.h=!1}var aa={},Ls={};function Ms(u,m,v){u.L=1,u.v=Kr(on(m)),u.m=v,u.P=!0,la(u,null)}function la(u,m){u.F=Date.now(),He(u),u.A=on(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Qr(v.i,"t",I),u.C=0,v=u.j.J,u.h=new Dl,u.g=Yl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new ji(T(u.Y,u,u.g),u.O)),m=u.U,v=u.g,I=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Jo[0]=j.toString()),j=Jo);for(var W=0;W<j.length;W++){var re=Ko(v,j[W],I||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),gr(),$i(u.i,u.u,u.A,u.l,u.R,u.m)}Cn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Qt(u)==3?m.j():this.Y(u)},Cn.prototype.Y=function(u){try{if(u==this.g)e:{const at=Qt(this.g);var m=this.g.Ba();const gn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||pa(this.g)))){this.J||at!=4||m==7||(m==8||0>=gn?gr(3):gr(2)),qi(this);var v=this.g.Z();this.X=v;t:if(bl(this)){var I=pa(this.g);u="";var j=I.length,W=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),$r(this);var re="";break t}this.h.i=new f.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(W&&m==j-1)});I.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,Os(this.i,this.u,this.A,this.l,this.R,at,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,pt=this.g;if((Ue=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Ue)){var be=Ue;break t}}be=null}if(v=be)kn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ua(this,v);else{this.o=!1,this.s=3,it(12),pn(this),$r(this);break e}}if(this.P){v=!0;let ln;for(;!this.J&&this.C<re.length;)if(ln=sh(this,re),ln==Ls){at==4&&(this.s=4,it(14),v=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==aa){this.s=4,it(15),kn(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else kn(this.i,this.l,ln,null),ua(this,ln);if(bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||re.length!=0||this.h.h||(this.s=1,it(16),v=!1),this.o=this.o&&v,!v)kn(this.i,this.l,re,"[Invalid Chunked Response]"),pn(this),$r(this);else if(0<re.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ga(wt),wt.M=!0,it(11))}}else kn(this.i,this.l,re,null),ua(this,re);at==4&&pn(this),this.o&&!this.J&&(at==4?Gs(this.j,this):(this.o=!1,He(this)))}else $s(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),pn(this),$r(this)}}}catch{}finally{}};function bl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sh(u,m){var v=u.C,I=m.indexOf(`
`,v);return I==-1?Ls:(v=Number(m.substring(v,I)),isNaN(v)?aa:(I+=1,I+v>m.length?Ls:(m=m.slice(I,I+v),u.C=I+v,m)))}Cn.prototype.cancel=function(){this.J=!0,pn(this)};function He(u){u.S=Date.now()+u.I,Ol(u,u.I)}function Ol(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=xn(T(u.ba,u),m)}function qi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Cn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(oa(this.i,this.A),this.L!=2&&(gr(),it(17)),pn(this),this.s=2,$r(this)):Ol(this,this.S-u)};function $r(u){u.j.G==0||u.J||Gs(u.j,u)}function pn(u){qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Zo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ua(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Ht(v.h,u))){if(!u.K&&Ht(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var j=I;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Ks(v),bn(v);else break e;Ws(v),it(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=xn(T(v.Za,v),6e3));if(1>=Ll(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Er(v,11)}else if((u.K||v.g==u)&&Ks(v),!ne(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let be=j[m];if(v.T=be[0],be=be[1],v.G==2)if(be[0]=="c"){v.K=be[1],v.ia=be[2];const wt=be[3];wt!=null&&(v.la=wt,v.j.info("VER="+v.la));const at=be[4];at!=null&&(v.Aa=at,v.j.info("SVER="+v.Aa));const gn=be[5];gn!=null&&typeof gn=="number"&&0<gn&&(I=1.5*gn,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const ln=u.g;if(ln){const Ji=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var W=I.h;W.g||Ji.indexOf("spdy")==-1&&Ji.indexOf("quic")==-1&&Ji.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ca(W,W.h),W.h=null))}if(I.D){const Ys=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Ys&&(I.ya=Ys,Be(I.I,I.D,Ys))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var re=u;if(I.qa=Ql(I,I.J?I.ia:null,I.W),re.K){Ml(I.h,re);var Ue=re,pt=I.L;pt&&(Ue.I=pt),Ue.B&&(qi(Ue),He(Ue)),I.g=re}else Xi(I);0<v.i.length&&Jn(v)}else be[0]!="stop"&&be[0]!="close"||Er(v,7);else v.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Er(v,7):Ct(v):be[0]!="noop"&&v.l&&v.l.ta(be),v.v=0)}}gr(4)}catch{}}var Vl=class{constructor(u,m){this.g=u,this.map=m}};function Wi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ll(u){return u.h?1:u.g?u.g.size:0}function Ht(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ca(u,m){u.g?u.g.add(m):u.h=m}function Ml(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Wi.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return $(u.i)}function js(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,I=0;I<v;I++)m.push(u[I]);return m}m=[],v=0;for(I in u)m[v++]=u[I];return m}function Fs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const I in u)m[v++]=I;return m}}}function Hr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Fs(u),I=js(u),j=I.length,W=0;W<j;W++)m.call(void 0,I[W],v&&v[W],u)}var Ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),j=null;if(0<=I){var W=u[v].substring(0,I);j=u[v].substring(I+1)}else W=u[v];m(W,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yr){this.h=u.h,Gi(this,u.j),this.o=u.o,this.g=u.g,qr(this,u.s),this.l=u.l;var m=u.i,v=new Qn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Wr(this,v),this.m=u.m}else u&&(m=String(u).match(Ki))?(this.h=!1,Gi(this,m[1]||"",!0),this.o=Ne(m[2]||""),this.g=Ne(m[3]||"",!0),qr(this,m[4]),this.l=Ne(m[5]||"",!0),Wr(this,m[6]||"",!0),this.m=Ne(m[7]||"")):(this.h=!1,this.i=new Qn(null,this.h))}yr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Gr(m,Us,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Gr(m,Us,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Gr(v,v.charAt(0)=="/"?zl:Ul,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Gr(v,ha)),u.join("")};function on(u){return new yr(u)}function Gi(u,m,v){u.j=v?Ne(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Wr(u,m,v){m instanceof Qn?(u.i=m,Yn(u.i,u.h)):(v||(m=Gr(m,Bl)),u.i=new Qn(m,u.h))}function Be(u,m,v){u.i.set(m,v)}function Kr(u){return Be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ne(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Fl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Fl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Us=/[#\/\?@]/g,Ul=/[#\?:]/g,zl=/[#\?]/g,Bl=/[#\?@]/g,ha=/#/g;function Qn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function At(u){u.g||(u.g=new Map,u.h=0,u.i&&oh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Qn.prototype,r.add=function(u,m){At(this),this.i=null,u=mn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Rn(u,m){At(u),m=mn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Pn(u,m){return At(u),m=mn(u,m),u.g.has(m)}r.forEach=function(u,m){At(this),this.g.forEach(function(v,I){v.forEach(function(j){u.call(m,j,I,this)},this)},this)},r.na=function(){At(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let I=0;I<m.length;I++){const j=u[I];for(let W=0;W<j.length;W++)v.push(m[I])}return v},r.V=function(u){At(this);let m=[];if(typeof u=="string")Pn(this,u)&&(m=m.concat(this.g.get(mn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},r.set=function(u,m){return At(this),this.i=null,u=mn(this,u),Pn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Qr(u,m,v){Rn(u,m),0<v.length&&(u.i=null,u.g.set(mn(u,m),$(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var I=m[v];const W=encodeURIComponent(String(I)),re=this.V(I);for(I=0;I<re.length;I++){var j=W;re[I]!==""&&(j+="="+encodeURIComponent(String(re[I]))),u.push(j)}}return this.i=u.join("&")};function mn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Yn(u,m){m&&!u.j&&(At(u),u.i=null,u.g.forEach(function(v,I){var j=I.toLowerCase();I!=j&&(Rn(this,I),Qr(this,j,v))},u)),u.j=m}function ah(u,m){const v=new Bi;if(f.Image){const I=new Image;I.onload=b(Gt,v,"TestLoadImage: loaded",!0,m,I),I.onerror=b(Gt,v,"TestLoadImage: error",!1,m,I),I.onabort=b(Gt,v,"TestLoadImage: abort",!1,m,I),I.ontimeout=b(Gt,v,"TestLoadImage: timeout",!1,m,I),f.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function $l(u,m){const v=new Bi,I=new AbortController,j=setTimeout(()=>{I.abort(),Gt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(W=>{clearTimeout(j),W.ok?Gt(v,"TestPingServer: ok",!0,m):Gt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Gt(v,"TestPingServer: error",!1,m)})}function Gt(u,m,v,I,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),I(v)}catch{}}function lh(){this.g=new na}function Hl(u,m,v){const I=v||"";try{Hr(u,function(j,W){let re=j;y(j)&&(re=ea(j)),m.push(I+W+"="+encodeURIComponent(re))})}catch(j){throw m.push(I+"type="+encodeURIComponent("_badmap")),j}}function vr(u){this.l=u.Ub||null,this.j=u.eb||!1}O(vr,Ui),vr.prototype.g=function(){return new Qi(this.l,this.j)},vr.prototype.i=function(u){return function(){return u}}({});function Qi(u,m){dt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Qi,dt),r=Qi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Dn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Nn(this):Dn(this),this.readyState==3&&ql(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Nn(this))},r.Qa=function(u){this.g&&(this.response=u,Nn(this))},r.ga=function(){this.g&&Nn(this)};function Nn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Dn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Dn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _r(u){let m="";return le(u,function(v,I){m+=I,m+=":",m+=v,m+=`\r
`}),m}function Yr(u,m,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=_r(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Be(u,m,v))}function Ye(u){dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ye,dt);var uh=/^https?$/i,da=["POST","PUT"];r=Ye.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():An.g(),this.v=this.o?Ps(this.o):Ps(An),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(W){Yi(this,W);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var j in I)v.set(j,I[j]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())v.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),j=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(da,m,void 0))||I||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,re]of v)this.g.setRequestHeader(W,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Yi(this,W)}};function Yi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,zs(u),an(u)}function zs(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ft(this,"complete"),ft(this,"abort"),an(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),Ye.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?fa(this):this.bb())},r.bb=function(){fa(this)};function fa(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Qt(u)!=4||u.Z()!=2)){if(u.u&&Qt(u)==4)Xo(u.Ea,0,u);else if(ft(u,"readystatechange"),Qt(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var I;if(I=re===0){var j=String(u.D).match(Ki)[1]||null;!j&&f.self&&f.self.location&&(j=f.self.location.protocol.slice(0,-1)),I=!uh.test(j?j.toLowerCase():"")}v=I}if(v)ft(u,"complete"),ft(u,"success");else{u.m=6;try{var W=2<Qt(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",zs(u)}}finally{an(u)}}}}function an(u,m){if(u.g){Bs(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ft(u,"ready");try{v.onreadystatechange=I}catch{}}}function Bs(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Qt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ta(m)}};function pa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $s(u){const m={};u=(u.g&&2<=Qt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(ne(u[I]))continue;var v=V(u[I]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=m[j]||[];m[j]=W,W.push(v)}P(m,function(I){return I.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xn(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ma(u){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xn("baseRetryDelayMs",5e3,u),this.cb=Xn("retryDelaySeedMs",1e4,u),this.Wa=Xn("forwardChannelMaxRetries",2,u),this.wa=Xn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Wi(u&&u.concurrentRequestLimit),this.Da=new lh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ma.prototype,r.la=8,r.G=1,r.connect=function(u,m,v,I){it(0),this.W=u,this.H=m||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Ql(this,null,this.W),Jn(this)};function Ct(u){if(Hs(u),u.G==3){var m=u.U++,v=on(u.I);if(Be(v,"SID",u.K),Be(v,"RID",m),Be(v,"TYPE","terminate"),wr(u,v),m=new Cn(u,u.j,m),m.L=2,m.v=Kr(on(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=Yl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),He(m)}Gl(u)}function bn(u){u.g&&(ga(u),u.g.cancel(),u.g=null)}function Hs(u){bn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Ks(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Jn(u){if(!sn(u.h)&&!u.s){u.s=!0;var m=u.Ga;ze||ue(),ie||(ze(),ie=!0),ye.add(m,u),u.B=0}}function ch(u,m){return Ll(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=xn(T(u.Ga,u,m),Kl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Cn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=x(W),N(W,this.S)):W=this.S),this.m!==null||this.O||(j.H=W,W=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Xr(this,j,m),v=on(this.I),Be(v,"RID",u),Be(v,"CVER",22),this.D&&Be(v,"X-HTTP-Session-Id",this.D),wr(this,v),W&&(this.O?m="headers="+encodeURIComponent(String(_r(W)))+"&"+m:this.m&&Yr(v,this.m,W)),ca(this.h,j),this.Ua&&Be(v,"TYPE","init"),this.P?(Be(v,"$req",m),Be(v,"SID","null"),j.T=!0,Ms(j,v,null)):Ms(j,v,m),this.G=2}}else this.G==3&&(u?qs(this,u):this.i.length==0||sn(this.h)||qs(this))};function qs(u,m){var v;m?v=m.l:v=u.U++;const I=on(u.I);Be(I,"SID",u.K),Be(I,"RID",v),Be(I,"AID",u.T),wr(u,I),u.m&&u.o&&Yr(I,u.m,u.o),v=new Cn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Xr(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ca(u.h,v),Ms(v,I,m)}function wr(u,m){u.H&&le(u.H,function(v,I){Be(m,I,v)}),u.l&&Hr({},function(v,I){Be(m,I,v)})}function Xr(u,m,v){v=Math.min(u.i.length,v);var I=u.l?T(u.l.Na,u.l,u):null;e:{var j=u.i;let W=-1;for(;;){const re=["count="+v];W==-1?0<v?(W=j[0].g,re.push("ofs="+W)):W=0:re.push("ofs="+W);let Ue=!0;for(let pt=0;pt<v;pt++){let be=j[pt].g;const wt=j[pt].map;if(be-=W,0>be)W=Math.max(0,j[pt].g-100),Ue=!1;else try{Hl(wt,re,"req"+be+"_")}catch{I&&I(wt)}}if(Ue){I=re.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,I}function Xi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ze||ue(),ie||(ze(),ie=!0),ye.add(m,u),u.v=0}}function Ws(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=xn(T(u.Fa,u),Kl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Wl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=xn(T(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),bn(this),Wl(this))};function ga(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Wl(u){u.g=new Cn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Be(m,"RID","rpc"),Be(m,"SID",u.K),Be(m,"AID",u.T),Be(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Be(m,"TO",u.ja),Be(m,"TYPE","xmlhttp"),wr(u,m),u.m&&u.o&&Yr(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Kr(on(m)),v.m=null,v.P=!0,la(v,u)}r.Za=function(){this.C!=null&&(this.C=null,bn(this),Ws(this),it(19))};function Ks(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Gs(u,m){var v=null;if(u.g==m){Ks(u),ga(u),u.g=null;var I=2}else if(Ht(u.h,m))v=m.D,Ml(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;I=zi(),ft(I,new bs(I,v)),Jn(u)}else Xi(u);else if(j=m.s,j==3||j==0&&0<m.X||!(I==1&&ch(u,m)||I==2&&Ws(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Er(u,5);break;case 4:Er(u,10);break;case 3:Er(u,6);break;default:Er(u,2)}}}function Kl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Er(u,m){if(u.j.info("Error code "+m),m==2){var v=T(u.fb,u),I=u.Xa;const j=!I;I=new yr(I||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Gi(I,"https"),Kr(I),j?ah(I.toString(),v):$l(I.toString(),v)}else it(2);u.G=0,u.l&&u.l.sa(m),Gl(u),Hs(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Gl(u){if(u.G=0,u.ka=[],u.l){const m=jl(u.h);(m.length!=0||u.i.length!=0)&&(B(u.ka,m),B(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Ql(u,m,v){var I=v instanceof yr?on(v):new yr(v);if(I.g!="")m&&(I.g=m+"."+I.g),qr(I,I.s);else{var j=f.location;I=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var W=new yr(null);I&&Gi(W,I),m&&(W.g=m),j&&qr(W,j),v&&(W.l=v),I=W}return v=u.D,m=u.ya,v&&m&&Be(I,v,m),Be(I,"VER",u.la),wr(u,I),I}function Yl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ye(new vr({eb:v})):new Ye(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ya(){}r=ya.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Qs(){}Qs.prototype.g=function(u,m){return new qt(u,m)};function qt(u,m){dt.call(this),this.g=new ma(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ne(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ne(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}O(qt,dt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Ct(this.g)},qt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ea(u),u=v);m.i.push(new Vl(m.Ya++,u)),m.G==3&&Jn(m)},qt.prototype.N=function(){this.g.l=null,delete this.j,Ct(this.g),delete this.g,qt.aa.N.call(this)};function Xl(u){Kn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(Xl,Kn);function Jl(){Ds.call(this),this.status=1}O(Jl,Ds);function Zn(u){this.g=u}O(Zn,ya),Zn.prototype.ua=function(){ft(this.g,"a")},Zn.prototype.ta=function(u){ft(this.g,new Xl(u))},Zn.prototype.sa=function(u){ft(this.g,new Jl)},Zn.prototype.ra=function(){ft(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,Y_=function(){return new Qs},Q_=function(){return zi()},G_=Gn,uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,ac=Vs,Nl.COMPLETE="complete",K_=Nl,Ns.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Wa=Ns,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,W_=Ye}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const Dy="@firebase/firestore",by="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new zf("@firebase/firestore");function vo(){return vs.logLevel}function ae(r,...e){if(vs.logLevel<=Re.DEBUG){const t=e.map(Zf);vs.debug(`Firestore (${Bo}): ${r}`,...t)}}function Mr(r,...e){if(vs.logLevel<=Re.ERROR){const t=e.map(Zf);vs.error(`Firestore (${Bo}): ${r}`,...t)}}function ki(r,...e){if(vs.logLevel<=Re.WARN){const t=e.map(Zf);vs.warn(`Firestore (${Bo}): ${r}`,...t)}}function Zf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,X_(r,i,t)}function X_(r,e,t){let i=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Mr(i),new Error(i)}function Fe(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||X_(e,o,i)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Ur{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zt.UNAUTHENTICATED))}shutdown(){}}class kk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ak{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Si,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Si)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Fe(typeof i.accessToken=="string",31837,{l:i}),new J_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class Ck{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rk{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Ck(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const i=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Oy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Oy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=Nk(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function ke(r,e){return r<e?-1:r>e?1:0}function cf(r,e){let t=0;for(;t<r.length&&t<e.length;){const i=r.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return ke(i,o);{const l=Z_(),h=Dk(l.encode(Vy(r,t)),l.encode(Vy(e,t)));return h!==0?h:ke(i,o)}}t+=i>65535?2:1}return ke(r.length,e.length)}function Vy(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Dk(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return ke(r[t],e[t]);return ke(r.length,e.length)}function No(r,e,t){return r.length===e.length&&r.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="__name__";class ir{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ee(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=ir.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return ke(e.length,t.length)}static compareSegments(e,t){const i=ir.isNumericId(e),o=ir.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ir.extractNumericId(e).compare(ir.extractNumericId(t)):cf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ii.fromString(e.substring(4,e.length-2))}}class We extends ir{construct(e,t,i){return new We(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new se(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new We(t)}static emptyPath(){return new We([])}}const bk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends ir{construct(e,t,i){return new Dt(e,t,i)}static isValidIdentifier(e){return bk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ly}static keyField(){return new Dt([Ly])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new se(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new se(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(t)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(We.fromString(e))}static fromName(e){return new ge(We.fromString(e).popFirst(5))}static empty(){return new ge(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return We.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(r,e,t){if(!t)throw new se(G.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ok(r,e,t,i){if(e===!0&&i===!0)throw new se(G.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function My(r){if(!ge.isDocumentKey(r))throw new se(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jy(r){if(ge.isDocumentKey(r))throw new se(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function t0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Uc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function _s(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new se(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uc(r);throw new se(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(r,e){const t={typeString:r};return e&&(t.value=e),t}function Il(r,e){if(!t0(r))throw new se(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new se(G.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=-62135596800,Uy=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Uy);return new Qe(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Fy)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uy}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Il(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:ht("string",Qe._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Qe(0,0))}static max(){return new Ie(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=-1;function Vk(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new Qe(t+1,0):new Qe(t,i));return new Ai(o,ge.empty(),e)}function Lk(r){return new Ai(r.readTime,r.key,ol)}class Ai{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ai(Ie.min(),ge.empty(),ol)}static max(){return new Ai(Ie.max(),ge.empty(),ol)}}function Mk(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(r){if(r.code!==G.FAILED_PRECONDITION||r.message!==jk)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,i)=>{t(e)})}static reject(e){return new Q((t,i)=>{i(e)})}static waitFor(e){return new Q((t,i)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},p=>i(p))}),h=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next(o=>o?Q.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Q((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{h[y]=_,++f,f===l&&i(h)},_=>o(_))}})}static doWhile(e,t){return new Q((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function Uk(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}zc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=-1;function Bc(r){return r==null}function Tc(r){return r===0&&1/r==-1/0}function zk(r){return typeof r=="number"&&Number.isInteger(r)&&!Tc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="";function Bk(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=zy(e)),e=$k(r.get(t),e);return zy(e)}function $k(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case n0:t+="";break;default:t+=l}}return t}function zy(r){return r+n0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Vi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function r0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Nt.RED,this.left=o??Nt.EMPTY,this.right=l??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Nt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $y(this.data.getIterator())}getIteratorFrom(e){return new $y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vt(this.comparator);return t.data=e,t}}class $y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new dn([])}unionWith(e){let t=new vt(Dt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new i0("Invalid base64 string: "+l):l}}(e);return new bt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const Hk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const t=Hk.exec(r);if(Fe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ot(r.seconds),nanos:ot(r.nanos)}}function ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ri(r){return typeof r=="string"?bt.fromBase64String(r):bt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="server_timestamp",o0="__type__",a0="__previous_value__",l0="__local_write_time__";function np(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[o0])===null||t===void 0?void 0:t.stringValue)===s0}function $c(r){const e=r.mapValue.fields[a0];return np(e)?$c(e):e}function al(r){const e=Ci(r.mapValue.fields[l0].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,t,i,o,l,h,f,p,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=_}}const Ic="(default)";class ll{constructor(e,t){this.projectId=e,this.database=t||Ic}static empty(){return new ll("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="__type__",Wk="__max__",Yu={mapValue:{}},c0="__vector__",Sc="value";function Pi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?np(r)?4:Gk(r)?9007199254740991:Kk(r)?10:11:Ee(28295,{value:r})}function hr(r,e){if(r===e)return!0;const t=Pi(r);if(t!==Pi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return al(r).isEqual(al(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ci(o.timestampValue),f=Ci(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Ri(o.bytesValue).isEqual(Ri(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return ot(o.geoPointValue.latitude)===ot(l.geoPointValue.latitude)&&ot(o.geoPointValue.longitude)===ot(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ot(o.integerValue)===ot(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ot(o.doubleValue),f=ot(l.doubleValue);return h===f?Tc(h)===Tc(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return No(r.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(By(h)!==By(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!hr(h[p],f[p])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function ul(r,e){return(r.values||[]).find(t=>hr(t,e))!==void 0}function Do(r,e){if(r===e)return 0;const t=Pi(r),i=Pi(e);if(t!==i)return ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(l,h){const f=ot(l.integerValue||l.doubleValue),p=ot(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return Hy(r.timestampValue,e.timestampValue);case 4:return Hy(al(r),al(e));case 5:return cf(r.stringValue,e.stringValue);case 6:return function(l,h){const f=Ri(l),p=Ri(h);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const _=ke(f[y],p[y]);if(_!==0)return _}return ke(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const f=ke(ot(l.latitude),ot(h.latitude));return f!==0?f:ke(ot(l.longitude),ot(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return qy(r.arrayValue,e.arrayValue);case 10:return function(l,h){var f,p,y,_;const S=l.fields||{},T=h.fields||{},b=(f=S[Sc])===null||f===void 0?void 0:f.arrayValue,O=(p=T[Sc])===null||p===void 0?void 0:p.arrayValue,$=ke(((y=b?.values)===null||y===void 0?void 0:y.length)||0,((_=O?.values)===null||_===void 0?void 0:_.length)||0);return $!==0?$:qy(b,O)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===Yu.mapValue&&h===Yu.mapValue)return 0;if(l===Yu.mapValue)return 1;if(h===Yu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let S=0;S<p.length&&S<_.length;++S){const T=cf(p[S],_[S]);if(T!==0)return T;const b=Do(f[p[S]],y[_[S]]);if(b!==0)return b}return ke(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{le:t})}}function Hy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const t=Ci(r),i=Ci(e),o=ke(t.seconds,i.seconds);return o!==0?o:ke(t.nanos,i.nanos)}function qy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Do(t[o],i[o]);if(l)return l}return ke(t.length,i.length)}function bo(r){return hf(r)}function hf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=Ci(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ri(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=hf(l);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${hf(t.fields[h])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function lc(r){switch(Pi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$c(r);return e?16+lc(e):16;case 5:return 2*r.stringValue.length;case 6:return Ri(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+lc(l),0)}(r.arrayValue);case 10:case 11:return function(i){let o=0;return Vi(i.fields,(l,h)=>{o+=l.length+lc(h)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function Wy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function df(r){return!!r&&"integerValue"in r}function rp(r){return!!r&&"arrayValue"in r}function Ky(r){return!!r&&"nullValue"in r}function Gy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uc(r){return!!r&&"mapValue"in r}function Kk(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[u0])===null||t===void 0?void 0:t.stringValue)===c0}function Ja(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Vi(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ja(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ja(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Gk(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Wk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!uc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(t)}setAll(e){let t=Dt.emptyPath(),i={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=Ja(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());uc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Vi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new rn(Ja(this.value))}}function h0(r){const e=[];return Vi(r.fields,(t,i)=>{const o=new Dt([t]);if(uc(i)){const l=h0(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Bt(e,0,Ie.min(),Ie.min(),Ie.min(),rn.empty(),0)}static newFoundDocument(e,t,i,o){return new Bt(e,1,t,Ie.min(),i,o,0)}static newNoDocument(e,t){return new Bt(e,2,t,Ie.min(),Ie.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,Ie.min(),Ie.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.position=e,this.inclusive=t}}function Qy(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=ge.comparator(ge.fromName(h.referenceValue),t.key):i=Do(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Yy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!hr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Qk(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{}class ct extends d0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Xk(e,t,i):t==="array-contains"?new eA(e,i):t==="in"?new tA(e,i):t==="not-in"?new nA(e,i):t==="array-contains-any"?new rA(e,i):new ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Jk(e,i):new Zk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Do(t,this.value)):t!==null&&Pi(this.value)===Pi(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends d0{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Hn(e,t)}matches(e){return f0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function f0(r){return r.op==="and"}function p0(r){return Yk(r)&&f0(r)}function Yk(r){for(const e of r.filters)if(e instanceof Hn)return!1;return!0}function ff(r){if(r instanceof ct)return r.field.canonicalString()+r.op.toString()+bo(r.value);if(p0(r))return r.filters.map(e=>ff(e)).join(",");{const e=r.filters.map(t=>ff(t)).join(",");return`${r.op}(${e})`}}function m0(r,e){return r instanceof ct?function(i,o){return o instanceof ct&&i.op===o.op&&i.field.isEqual(o.field)&&hr(i.value,o.value)}(r,e):r instanceof Hn?function(i,o){return o instanceof Hn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,h,f)=>l&&m0(h,o.filters[f]),!0):!1}(r,e):void Ee(19439)}function g0(r){return r instanceof ct?function(t){return`${t.field.canonicalString()} ${t.op} ${bo(t.value)}`}(r):r instanceof Hn?function(t){return t.op.toString()+" {"+t.getFilters().map(g0).join(" ,")+"}"}(r):"Filter"}class Xk extends ct{constructor(e,t,i){super(e,t,i),this.key=ge.fromName(i.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class Jk extends ct{constructor(e,t){super(e,"in",t),this.keys=y0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Zk extends ct{constructor(e,t){super(e,"not-in",t),this.keys=y0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function y0(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ge.fromName(i.referenceValue))}class eA extends ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rp(t)&&ul(t.arrayValue,this.value)}}class tA extends ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ul(this.value.arrayValue,t)}}class nA extends ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ul(this.value.arrayValue,t)}}class rA extends ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ul(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Pe=null}}function Xy(r,e=null,t=[],i=[],o=null,l=null,h=null){return new iA(r,e,t,i,o,l,h)}function ip(r){const e=Se(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ff(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Bc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>bo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>bo(i)).join(",")),e.Pe=t}return e.Pe}function sp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Qk(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!m0(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Yy(r.startAt,e.startAt)&&Yy(r.endAt,e.endAt)}function pf(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function sA(r,e,t,i,o,l,h,f){return new qo(r,e,t,i,o,l,h,f)}function v0(r){return new qo(r)}function Jy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _0(r){return r.collectionGroup!==null}function Za(r){const e=Se(r);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new vt(Dt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new cl(l,i))}),t.has(Dt.keyField().canonicalString())||e.Te.push(new cl(Dt.keyField(),i))}return e.Te}function ar(r){const e=Se(r);return e.Ie||(e.Ie=oA(e,Za(r))),e.Ie}function oA(r,e){if(r.limitType==="F")return Xy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new cl(o.field,l)});const t=r.endAt?new xc(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new xc(r.startAt.position,r.startAt.inclusive):null;return Xy(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function mf(r,e){const t=r.filters.concat([e]);return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function gf(r,e,t){return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Hc(r,e){return sp(ar(r),ar(e))&&r.limitType===e.limitType}function w0(r){return`${ip(ar(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>g0(o)).join(", ")}]`),Bc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>bo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>bo(o)).join(",")),`Target(${i})`}(ar(r))}; limitType=${r.limitType})`}function qc(r,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ge.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(r,e)&&function(i,o){for(const l of Za(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(i,o){return!(i.startAt&&!function(h,f,p){const y=Qy(h,f,p);return h.inclusive?y<=0:y<0}(i.startAt,Za(i),o)||i.endAt&&!function(h,f,p){const y=Qy(h,f,p);return h.inclusive?y>=0:y>0}(i.endAt,Za(i),o))}(r,e)}function aA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function E0(r){return(e,t)=>{let i=!1;for(const o of Za(r)){const l=lA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function lA(r,e,t){const i=r.field.isKeyField()?ge.comparator(e.key,t.key):function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Do(p,y):Ee(42886)}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return r0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=new tt(ge.comparator);function jr(){return uA}const T0=new tt(ge.comparator);function Ka(...r){let e=T0;for(const t of r)e=e.insert(t.key,t);return e}function I0(r){let e=T0;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function fs(){return el()}function S0(){return el()}function el(){return new Ts(r=>r.toString(),(r,e)=>r.isEqual(e))}const cA=new tt(ge.comparator),hA=new vt(ge.comparator);function Pe(...r){let e=hA;for(const t of r)e=e.add(t);return e}const dA=new vt(ke);function fA(){return dA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function x0(r){return{integerValue:""+r}}function pA(r,e){return zk(e)?x0(e):op(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this._=void 0}}function mA(r,e,t){return r instanceof kc?function(o,l){const h={fields:{[o0]:{stringValue:s0},[l0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&np(l)&&(l=$c(l)),l&&(h.fields[a0]=l),{mapValue:h}}(t,e):r instanceof hl?A0(r,e):r instanceof dl?C0(r,e):function(o,l){const h=k0(o,l),f=Zy(h)+Zy(o.Ee);return df(h)&&df(o.Ee)?x0(f):op(o.serializer,f)}(r,e)}function gA(r,e,t){return r instanceof hl?A0(r,e):r instanceof dl?C0(r,e):t}function k0(r,e){return r instanceof Ac?function(i){return df(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class kc extends Wc{}class hl extends Wc{constructor(e){super(),this.elements=e}}function A0(r,e){const t=R0(e);for(const i of r.elements)t.some(o=>hr(o,i))||t.push(i);return{arrayValue:{values:t}}}class dl extends Wc{constructor(e){super(),this.elements=e}}function C0(r,e){let t=R0(e);for(const i of r.elements)t=t.filter(o=>!hr(o,i));return{arrayValue:{values:t}}}class Ac extends Wc{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Zy(r){return ot(r.integerValue||r.doubleValue)}function R0(r){return rp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function yA(r,e){return r.field.isEqual(e.field)&&function(i,o){return i instanceof hl&&o instanceof hl||i instanceof dl&&o instanceof dl?No(i.elements,o.elements,hr):i instanceof Ac&&o instanceof Ac?hr(i.Ee,o.Ee):i instanceof kc&&o instanceof kc}(r.transform,e.transform)}class vA{constructor(e,t){this.version=e,this.transformResults=t}}class zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kc{}function P0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ap(r.key,zn.none()):new Sl(r.key,r.data,zn.none());{const t=r.data,i=rn.empty();let o=new vt(Dt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new Li(r.key,i,new dn(o.toArray()),zn.none())}}function _A(r,e,t){r instanceof Sl?function(o,l,h){const f=o.value.clone(),p=tv(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Li?function(o,l,h){if(!cc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=tv(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(N0(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function tl(r,e,t,i){return r instanceof Sl?function(l,h,f,p){if(!cc(l.precondition,h))return f;const y=l.value.clone(),_=nv(l.fieldTransforms,p,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,i):r instanceof Li?function(l,h,f,p){if(!cc(l.precondition,h))return f;const y=nv(l.fieldTransforms,p,h),_=h.data;return _.setAll(N0(l)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(r,e,t,i):function(l,h,f){return cc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function wA(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=k0(i.transform,o||null);l!=null&&(t===null&&(t=rn.empty()),t.set(i.field,l))}return t||null}function ev(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&No(i,o,(l,h)=>yA(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Sl extends Kc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Li extends Kc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function N0(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function tv(r,e,t){const i=new Map;Fe(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,gA(h,f,t[o]))}return i}function nv(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,mA(l,h,e))}return i}class ap extends Kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EA extends Kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&_A(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=tl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=tl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=S0();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=P0(h,f);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(t,i)=>ev(t,i))&&No(this.baseMutations,e.baseMutations,(t,i)=>ev(t,i))}}class lp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Fe(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let o=function(){return cA}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new lp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Oe;function xA(r){switch(r){case G.OK:return Ee(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function D0(r){if(r===void 0)return Mr("GRPC error has no .code"),G.UNKNOWN;switch(r){case ut.OK:return G.OK;case ut.CANCELLED:return G.CANCELLED;case ut.UNKNOWN:return G.UNKNOWN;case ut.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case ut.INTERNAL:return G.INTERNAL;case ut.UNAVAILABLE:return G.UNAVAILABLE;case ut.UNAUTHENTICATED:return G.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case ut.NOT_FOUND:return G.NOT_FOUND;case ut.ALREADY_EXISTS:return G.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return G.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case ut.ABORTED:return G.ABORTED;case ut.OUT_OF_RANGE:return G.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return G.UNIMPLEMENTED;case ut.DATA_LOSS:return G.DATA_LOSS;default:return Ee(39323,{code:r})}}(Oe=ut||(ut={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new Ii([4294967295,4294967295],0);function rv(r){const e=Z_().encode(r),t=new q_;return t.update(e),new Uint8Array(t.digest())}function iv(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ii([t,i],0),new Ii([o,l],0)]}class up{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ga(`Invalid padding: ${t}`);if(i<0)throw new Ga(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ii.fromNumber(this.fe)}pe(e,t,i){let o=e.add(t.multiply(Ii.fromNumber(i)));return o.compare(kA)===1&&(o=new Ii([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=rv(e),[i,o]=iv(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(i,o,l);if(!this.ye(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new up(l,o,t);return i.forEach(f=>h.insert(f)),h}insert(e){if(this.fe===0)return;const t=rv(e),[i,o]=iv(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(i,o,l);this.we(h)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,xl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Gc(Ie.min(),o,new tt(ke),jr(),Pe())}}class xl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new xl(i,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t,i,o){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=o}}class b0{constructor(e,t){this.targetId=e,this.De=t}}class O0{constructor(e,t,i=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class sv{constructor(){this.ve=0,this.Ce=ov(),this.Fe=bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Pe(),t=Pe(),i=Pe();return this.Ce.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ee(38017,{changeType:l})}}),new xl(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=ov()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class AA{constructor(e){this.We=e,this.Ge=new Map,this.ze=jr(),this.je=Xu(),this.Je=Xu(),this.He=new tt(ke)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,i=e.De.count,o=this.st(t);if(o){const l=o.target;if(pf(l))if(i===0){const h=new ge(l.path);this.Xe(t,h,Bt.newNoDocument(h,Ie.min()))}else Fe(i===1,20013,{expectedCount:i});else{const h=this.ot(t);if(h!==i){const f=this._t(e),p=f?this.ut(f,e,h):1;if(p!==0){this.rt(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,y)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Ri(i).toUint8Array()}catch(p){if(p instanceof i0)return ki("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new up(h,o,l)}catch(p){return ki(p instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.fe===0?null:f}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const h=this.We.lt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Xe(t,l,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((l,h)=>{const f=this.st(h);if(f){if(l.current&&pf(f.target)){const p=new ge(f.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Bt.newNoDocument(p,e))}l.Ne&&(t.set(h,l.Le()),l.ke())}});let i=Pe();this.Je.forEach((l,h)=>{let f=!0;h.forEachWhile(p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ze.forEach((l,h)=>h.setReadTime(e));const o=new Gc(e,t,this.He,this.ze,i);return this.ze=jr(),this.je=Xu(),this.Je=Xu(),this.He=new tt(ke),o}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new sv,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new vt(ke),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new vt(ke),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new sv),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Xu(){return new tt(ge.comparator)}function ov(){return new tt(ge.comparator)}const CA={asc:"ASCENDING",desc:"DESCENDING"},RA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PA={and:"AND",or:"OR"};class NA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yf(r,e){return r.useProto3Json||Bc(e)?e:{value:e}}function Cc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function DA(r,e){return Cc(r,e.toTimestamp())}function lr(r){return Fe(!!r,49232),Ie.fromTimestamp(function(t){const i=Ci(t);return new Qe(i.seconds,i.nanos)}(r))}function cp(r,e){return vf(r,e).canonicalString()}function vf(r,e){const t=function(o){return new We(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function L0(r){const e=We.fromString(r);return Fe(z0(e),10190,{key:e.toString()}),e}function _f(r,e){return cp(r.databaseId,e.path)}function Hd(r,e){const t=L0(e);if(t.get(1)!==r.databaseId.projectId)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(j0(t))}function M0(r,e){return cp(r.databaseId,e)}function bA(r){const e=L0(r);return e.length===4?We.emptyPath():j0(e)}function wf(r){return new We(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function j0(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function av(r,e,t){return{name:_f(r,e),fields:t.value.mapValue.fields}}function OA(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(Fe(_===void 0||typeof _=="string",58123),bt.fromBase64String(_||"")):(Fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),bt.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const _=y.code===void 0?G.UNKNOWN:D0(y.code);return new se(_,y.message||"")}(h);t=new O0(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Hd(r,i.document.name),l=lr(i.document.updateTime),h=i.document.createTime?lr(i.document.createTime):Ie.min(),f=new rn({mapValue:{fields:i.document.fields}}),p=Bt.newFoundDocument(o,l,h,f),y=i.targetIds||[],_=i.removedTargetIds||[];t=new hc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Hd(r,i.document),l=i.readTime?lr(i.readTime):Ie.min(),h=Bt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new hc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Hd(r,i.document),l=i.removedTargetIds||[];t=new hc([],l,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new SA(o,l),f=i.targetId;t=new b0(f,h)}}return t}function VA(r,e){let t;if(e instanceof Sl)t={update:av(r,e.key,e.value)};else if(e instanceof ap)t={delete:_f(r,e.key)};else if(e instanceof Li)t={update:av(r,e.key,e.data),updateMask:HA(e.fieldMask)};else{if(!(e instanceof EA))return Ee(16599,{Rt:e.type});t={verify:_f(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,h){const f=h.transform;if(f instanceof kc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof hl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof dl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ac)return{fieldPath:h.field.canonicalString(),increment:f.Ee};throw Ee(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:DA(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)}(r,e.precondition)),t}function LA(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map(t=>function(o,l){let h=o.updateTime?lr(o.updateTime):lr(l);return h.isEqual(Ie.min())&&(h=lr(l)),new vA(h,o.transformResults||[])}(t,e))):[]}function MA(r,e){return{documents:[M0(r,e.path)]}}function jA(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=M0(r,o);const l=function(y){if(y.length!==0)return U0(Hn.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(_=>function(T){return{field:wo(T.field),direction:zA(T.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=yf(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:t,parent:o}}function FA(r){let e=bA(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Fe(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(S){const T=F0(S);return T instanceof Hn&&p0(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(T=>function(O){return new cl(Eo(O.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(S){let T;return T=typeof S=="object"?S.value:S,Bc(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(S){const T=!!S.before,b=S.values||[];return new xc(b,T)}(t.startAt));let y=null;return t.endAt&&(y=function(S){const T=!S.before,b=S.values||[];return new xc(b,T)}(t.endAt)),sA(e,o,h,l,f,"F",p,y)}function UA(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function F0(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Eo(t.unaryFilter.field);return ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(t.unaryFilter.field);return ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Eo(t.unaryFilter.field);return ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Eo(t.unaryFilter.field);return ct.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(t){return ct.create(Eo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Hn.create(t.compositeFilter.filters.map(i=>F0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(r):Ee(30097,{filter:r})}function zA(r){return CA[r]}function BA(r){return RA[r]}function $A(r){return PA[r]}function wo(r){return{fieldPath:r.canonicalString()}}function Eo(r){return Dt.fromServerFormat(r.fieldPath)}function U0(r){return r instanceof ct?function(t){if(t.op==="=="){if(Gy(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NAN"}};if(Ky(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Gy(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NAN"}};if(Ky(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(t.field),op:BA(t.op),value:t.value}}}(r):r instanceof Hn?function(t){const i=t.getFilters().map(o=>U0(o));return i.length===1?i[0]:{compositeFilter:{op:$A(t.op),filters:i}}}(r):Ee(54877,{filter:r})}function HA(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function z0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t,i,o,l=Ie.min(),h=Ie.min(),f=bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.gt=e}}function WA(r){const e=FA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.Dn=new GA}addToCollectionParentIndex(e,t){return this.Dn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Ai.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class GA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new vt(We.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new vt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B0=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(B0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Oo(0)}static ur(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="LruGarbageCollector",QA=1048576;function cv([r,e],[t,i]){const o=ke(r,t);return o===0?ke(e,i):o}class YA{constructor(e){this.Tr=e,this.buffer=new vt(cv),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();cv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ae(uv,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ho(t)?ae(uv,"Ignoring IndexedDB error during garbage collection: ",t):await $o(t)}await this.Rr(3e5)})}}class JA{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(zc.ue);const i=new YA(t);return this.Vr.forEachTarget(e,o=>i.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>i.Er(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(lv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lv):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,o,l,h,f,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,f=Date.now(),this.removeTargets(e,i,t))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(y=Date.now(),vo()<=Re.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function ZA(r,e){return new JA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.changes=new Ts(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&tl(i.mutation,o,dn.empty(),Qe.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Pe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Pe()){const o=fs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let h=Ka();return l.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=fs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Pe()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,i,o){let l=jr();const h=el(),f=function(){return el()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Li)?l=l.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),tl(_.mutation,y,_.mutation.getFieldMask(),Qe.now())):h.set(y.key,dn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>h.set(y,_)),t.forEach((y,_)=>{var S;return f.set(y,new tC(_,(S=h.get(y))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,t){const i=el();let o=new tt((h,f)=>h-f),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||dn.empty();_=f.applyToLocalView(y,_),i.set(p,_);const S=(o.get(f.batchId)||Pe()).add(p);o=o.insert(f.batchId,S)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,_=p.value,S=S0();_.forEach(T=>{if(!l.has(T)){const b=P0(t.get(T),i.get(T));b!==null&&S.set(T,b),l=l.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Q.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(fs());let f=ol,p=l;return h.next(y=>Q.forEach(y,(_,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),l.get(_)?Q.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Pe())).next(_=>({batchId:f,changes:I0(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(i=>{let o=Ka();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Ka();return this.indexManager.getCollectionParents(e,l).next(f=>Q.forEach(f,p=>{const y=function(S,T){return new qo(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((S,T)=>{h=h.insert(S,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(h=>{l.forEach((p,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,Bt.newInvalidDocument(_)))});let f=Ka();return h.forEach((p,y)=>{const _=l.get(p);_!==void 0&&tl(_.mutation,y,dn.empty(),Qe.now()),qc(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Q.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:lr(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:WA(o.bundledQuery),readTime:lr(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.overlays=new tt(ge.comparator),this.kr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=fs();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.wt(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.kr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=fs(),l=t.length+1,h=new ge(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new tt((y,_)=>y-_);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=fs(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=fs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>f.set(y,_)),!(f.size()>=o)););return Q.resolve(f)}wt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(i.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new IA(t,i));let l=this.kr.get(t);l===void 0&&(l=Pe(),this.kr.set(t,l)),this.kr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.qr=new vt(St.Qr),this.$r=new vt(St.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new St(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new St(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new ge(new We([])),i=new St(t,e),o=new St(t,e+1),l=[];return this.$r.forEachInRange([i,o],h=>{this.Wr(h),l.push(h.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ge(new We([])),i=new St(t,e),o=new St(t,e+1);let l=Pe();return this.$r.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new St(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class St{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||ke(e.Hr,t.Hr)}static Ur(e,t){return ke(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new vt(St.Qr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new TA(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Yr=this.Yr.add(new St(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Xr(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?tp:this.er-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new St(t,0),o=new St(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,o],h=>{const f=this.Zr(h.Hr);l.push(f)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new vt(ke);return t.forEach(o=>{const l=new St(o,0),h=new St(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,h],f=>{i=i.add(f.Hr)})}),Q.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ge.isDocumentKey(l)||(l=l.child(""));const h=new St(new ge(l),0);let f=new vt(ke);return this.Yr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.Hr)),!0)},h),Q.resolve(this.ei(f))}ei(e){const t=[];return e.forEach(i=>{const o=this.Zr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return Q.forEach(t.mutations,o=>{const l=new St(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new St(t,0),o=this.Yr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.ni=e,this.docs=function(){return new tt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let i=jr();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Bt.newInvalidDocument(o))}),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=jr();const h=t.path,f=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||Mk(Lk(_),i)<=0||(o.has(_.key)||qc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ee(9500)}ri(e,t){return Q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new lC(this)}getSize(e){return Q.resolve(this.size)}}class lC extends eC{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(i)}),Q.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.persistence=e,this.ii=new Ts(t=>ip(t),sp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.si=0,this.oi=new hp,this.targetCount=0,this._i=Oo.ar()}forEachTarget(e,t){return this.ii.forEach((i,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),Q.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.hr(t),Q.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.ii.forEach((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.ii.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t){this.ai={},this.overlays={},this.ui=new zc(0),this.ci=!1,this.ci=!0,this.li=new sC,this.referenceDelegate=e(this),this.hi=new uC(this),this.indexManager=new KA,this.remoteDocumentCache=function(o){return new aC(o)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new qA(t),this.Ti=new rC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new oC(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);const o=new cC(this.ui.next());return this.referenceDelegate.Ii(),i(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ei(e,t){return Q.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class cC extends Fk{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.Ai=new hp,this.Ri=null}static Vi(e){return new dp(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.mi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.mi,i=>{const o=ge.fromPath(i);return this.fi(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Q.or([()=>Q.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Rc{constructor(e,t){this.persistence=e,this.gi=new Ts(i=>Bk(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=ZA(this,t)}static Vi(e,t){return new Rc(e,t)}Ii(){}di(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return Q.forEach(this.gi,(i,o)=>this.Sr(e,i,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(f=>{f||(i++,l.removeEntry(h,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Q.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lc(e.data.value)),t}Sr(e,t,i){return Q.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=o}static Es(e,t){let i=Pe(),o=Pe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new fp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return HI()?8:Uk($t())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ps(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ys(e,t,o,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new hC;return this.ws(e,t,h).next(f=>{if(l.result=f,this.Rs)return this.Ss(e,t,h,f.size)})}).next(()=>l.result)}Ss(e,t,i,o){return i.documentReadCount<this.Vs?(vo()<=Re.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(vo()<=Re.DEBUG&&ae("QueryEngine","Query:",_o(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.fs*o?(vo()<=Re.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(t))):Q.resolve())}ps(e,t){if(Jy(t))return Q.resolve(null);let i=ar(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=gf(t,null,"F"),i=ar(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=Pe(...l);return this.gs.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.bs(t,f);return this.Ds(t,y,h,p.readTime)?this.ps(e,gf(t,null,"F")):this.vs(e,y,t,p)}))})))}ys(e,t,i,o){return Jy(t)||o.isEqual(Ie.min())?Q.resolve(null):this.gs.getDocuments(e,i).next(l=>{const h=this.bs(t,l);return this.Ds(t,h,i,o)?Q.resolve(null):(vo()<=Re.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.vs(e,h,t,Vk(o,ol)).next(f=>f))})}bs(e,t){let i=new vt(E0(e));return t.forEach((o,l)=>{qc(e,l)&&(i=i.add(l))}),i}Ds(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(e,t,i){return vo()<=Re.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",_o(t)),this.gs.getDocumentsMatchingQuery(e,t,Ai.min(),i)}vs(e,t,i,o){return this.gs.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="LocalStore",fC=3e8;class pC{constructor(e,t,i,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new tt(ke),this.Ms=new Ts(l=>ip(l),sp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nC(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function mC(r,e,t,i){return new pC(r,e,t,i)}async function H0(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],f=[];let p=Pe();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Bs:y,removedBatchIds:h,addedBatchIds:f}))})})}function gC(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(f,p,y,_){const S=y.batch,T=S.keys();let b=Q.resolve();return T.forEach(O=>{b=b.next(()=>_.getEntry(p,O)).next($=>{const B=y.docVersions.get(O);Fe(B!==null,48541),$.version.compareTo(B)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),_.addEntry($)))})}),b.next(()=>f.mutationQueue.removeMutationBatch(p,S))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Pe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function q0(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function yC(r,e){const t=Se(r),i=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const f=[];e.targetChanges.forEach((_,S)=>{const T=o.get(S);if(!T)return;f.push(t.hi.removeMatchingKeys(l,_.removedDocuments,S).next(()=>t.hi.addMatchingKeys(l,_.addedDocuments,S)));let b=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?b=b.withResumeToken(bt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(_.resumeToken,i)),o=o.insert(S,b),function($,B,q){return $.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=fC?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(T,b,_)&&f.push(t.hi.updateTargetData(l,b))});let p=jr(),y=Pe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(vC(l,h,e.documentUpdates).next(_=>{p=_.Ls,y=_.ks})),!i.isEqual(Ie.min())){const _=t.hi.getLastRemoteSnapshotVersion(l).next(S=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return Q.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Fs=o,l))}function vC(r,e,t){let i=Pe(),o=Pe();return t.forEach(l=>i=i.add(l)),e.getEntries(r,i).next(l=>{let h=jr();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):ae(pp,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function _C(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=tp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function wC(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.hi.getTargetData(i,e).next(l=>l?(o=l,Q.resolve(o)):t.hi.allocateTargetId(i).next(h=>(o=new vi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Fs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function Ef(r,e,t){const i=Se(r),o=i.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ho(h))throw h;ae(pp,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(o.target)}function hv(r,e,t){const i=Se(r);let o=Ie.min(),l=Pe();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,_){const S=Se(p),T=S.Ms.get(_);return T!==void 0?Q.resolve(S.Fs.get(T)):S.hi.getTargetData(y,_)}(i,h,ar(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(h,f.targetId).next(p=>{l=p})}).next(()=>i.Cs.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?l:Pe())).next(f=>(EC(i,aA(e),f),{documents:f,qs:l})))}function EC(r,e,t){let i=r.xs.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),r.xs.set(e,i)}class dv{constructor(){this.activeTargetIds=fA()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TC{constructor(){this.Fo=new dv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new dv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="ConnectivityMonitor";class pv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ae(fv,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ae(fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function Tf(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xC{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.Ko=this.databaseId.database===Ic?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,t,i,o,l){const h=Tf(),f=this.Go(e,t.toUriEncodedString());ae(qd,`Sending RPC '${e}' ${h}:`,f,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,l);const{host:y}=new URL(f),_=Fo(y);return this.jo(e,f,p,i,_).then(S=>(ae(qd,`Received RPC '${e}' ${h}: `,S),S),S=>{throw ki(qd,`RPC '${e}' ${h} failed with error: `,S,"url: ",f,"request:",i),S})}Jo(e,t,i,o,l,h){return this.Wo(e,t,i,o,l)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}Go(e,t){const i=SC[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class AC extends xC{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,o,l){const h=Tf();return new Promise((f,p)=>{const y=new W_;y.setWithCredentials(!0),y.listenOnce(K_.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case ac.NO_ERROR:const S=y.getResponseJson();ae(Ut,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),f(S);break;case ac.TIMEOUT:ae(Ut,`RPC '${e}' ${h} timed out`),p(new se(G.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:const T=y.getStatus();if(ae(Ut,`RPC '${e}' ${h} failed with status:`,T,"response text:",y.getResponseText()),T>0){let b=y.getResponseJson();Array.isArray(b)&&(b=b[0]);const O=b?.error;if(O&&O.status&&O.message){const $=function(q){const ne=q.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(ne)>=0?ne:G.UNKNOWN}(O.status);p(new se($,O.message))}else p(new se(G.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new se(G.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:h,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{ae(Ut,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);ae(Ut,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",_,i,15)})}P_(e,t,i){const o=Tf(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Y_(),f=Q_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");ae(Ut,`Creating RPC '${e}' stream ${o}: ${_}`,p);const S=h.createWebChannel(_,p);this.T_(S);let T=!1,b=!1;const O=new kC({Ho:B=>{b?ae(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(T||(ae(Ut,`Opening RPC '${e}' stream ${o} transport.`),S.open(),T=!0),ae(Ut,`RPC '${e}' stream ${o} sending:`,B),S.send(B))},Yo:()=>S.close()}),$=(B,q,ne)=>{B.listen(q,K=>{try{ne(K)}catch(de){setTimeout(()=>{throw de},0)}})};return $(S,Wa.EventType.OPEN,()=>{b||(ae(Ut,`RPC '${e}' stream ${o} transport opened.`),O.s_())}),$(S,Wa.EventType.CLOSE,()=>{b||(b=!0,ae(Ut,`RPC '${e}' stream ${o} transport closed`),O.__(),this.I_(S))}),$(S,Wa.EventType.ERROR,B=>{b||(b=!0,ki(Ut,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),O.__(new se(G.UNAVAILABLE,"The operation could not be completed")))}),$(S,Wa.EventType.MESSAGE,B=>{var q;if(!b){const ne=B.data[0];Fe(!!ne,16349);const K=ne,de=K?.error||((q=K[0])===null||q===void 0?void 0:q.error);if(de){ae(Ut,`RPC '${e}' stream ${o} received error:`,de);const ee=de.status;let le=function(A){const N=ut[A];if(N!==void 0)return D0(N)}(ee),P=de.message;le===void 0&&(le=G.INTERNAL,P="Unknown error status: "+ee+" with message "+de.message),b=!0,O.__(new se(le,P)),S.close()}else ae(Ut,`RPC '${e}' stream ${o} received:`,ne),O.a_(ne)}}),$(f,G_.STAT_EVENT,B=>{B.stat===uf.PROXY?ae(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===uf.NOPROXY&&ae(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r){return new NA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-i);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="PersistentStream";class K0{constructor(e,t,i,o,l,h,f,p){this.Fi=e,this.w_=i,this.S_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new W0(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.b_===t&&this.W_(i,o)},i=>{e(()=>{const o=new se(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(o)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{i(()=>this.G_(o))}),this.stream.onMessage(o=>{i(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ae(mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ae(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CC extends K0{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=OA(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?lr(h.readTime):Ie.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=wf(this.serializer),t.addTarget=function(l,h){let f;const p=h.target;if(f=pf(p)?{documents:MA(l,p)}:{query:jA(l,p).Vt},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=V0(l,h.resumeToken);const y=yf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ie.min())>0){f.readTime=Cc(l,h.snapshotVersion.toTimestamp());const y=yf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=UA(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=wf(this.serializer),t.removeTarget=e,this.k_(t)}}class RC extends K0{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=LA(e.writeResults,e.commitTime),i=lr(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=wf(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>VA(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{}class NC extends PC{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Wo(e,vf(t,i),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new se(G.UNKNOWN,l.toString())})}Jo(e,t,i,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Jo(e,vf(t,i),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new se(G.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class DC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Mr(t),this._a=!1):ae("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="RemoteStore";class bC{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(h=>{i.enqueueAndForget(async()=>{Is(this)&&(ae(ws,"Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.Ia.add(4),await kl(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Yc(y)}(this))})}),this.Aa=new DC(i,o)}}async function Yc(r){if(Is(r))for(const e of r.da)await e(!0)}async function kl(r){for(const e of r.da)await e(!1)}function G0(r,e){const t=Se(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),vp(t)?yp(t):Wo(t).x_()&&gp(t,e))}function mp(r,e){const t=Se(r),i=Wo(t);t.Ta.delete(e),i.x_()&&Q0(t,e),t.Ta.size===0&&(i.x_()?i.B_():Is(t)&&t.Aa.set("Unknown"))}function gp(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wo(r).H_(e)}function Q0(r,e){r.Ra.$e(e),Wo(r).Y_(e)}function yp(r){r.Ra=new AA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Wo(r).start(),r.Aa.aa()}function vp(r){return Is(r)&&!Wo(r).M_()&&r.Ta.size>0}function Is(r){return Se(r).Ia.size===0}function Y0(r){r.Ra=void 0}async function OC(r){r.Aa.set("Online")}async function VC(r){r.Ta.forEach((e,t)=>{gp(r,e)})}async function LC(r,e){Y0(r),vp(r)?(r.Aa.la(e),yp(r)):r.Aa.set("Unknown")}async function MC(r,e,t){if(r.Aa.set("Online"),e instanceof O0&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ta.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ta.delete(f),o.Ra.removeTarget(f))}(r,e)}catch(i){ae(ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Pc(r,i)}else if(e instanceof hc?r.Ra.Ye(e):e instanceof b0?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Ie.min()))try{const i=await q0(r.localStore);t.compareTo(i)>=0&&await function(l,h){const f=l.Ra.Pt(h);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ta.get(y);_&&l.Ta.set(y,_.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,y)=>{const _=l.Ta.get(p);if(!_)return;l.Ta.set(p,_.withResumeToken(bt.EMPTY_BYTE_STRING,_.snapshotVersion)),Q0(l,p);const S=new vi(_.target,p,y,_.sequenceNumber);gp(l,S)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(i){ae(ws,"Failed to raise snapshot:",i),await Pc(r,i)}}async function Pc(r,e,t){if(!Ho(e))throw e;r.Ia.add(1),await kl(r),r.Aa.set("Offline"),t||(t=()=>q0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae(ws,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Yc(r)})}function X0(r,e){return e().catch(t=>Pc(r,t,e))}async function Xc(r){const e=Se(r),t=Ni(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:tp;for(;jC(e);)try{const o=await _C(e.localStore,i);if(o===null){e.Pa.length===0&&t.B_();break}i=o.batchId,FC(e,o)}catch(o){await Pc(e,o)}J0(e)&&Z0(e)}function jC(r){return Is(r)&&r.Pa.length<10}function FC(r,e){r.Pa.push(e);const t=Ni(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function J0(r){return Is(r)&&!Ni(r).M_()&&r.Pa.length>0}function Z0(r){Ni(r).start()}async function UC(r){Ni(r).na()}async function zC(r){const e=Ni(r);for(const t of r.Pa)e.X_(t.mutations)}async function BC(r,e,t){const i=r.Pa.shift(),o=lp.from(i,e,t);await X0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Xc(r)}async function $C(r,e){e&&Ni(r).Z_&&await async function(i,o){if(function(h){return xA(h)&&h!==G.ABORTED}(o.code)){const l=i.Pa.shift();Ni(i).N_(),await X0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Xc(i)}}(r,e),J0(r)&&Z0(r)}async function gv(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),ae(ws,"RemoteStore received new credentials");const i=Is(t);t.Ia.add(3),await kl(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Yc(t)}async function HC(r,e){const t=Se(r);e?(t.Ia.delete(2),await Yc(t)):e||(t.Ia.add(2),await kl(t),t.Aa.set("Unknown"))}function Wo(r){return r.Va||(r.Va=function(t,i,o){const l=Se(t);return l.ia(),new CC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Zo:OC.bind(null,r),e_:VC.bind(null,r),n_:LC.bind(null,r),J_:MC.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),vp(r)?yp(r):r.Aa.set("Unknown")):(await r.Va.stop(),Y0(r))})),r.Va}function Ni(r){return r.ma||(r.ma=function(t,i,o){const l=Se(t);return l.ia(),new RC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:UC.bind(null,r),n_:$C.bind(null,r),ea:zC.bind(null,r),ta:BC.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Xc(r)):(await r.ma.stop(),r.Pa.length>0&&(ae(ws,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new _p(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(r,e){if(Mr("AsyncQueue",`${e}: ${r}`),Ho(r))return new se(G.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ge.comparator(t.key,i.key):(t,i)=>ge.comparator(t.key,i.key),this.keyedMap=Ka(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.fa=new tt(ge.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Vo{constructor(e,t,i,o,l,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new Vo(e,t,ko.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class WC{constructor(){this.queries=vv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const o=Se(t),l=o.queries;o.queries=vv(),l.forEach((h,f)=>{for(const p of f.wa)p.onError(i)})})(this,new se(G.ABORTED,"Firestore shutting down"))}}function vv(){return new Ts(r=>w0(r),Hc)}async function KC(r,e){const t=Se(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.ba()&&(i=2):(l=new qC,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await t.onListen(o,!0);break;case 1:l.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=wp(h,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&Ep(t)}async function GC(r,e){const t=Se(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.wa.indexOf(e);h>=0&&(l.wa.splice(h,1),l.wa.length===0?o=e.ba()?0:1:!l.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function QC(r,e){const t=Se(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.wa)f.Ca(o)&&(i=!0);h.ya=o}}i&&Ep(t)}function YC(r,e,t){const i=Se(r),o=i.queries.get(e);if(o)for(const l of o.wa)l.onError(t);i.queries.delete(e)}function Ep(r){r.Da.forEach(e=>{e.next()})}var If,_v;(_v=If||(If={})).Fa="default",_v.Cache="cache";class XC{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Vo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==If.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.key=e}}class tw{constructor(e){this.key=e}}class JC{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pe(),this.mutatedKeys=Pe(),this.Xa=E0(e),this.eu=new ko(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new yv,o=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,S)=>{const T=o.get(_),b=qc(this.query,S)?S:null,O=!!T&&this.mutatedKeys.has(T.key),$=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let B=!1;T&&b?T.data.isEqual(b.data)?O!==$&&(i.track({type:3,doc:b}),B=!0):this.iu(T,b)||(i.track({type:2,doc:b}),B=!0,(p&&this.Xa(b,p)>0||y&&this.Xa(b,y)<0)&&(f=!0)):!T&&b?(i.track({type:0,doc:b}),B=!0):T&&!b&&(i.track({type:1,doc:T}),B=!0,(p||y)&&(f=!0)),B&&(b?(h=h.add(b),l=$?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{eu:h,ru:i,Ds:f,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((_,S)=>function(b,O){const $=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:B})}};return $(b)-$(O)}(_.type,S.type)||this.Xa(_.doc,S.doc)),this.su(i),o=o!=null&&o;const f=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,y=p!==this.Ya;return this.Ya=p,h.length!==0||y?{snapshot:new Vo(this.query,e.eu,l,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new yv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Pe(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new tw(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new ew(i))}),t}uu(e){this.Ha=e.qs,this.Za=Pe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Vo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Tp="SyncEngine";class ZC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class eR{constructor(e){this.key=e,this.lu=!1}}class tR{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Ts(f=>w0(f),Hc),this.Tu=new Map,this.Iu=new Set,this.du=new tt(ge.comparator),this.Eu=new Map,this.Au=new hp,this.Ru={},this.Vu=new Map,this.mu=Oo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function nR(r,e,t=!0){const i=aw(r);let o;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await nw(i,e,t,!0),o}async function rR(r,e){const t=aw(r);await nw(t,e,!0,!1)}async function nw(r,e,t,i){const o=await wC(r.localStore,ar(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await iR(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&G0(r.remoteStore,o),f}async function iR(r,e,t,i,o){r.gu=(S,T,b)=>async function($,B,q,ne){let K=B.view.nu(q);K.Ds&&(K=await hv($.localStore,B.query,!1).then(({documents:P})=>B.view.nu(P,K)));const de=ne&&ne.targetChanges.get(B.targetId),ee=ne&&ne.targetMismatches.get(B.targetId)!=null,le=B.view.applyChanges(K,$.isPrimaryClient,de,ee);return Ev($,B.targetId,le._u),le.snapshot}(r,S,T,b);const l=await hv(r.localStore,e,!0),h=new JC(e,l.qs),f=h.nu(l.documents),p=xl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,p);Ev(r,t,y._u);const _=new ZC(e,t,h);return r.Pu.set(e,_),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),y.snapshot}async function sR(r,e,t){const i=Se(r),o=i.Pu.get(e),l=i.Tu.get(o.targetId);if(l.length>1)return i.Tu.set(o.targetId,l.filter(h=>!Hc(h,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Ef(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&mp(i.remoteStore,o.targetId),Sf(i,o.targetId)}).catch($o)):(Sf(i,o.targetId),await Ef(i.localStore,o.targetId,!0))}async function oR(r,e){const t=Se(r),i=t.Pu.get(e),o=t.Tu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),mp(t.remoteStore,i.targetId))}async function aR(r,e,t){const i=pR(r);try{const o=await function(h,f){const p=Se(h),y=Qe.now(),_=f.reduce((b,O)=>b.add(O.key),Pe());let S,T;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let O=jr(),$=Pe();return p.Os.getEntries(b,_).next(B=>{O=B,O.forEach((q,ne)=>{ne.isValidDocument()||($=$.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,O)).next(B=>{S=B;const q=[];for(const ne of f){const K=wA(ne,S.get(ne.key).overlayedDocument);K!=null&&q.push(new Li(ne.key,K,h0(K.value.mapValue),zn.exists(!0)))}return p.mutationQueue.addMutationBatch(b,y,q,f)}).next(B=>{T=B;const q=B.applyToLocalDocumentSet(S,$);return p.documentOverlayCache.saveOverlays(b,B.batchId,q)})}).then(()=>({batchId:T.batchId,changes:I0(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,f,p){let y=h.Ru[h.currentUser.toKey()];y||(y=new tt(ke)),y=y.insert(f,p),h.Ru[h.currentUser.toKey()]=y}(i,o.batchId,t),await Al(i,o.changes),await Xc(i.remoteStore)}catch(o){const l=wp(o,"Failed to persist write");t.reject(l)}}async function rw(r,e){const t=Se(r);try{const i=await yC(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Eu.get(l);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Fe(h.lu,14607):o.removedDocuments.size>0&&(Fe(h.lu,42227),h.lu=!1))}),await Al(t,i,e)}catch(i){await $o(i)}}function wv(r,e,t){const i=Se(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Pu.forEach((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const p=Se(h);p.onlineState=f;let y=!1;p.queries.forEach((_,S)=>{for(const T of S.wa)T.va(f)&&(y=!0)}),y&&Ep(p)}(i.eventManager,e),o.length&&i.hu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function lR(r,e,t){const i=Se(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Eu.get(e),l=o&&o.key;if(l){let h=new tt(ge.comparator);h=h.insert(l,Bt.newNoDocument(l,Ie.min()));const f=Pe().add(l),p=new Gc(Ie.min(),new Map,new tt(ke),h,f);await rw(i,p),i.du=i.du.remove(l),i.Eu.delete(e),Ip(i)}else await Ef(i.localStore,e,!1).then(()=>Sf(i,e,t)).catch($o)}async function uR(r,e){const t=Se(r),i=e.batch.batchId;try{const o=await gC(t.localStore,e);sw(t,i,null),iw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Al(t,o)}catch(o){await $o(o)}}async function cR(r,e,t){const i=Se(r);try{const o=await function(h,f){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,f).next(S=>(Fe(S!==null,37113),_=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);sw(i,e,t),iw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Al(i,o)}catch(o){await $o(o)}}function iw(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function sw(r,e,t){const i=Se(r);let o=i.Ru[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Ru[i.currentUser.toKey()]=o}}function Sf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Tu.get(e))r.Pu.delete(i),t&&r.hu.pu(i,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(i=>{r.Au.containsKey(i)||ow(r,i)})}function ow(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(mp(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),Ip(r))}function Ev(r,e,t){for(const i of t)i instanceof ew?(r.Au.addReference(i.key,e),hR(r,i)):i instanceof tw?(ae(Tp,"Document no longer in limbo: "+i.key),r.Au.removeReference(i.key,e),r.Au.containsKey(i.key)||ow(r,i.key)):Ee(19791,{yu:i})}function hR(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Iu.has(i)||(ae(Tp,"New document in limbo: "+t),r.Iu.add(i),Ip(r))}function Ip(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new ge(We.fromString(e)),i=r.mu.next();r.Eu.set(i,new eR(t)),r.du=r.du.insert(t,i),G0(r.remoteStore,new vi(ar(v0(t.path)),i,"TargetPurposeLimboResolution",zc.ue))}}async function Al(r,e,t){const i=Se(r),o=[],l=[],h=[];i.Pu.isEmpty()||(i.Pu.forEach((f,p)=>{h.push(i.gu(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const S=y?!y.fromCache:(_=t?.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=fp.Es(p.targetId,y);l.push(S)}}))}),await Promise.all(h),i.hu.J_(o),await async function(p,y){const _=Se(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Q.forEach(y,T=>Q.forEach(T.Is,b=>_.persistence.referenceDelegate.addReference(S,T.targetId,b)).next(()=>Q.forEach(T.ds,b=>_.persistence.referenceDelegate.removeReference(S,T.targetId,b)))))}catch(S){if(!Ho(S))throw S;ae(pp,"Failed to update sequence numbers: "+S)}for(const S of y){const T=S.targetId;if(!S.fromCache){const b=_.Fs.get(T),O=b.snapshotVersion,$=b.withLastLimboFreeSnapshotVersion(O);_.Fs=_.Fs.insert(T,$)}}}(i.localStore,l))}async function dR(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){ae(Tp,"User change. New user:",e.toKey());const i=await H0(t.localStore,e);t.currentUser=e,function(l,h){l.Vu.forEach(f=>{f.forEach(p=>{p.reject(new se(G.CANCELLED,h))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Al(t,i.Bs)}}function fR(r,e){const t=Se(r),i=t.Eu.get(e);if(i&&i.lu)return Pe().add(i.key);{let o=Pe();const l=t.Tu.get(e);if(!l)return o;for(const h of l){const f=t.Pu.get(h);o=o.unionWith(f.view.tu)}return o}}function aw(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lR.bind(null,e),e.hu.J_=QC.bind(null,e.eventManager),e.hu.pu=YC.bind(null,e.eventManager),e}function pR(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cR.bind(null,e),e}class Nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return mC(this.persistence,new dC,e.initialUser,this.serializer)}Du(e){return new $0(dp.Vi,this.serializer)}bu(e){return new TC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nc.provider={build:()=>new Nc};class mR extends Nc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fe(this.persistence.referenceDelegate instanceof Rc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new XA(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new $0(i=>Rc.Vi(i,t),this.serializer)}}class xf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dR.bind(null,this.syncEngine),await HC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WC}()}createDatastore(e){const t=Qc(e.databaseInfo.databaseId),i=function(l){return new AC(l)}(e.databaseInfo);return function(l,h,f,p){return new NC(l,h,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,h,f){return new bC(i,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>wv(this.syncEngine,t,0),function(){return pv.C()?new pv:new IC}())}createSyncEngine(e,t){return function(o,l,h,f,p,y,_){const S=new tR(o,l,h,f,p,y);return _&&(S.fu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Se(o);ae(ws,"RemoteStore shutting down."),l.Ia.add(5),await kl(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}xf.provider={build:()=>new xf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="FirestoreClient";class yR{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async h=>{ae(Di,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ae(Di,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=wp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),ae(Di,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async o=>{i.isEqual(o)||(await H0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>{ki("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ae("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ki("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function Tv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await vR(r);ae(Di,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>gv(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>gv(e.remoteStore,o)),r._onlineComponents=e}async function vR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(Di,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ki("Error using user provided cache. Falling back to memory cache: "+t),await Kd(r,new Nc)}}else ae(Di,"Using default OfflineComponentProvider"),await Kd(r,new mR(void 0));return r._offlineComponents}async function lw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(Di,"Using user provided OnlineComponentProvider"),await Tv(r,r._uninitializedComponentsProvider._online)):(ae(Di,"Using default OnlineComponentProvider"),await Tv(r,new xf))),r._onlineComponents}function _R(r){return lw(r).then(e=>e.syncEngine)}async function wR(r){const e=await lw(r),t=e.eventManager;return t.onListen=nR.bind(null,e.syncEngine),t.onUnlisten=sR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oR.bind(null,e.syncEngine),t}function ER(r,e,t={}){const i=new Si;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,y){const _=new gR({next:T=>{_.Ou(),h.enqueueAndForget(()=>GC(l,S)),T.fromCache&&p.source==="server"?y.reject(new se(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),S=new XC(f,_,{includeMetadataChanges:!0,ka:!0});return KC(l,S)}(await wR(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="firestore.googleapis.com",Sv=!0;class xv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new se(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cw,this.ssl=Sv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=B0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QA)throw new se(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ok("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new xk;switch(i.type){case"firstParty":return new Rk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new se(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Iv.get(t);i&&(ae("ComponentProvider","Removing Datastore"),Iv.delete(t),i.terminate())}(this),Promise.resolve()}}function TR(r,e,t,i={}){var o;r=_s(r,Jc);const l=Fo(e),h=r._getSettings(),f=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;l&&(r_(`https://${p}`),i_("Firestore",!0)),h.host!==cw&&h.host!==p&&ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:i});if(!ps(y,f)&&(r._setSettings(y),i.mockUserToken)){let _,S;if(typeof i.mockUserToken=="string")_=i.mockUserToken,S=zt.MOCK_USER;else{_=VI(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new se(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new zt(T)}r._authCredentials=new kk(new J_(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class yt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Il(t,yt._jsonSchema))return new yt(e,i||null,new ge(We.fromString(t.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:ht("string",yt._jsonSchemaVersion),referencePath:ht("string")};class xi extends Ss{constructor(e,t,i){super(e,t,v0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ge(e))}withConverter(e){return new xi(this.firestore,e,this._path)}}function Dc(r,e,...t){if(r=xt(r),e0("collection","path",e),r instanceof Jc){const i=We.fromString(e,...t);return jy(i),new xi(r,null,i)}{if(!(r instanceof yt||r instanceof xi))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(We.fromString(e,...t));return jy(i),new xi(r.firestore,null,i)}}function fl(r,e,...t){if(r=xt(r),arguments.length===1&&(e=ep.newId()),e0("doc","path",e),r instanceof Jc){const i=We.fromString(e,...t);return My(i),new yt(r,null,new ge(i))}{if(!(r instanceof yt||r instanceof xi))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(We.fromString(e,...t));return My(i),new yt(r.firestore,r instanceof xi?r.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="AsyncQueue";class Av{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new W0(this,"async_queue_retry"),this.oc=()=>{const i=Wd();i&&ae(kv,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=Wd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Wd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Si;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ho(e))throw e;ae(kv,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Mr("INTERNAL UNHANDLED ERROR: ",Cv(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=_p.createAndSchedule(this,e,t,i,l=>this.lc(l));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:Cv(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Cv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Cl extends Jc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Av,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Av(e),this._firestoreClient=void 0,await e}}}function IR(r,e){const t=typeof r=="object"?r:l_(),i=typeof r=="string"?r:Ic,o=$f(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=bI("firestore");l&&TR(o,...l)}return o}function hw(r){if(r._terminated)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SR(r),r._firestoreClient}function SR(r){var e,t,i;const o=r._freezeSettings(),l=function(f,p,y,_){return new qk(f,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,uw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new yR(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const p=f?._online.build();return{_offline:f?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(bt.fromBase64String(e))}catch(t){throw new se(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sn(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Il(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:ht("string",Sn._jsonSchemaVersion),bytes:ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ur._jsonSchemaVersion}}static fromJSON(e){if(Il(e,ur._jsonSchema))return new ur(e.latitude,e.longitude)}}ur._jsonSchemaVersion="firestore/geoPoint/1.0",ur._jsonSchema={type:ht("string",ur._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Il(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new cr(e.vectorValues);throw new se(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:ht("string",cr._jsonSchemaVersion),vectorValues:ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=/^__.*__$/;class kR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sl(e,this.data,t,this.fieldTransforms)}}class dw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Li(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:r})}}class xp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:i,mc:!1});return o.fc(e),o}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:i,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return bc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(fw(this.Ec)&&xR.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class AR{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Qc(e)}Dc(e,t,i,o=!1){return new xp({Ec:e,methodName:t,bc:i,path:Dt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kp(r){const e=r._freezeSettings(),t=Qc(r._databaseId);return new AR(r._databaseId,!!e.ignoreUndefinedProperties,t)}function CR(r,e,t,i,o,l={}){const h=r.Dc(l.merge||l.mergeFields?2:0,e,t,o);Ap("Data must be an object, but it was:",h,i);const f=pw(i,h);let p,y;if(l.merge)p=new dn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const S of l.mergeFields){const T=kf(e,S,t);if(!h.contains(T))throw new se(G.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);gw(_,T)||_.push(T)}p=new dn(_),y=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=h.fieldTransforms;return new kR(new rn(f),p,y)}class eh extends Sp{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function RR(r,e,t,i){const o=r.Dc(1,e,t);Ap("Data must be an object, but it was:",o,i);const l=[],h=rn.empty();Vi(i,(p,y)=>{const _=Cp(e,p,t);y=xt(y);const S=o.gc(_);if(y instanceof eh)l.push(_);else{const T=Rl(y,S);T!=null&&(l.push(_),h.set(_,T))}});const f=new dn(l);return new dw(h,f,o.fieldTransforms)}function PR(r,e,t,i,o,l){const h=r.Dc(1,e,t),f=[kf(e,i,t)],p=[o];if(l.length%2!=0)throw new se(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(kf(e,l[T])),p.push(l[T+1]);const y=[],_=rn.empty();for(let T=f.length-1;T>=0;--T)if(!gw(y,f[T])){const b=f[T];let O=p[T];O=xt(O);const $=h.gc(b);if(O instanceof eh)y.push(b);else{const B=Rl(O,$);B!=null&&(y.push(b),_.set(b,B))}}const S=new dn(y);return new dw(_,S,h.fieldTransforms)}function NR(r,e,t,i=!1){return Rl(t,r.Dc(i?4:3,e))}function Rl(r,e){if(mw(r=xt(r)))return Ap("Unsupported field value:",e,r),pw(r,e);if(r instanceof Sp)return function(i,o){if(!fw(o.Ec))throw o.wc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,o){const l=[];let h=0;for(const f of i){let p=Rl(f,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(i,o){if((i=xt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Qe.fromDate(i);return{timestampValue:Cc(o.serializer,l)}}if(i instanceof Qe){const l=new Qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cc(o.serializer,l)}}if(i instanceof ur)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sn)return{bytesValue:V0(o.serializer,i._byteString)};if(i instanceof yt){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:cp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof cr)return function(h,f){return{mapValue:{fields:{[u0]:{stringValue:c0},[Sc]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw f.wc("VectorValues must only contain numeric values.");return op(f.serializer,y)})}}}}}}(i,o);throw o.wc(`Unsupported field value: ${Uc(i)}`)}(r,e)}function pw(r,e){const t={};return r0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(r,(i,o)=>{const l=Rl(o,e.Vc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function mw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qe||r instanceof ur||r instanceof Sn||r instanceof yt||r instanceof Sp||r instanceof cr)}function Ap(r,e,t){if(!mw(t)||!t0(t)){const i=Uc(t);throw i==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+i)}}function kf(r,e,t){if((e=xt(e))instanceof Zc)return e._internalPath;if(typeof e=="string")return Cp(r,e);throw bc("Field path arguments must be of type string or ",r,!1,void 0,t)}const DR=new RegExp("[~\\*/\\[\\]]");function Cp(r,e,t){if(e.search(DR)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Zc(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function bc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new se(G.INVALID_ARGUMENT,f+r+p)}function gw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(th("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bR extends yw{data(){return super.data()}}function th(r,e){return typeof e=="string"?Cp(r,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new se(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rp{}class vw extends Rp{}function Af(r,e,...t){let i=[];e instanceof Rp&&i.push(e),i=i.concat(t),function(l){const h=l.filter(p=>p instanceof Pp).length,f=l.filter(p=>p instanceof nh).length;if(h>1||h>0&&f>0)throw new se(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)r=o._apply(r);return r}class nh extends vw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new nh(e,t,i)}_apply(e){const t=this._parse(e);return _w(e._query,t),new Ss(e.firestore,e.converter,mf(e._query,t))}_parse(e){const t=kp(e.firestore);return function(l,h,f,p,y,_,S){let T;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new se(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Nv(S,_);const O=[];for(const $ of S)O.push(Pv(p,l,$));T={arrayValue:{values:O}}}else T=Pv(p,l,S)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Nv(S,_),T=NR(f,h,S,_==="in"||_==="not-in");return ct.create(y,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Rv(r,e,t){const i=e,o=th("where",r);return nh._create(o,i,t)}class Pp extends Rp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const f=l.getFlattenedFilters();for(const p of f)_w(h,p),h=mf(h,p)}(e._query,t),new Ss(e.firestore,e.converter,mf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Np extends vw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Np(e,t)}_apply(e){const t=function(o,l,h){if(o.startAt!==null)throw new se(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cl(l,h)}(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new qo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Cf(r,e="asc"){const t=e,i=th("orderBy",r);return Np._create(i,t)}function Pv(r,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new se(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_0(e)&&t.indexOf("/")!==-1)throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(We.fromString(t));if(!ge.isDocumentKey(i))throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Wy(r,new ge(i))}if(t instanceof yt)return Wy(r,t._key);throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uc(t)}.`)}function Nv(r,e){if(!Array.isArray(r)||r.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _w(r,e){const t=function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class VR{convertValue(e,t="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Vi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Sc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>ot(h.doubleValue));return new cr(l)}convertGeoPoint(e){return new ur(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=$c(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(al(e));default:return null}}convertTimestamp(e){const t=Ci(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=We.fromString(e);Fe(z0(i),9688,{name:e});const o=new ll(i.get(1),i.get(3)),l=new ge(i.popFirst(5));return o.isEqual(t)||Mr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(r,e,t){let i;return i=r?r.toFirestore(e):e,i}class Zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ao extends yw{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(th("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ao._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ao._jsonSchema={type:ht("string",Ao._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};class dc extends Ao{data(e={}){return super.data(e)}}class Co{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Zu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new dc(this._firestore,this._userDataWriter,i.key,i,new Zu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const p=new dc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Zu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new dc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Zu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),_=h.indexOf(f.doc.key)),{type:MR(f.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}Co._jsonSchemaVersion="firestore/querySnapshot/1.0",Co._jsonSchema={type:ht("string",Co._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};class jR extends VR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function ww(r){r=_s(r,Ss);const e=_s(r.firestore,Cl),t=hw(e),i=new jR(e);return OR(r._query),ER(t,r._query).then(o=>new Co(e,i,r,o))}function Ew(r,e,t,...i){r=_s(r,yt);const o=_s(r.firestore,Cl),l=kp(o);let h;return h=typeof(e=xt(e))=="string"||e instanceof Zc?PR(l,"updateDoc",r._key,e,t,i):RR(l,"updateDoc",r._key,e),Dp(o,[h.toMutation(r._key,zn.exists(!0))])}function Tw(r){return Dp(_s(r.firestore,Cl),[new ap(r._key,zn.none())])}function Iw(r,e){const t=_s(r.firestore,Cl),i=fl(r),o=LR(r.converter,e);return Dp(t,[CR(kp(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,zn.exists(!1))]).then(()=>i)}function Dp(r,e){return function(i,o){const l=new Si;return i.asyncQueue.enqueueAndForget(async()=>aR(await _R(i),o,l)),l.promise}(hw(r),e)}(function(e,t=!0){(function(o){Bo=o})(Uo),Po(new ms("firestore",(i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new Cl(new Ak(i.getProvider("auth-internal")),new Pk(h,i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new se(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ll(y.options.projectId,_)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Ti(Dy,by,e),Ti(Dy,by,"esm2017")})();const FR={apiKey:"demo-key",authDomain:"dental-clinic-demo.firebaseapp.com",projectId:"dental-clinic-demo",storageBucket:"dental-clinic-demo.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef123456"},Sw=a_(FR),ec=Ek(Sw),_i=IR(Sw),xw=U.createContext(),rh=()=>{const r=U.useContext(xw);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},UR=({children:r})=>{const[e,t]=U.useState(null),[i,o]=U.useState(!0),l=(y,_)=>sx(ec,y,_),h=(y,_)=>ox(ec,y,_),f=()=>cx(ec);U.useEffect(()=>ux(ec,_=>{t(_),o(!1)}),[]);const p={currentUser:e,signup:l,login:h,logout:f};return E.jsx(xw.Provider,{value:p,children:!i&&r})},kw=U.createContext(),Aw=()=>{const r=U.useContext(kw);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r},zR=({children:r})=>{const[e,t]=U.useState(()=>localStorage.getItem("theme")||"light");U.useEffect(()=>{const o=window.document.documentElement;o.classList.remove("light","dark"),o.classList.add(e),localStorage.setItem("theme",e)},[e]);const i=()=>{t(e==="light"?"dark":"light")};return E.jsx(kw.Provider,{value:{theme:e,toggleTheme:i},children:r})};var Gd={exports:{}},Qd,Dv;function BR(){if(Dv)return Qd;Dv=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qd=r,Qd}var Yd,bv;function $R(){if(bv)return Yd;bv=1;var r=BR();function e(){}function t(){}return t.resetWarningCache=e,Yd=function(){function i(h,f,p,y,_,S){if(S!==r){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}i.isRequired=i;function o(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Yd}var Ov;function HR(){return Ov||(Ov=1,Gd.exports=$R()()),Gd.exports}var qR=HR();const WR=zE(qR),Cw=({children:r})=>{const{currentUser:e}=rh(),t=localStorage.getItem("admin-universal")==="true";return e||t?r:E.jsx(BT,{to:"/login"})};Cw.propTypes={children:WR.node.isRequired};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Vv=r=>{const e=GR(r);return e.charAt(0).toUpperCase()+e.slice(1)},Rw=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),QR=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:h,...f},p)=>U.createElement("svg",{ref:p,...YR,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:Rw("lucide",o),...!l&&!QR(f)&&{"aria-hidden":"true"},...f},[...h.map(([y,_])=>U.createElement(y,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(r,e)=>{const t=U.forwardRef(({className:i,...o},l)=>U.createElement(XR,{ref:l,iconNode:e,className:Rw(`lucide-${KR(Vv(r))}`,`lucide-${r}`,i),...o}));return t.displayName=Vv(r),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Rf=kt("activity",JR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bp=kt("calendar",ZR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pf=kt("clock",eP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Pw=kt("eye-off",tP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nw=kt("eye",nP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],iP=kt("house",rP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Lv=kt("log-out",sP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Nf=kt("moon",oP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],lP=kt("phone",aP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dw=kt("plus",uP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hP=kt("search",cP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fP=kt("settings",dP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bw=kt("square-pen",pP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Df=kt("sun",mP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ow=kt("trash-2",gP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vw=kt("user",yP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_P=kt("users",vP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lw=kt("x",wP),EP=()=>{const[r,e]=U.useState(!1),{logout:t}=rh(),{theme:i,toggleTheme:o}=Aw(),l=Fr(),h=ml(),f=async()=>{try{localStorage.removeItem("admin-universal"),await t(),h("/login")}catch(_){console.error("Error logging out:",_)}},p=[{name:"Dashboard",href:"/",icon:iP},{name:"Agendamentos",href:"/appointments",icon:bp},{name:"Pacientes",href:"/patients",icon:_P},{name:"Configurações",href:"/settings",icon:fP}],y=_=>l.pathname===_;return E.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[E.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${r?"block":"hidden"}`,children:[E.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>e(!1)}),E.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white dark:bg-gray-800 shadow-xl",children:[E.jsxs("div",{className:"flex h-16 items-center px-4 space-x-3",children:[E.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-full",children:E.jsx(Rf,{className:"w-6 h-6 text-white"})}),E.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"DentalCare"}),E.jsx("button",{onClick:()=>e(!1),className:"ml-auto text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:E.jsx(Lw,{size:24})})]}),E.jsx("nav",{className:"flex-1 px-4 py-4",children:p.map(_=>{const S=_.icon;return E.jsxs(Ro,{to:_.href,className:`flex items-center px-4 py-3 text-sm font-medium rounded-lg mb-2 transition-colors ${y(_.href)?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-100":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:()=>e(!1),children:[E.jsx(S,{size:20,className:"mr-3"}),_.name]},_.name)})}),E.jsxs("div",{className:"px-4 py-4 mt-auto flex flex-col gap-2 border-t border-gray-200 dark:border-gray-700",children:[E.jsxs("button",{onClick:o,className:"flex items-center p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-md",children:[i==="light"?E.jsx(Nf,{size:20}):E.jsx(Df,{size:20}),E.jsx("span",{className:"ml-2",children:"Tema"})]}),E.jsxs("button",{onClick:f,className:"flex items-center p-2 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 rounded-md",children:[E.jsx(Lv,{size:20,className:"mr-2"}),"Sair"]})]})]})]}),E.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:E.jsxs("div",{className:"flex min-h-0 flex-1 flex-col bg-white dark:bg-gray-800 shadow-lg",children:[E.jsxs("div",{className:"flex h-16 items-center px-4 space-x-3",children:[E.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-600 rounded-full",children:E.jsx(Rf,{className:"w-6 h-6 text-white"})}),E.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"DentalCare"})]}),E.jsx("nav",{className:"flex-1 px-4 py-4",children:p.map(_=>{const S=_.icon;return E.jsxs(Ro,{to:_.href,className:`flex items-center px-4 py-3 text-sm font-medium rounded-lg mb-2 transition-colors ${y(_.href)?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-100":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:[E.jsx(S,{size:20,className:"mr-3"}),_.name]},_.name)})}),E.jsxs("div",{className:"px-4 py-4 mt-auto flex flex-col gap-2 border-t border-gray-200 dark:border-gray-700",children:[E.jsxs("button",{onClick:o,className:"flex items-center p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-md",children:[i==="light"?E.jsx(Nf,{size:20}):E.jsx(Df,{size:20}),E.jsx("span",{className:"ml-2",children:"Tema"})]}),E.jsxs("button",{onClick:f,className:"flex items-center p-2 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 rounded-md",children:[E.jsx(Lv,{size:20,className:"mr-2"}),"Sair"]})]})]})}),E.jsx("div",{className:"lg:pl-64",children:E.jsx("main",{className:"p-4 lg:p-8",children:E.jsx($T,{})})})]})},TP=()=>{const[r,e]=U.useState(""),[t,i]=U.useState(""),[o,l]=U.useState(!1),[h,f]=U.useState(!1),[p,y]=U.useState(""),{login:_}=rh(),S=ml(),T=async b=>{if(b.preventDefault(),y(""),f(!0),r==="admin@dentalcare.com"&&t==="123456"){localStorage.setItem("admin-universal","true"),S("/"),f(!1);return}try{await _(r,t),S("/")}catch{y("Email ou senha incorretos. Use: admin@dentalcare.com / 123456")}finally{f(!1)}};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:E.jsxs("div",{className:"max-w-md w-full space-y-8",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"flex justify-center mb-4",children:E.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full",children:E.jsx(Rf,{className:"w-8 h-8 text-white"})})}),E.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"DentalCare"}),E.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Sistema de Agendamento de Consultas"})]}),E.jsxs("form",{className:"mt-8 space-y-6",onSubmit:T,children:[E.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),E.jsx("input",{id:"email",type:"email",value:r,onChange:b=>e(b.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{id:"password",type:o?"text":"password",value:t,onChange:b=>i(b.target.value),required:!0,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"}),E.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:o?E.jsx(Pw,{size:20}):E.jsx(Nw,{size:20})})]})]}),p&&E.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm text-center bg-red-50 dark:bg-red-900/20 p-3 rounded-md",children:p}),E.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?E.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Entrar"})]})}),E.jsx("div",{className:"text-center",children:E.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Não tem uma conta?"," ",E.jsx(Ro,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"Cadastre-se aqui"})]})})]})]})})},IP=()=>{const[r,e]=U.useState({email:"",password:"",confirmPassword:""}),[t,i]=U.useState(!1),[o,l]=U.useState(""),[h,f]=U.useState(!1),{signup:p}=rh(),y=ml(),_=async T=>{if(T.preventDefault(),l(""),r.password!==r.confirmPassword){l("As senhas não coincidem");return}f(!0);try{await p(r.email,r.password),y("/")}catch{l("Falha ao criar conta. Tente novamente.")}finally{f(!1)}},S=T=>{e({...r,[T.target.name]:T.target.value})};return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-md w-full space-y-8",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Crie sua conta"}),E.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Ou"," ",E.jsx(Ro,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"faça login na sua conta existente"})]})]}),E.jsxs("form",{className:"mt-8 space-y-6",onSubmit:_,children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),E.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input mt-1",value:r.email,onChange:S})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Senha"}),E.jsxs("div",{className:"relative mt-1",children:[E.jsx("input",{id:"password",name:"password",type:t?"text":"password",autoComplete:"new-password",required:!0,className:"input pr-10",value:r.password,onChange:S}),E.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!t),children:t?E.jsx(Pw,{size:20}):E.jsx(Nw,{size:20})})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirmar Senha"}),E.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"input mt-1",value:r.confirmPassword,onChange:S})]}),o&&E.jsx("div",{className:"text-red-600 text-sm text-center",children:o}),E.jsx("div",{children:E.jsx("button",{type:"submit",disabled:h,className:"btn btn-primary w-full py-2 px-4 text-sm font-medium",children:h?"Criando conta...":"Criar conta"})})]})]})})},ds={async createAppointment(r){try{return(await Iw(Dc(_i,"appointments"),{...r,createdAt:new Date,updatedAt:new Date})).id}catch(e){throw console.error("Error creating appointment:",e),e}},async getAppointments(r=null){try{let e=Dc(_i,"appointments");if(r){const i=new Date(r);i.setHours(0,0,0,0);const o=new Date(r);o.setHours(23,59,59,999),e=Af(e,Rv("date",">=",i),Rv("date","<=",o),Cf("date"))}else e=Af(e,Cf("date"));return(await ww(e)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){throw console.error("Error getting appointments:",e),e}},async updateAppointment(r,e){try{const t=fl(_i,"appointments",r);await Ew(t,{...e,updatedAt:new Date})}catch(t){throw console.error("Error updating appointment:",t),t}},async deleteAppointment(r){try{await Tw(fl(_i,"appointments",r))}catch(e){throw console.error("Error deleting appointment:",e),e}}},SP=()=>{const[r,e]=U.useState([]),[t,i]=U.useState({today:0,upcoming:0,total:0}),[o,l]=U.useState(!1);U.useEffect(()=>{h()},[]);const h=async()=>{try{const p=new Date,y=await ds.getAppointments(p);e(y);const _=await ds.getAppointments(),S=_.filter(T=>T.date.toDate?T.date.toDate()>p:new Date(T.date)>p).length;i({today:y.length,upcoming:S,total:_.length})}catch(p){console.error("Error loading dashboard data:",p)}finally{l(!1)}},f=p=>(p.toDate?p.toDate():new Date(p)).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return o?E.jsx("div",{className:"flex items-center justify-center min-h-64",children:E.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),E.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Bem-vindo ao sistema de agendamento"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsx("div",{className:"card",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"p-3 bg-blue-100 dark:bg-gray-800 rounded-lg",children:E.jsx(bp,{className:"h-6 w-6 text-blue-600 dark:text-white"})}),E.jsxs("div",{className:"ml-4",children:[E.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-white",children:"Consultas Hoje"}),E.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:t.today})]})]})}),E.jsx("div",{className:"card",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:E.jsx(Pf,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),E.jsxs("div",{className:"ml-4",children:[E.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Próximas Consultas"}),E.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:t.upcoming})]})]})}),E.jsx("div",{className:"card",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:E.jsx(Vw,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),E.jsxs("div",{className:"ml-4",children:[E.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total de Consultas"}),E.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:t.total})]})]})})]}),E.jsxs("div",{className:"card",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Consultas de Hoje"}),r.length===0?E.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"Nenhuma consulta agendada para hoje"}):E.jsx("div",{className:"space-y-4",children:r.map(p=>E.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx("div",{className:"bg-primary-100 dark:bg-primary-900 p-2 rounded-lg",children:E.jsx(Pf,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:p.patientName}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f(p.date)})]})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:p.type}),p.phone&&E.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[E.jsx(lP,{className:"h-4 w-4 mr-1"}),p.phone]})]})]},p.id))})]})]})},Qa={async createPatient(r){try{return(await Iw(Dc(_i,"patients"),{...r,createdAt:new Date,updatedAt:new Date})).id}catch(e){throw console.error("Error creating patient:",e),e}},async getPatients(){try{const r=Af(Dc(_i,"patients"),Cf("name"));return(await ww(r)).docs.map(t=>({id:t.id,...t.data()}))}catch(r){throw console.error("Error getting patients:",r),r}},async updatePatient(r,e){try{const t=fl(_i,"patients",r);await Ew(t,{...e,updatedAt:new Date})}catch(t){throw console.error("Error updating patient:",t),t}},async deletePatient(r){try{await Tw(fl(_i,"patients",r))}catch(e){throw console.error("Error deleting patient:",e),e}}},Mw=({isOpen:r,onClose:e,title:t,children:i})=>r?E.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:E.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[E.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50",onClick:e}),E.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:E.jsx(Lw,{size:24})})]}),i]})]})}):null,xP=()=>{const[r,e]=U.useState([]),[t,i]=U.useState([]),[o,l]=U.useState(new Date().toISOString().split("T")[0]),[h,f]=U.useState(!1),[p,y]=U.useState(null),[_,S]=U.useState(!1),[T,b]=U.useState({patientId:"",patientName:"",date:"",time:"",type:"",notes:"",phone:""});U.useEffect(()=>{(async()=>{try{const le=new Date(o),P=await ds.getAppointments(le);e(P)}catch(le){console.error("Error loading appointments:",le)}finally{S(!1)}})(),$()},[o]);const O=async()=>{try{const ee=new Date(o),le=await ds.getAppointments(ee);e(le)}catch(ee){console.error("Error loading appointments:",ee)}finally{S(!1)}},$=async()=>{try{const ee=await Qa.getPatients();i(ee)}catch(ee){console.error("Error loading patients:",ee)}},B=async ee=>{ee.preventDefault();try{const le={...T,date:new Date(`${T.date}T${T.time}:00`)};p?await ds.updateAppointment(p.id,le):await ds.createAppointment(le),f(!1),y(null),b({patientId:"",patientName:"",date:"",time:"",type:"",notes:"",phone:""}),O()}catch(le){console.error("Error saving appointment:",le)}},q=ee=>{y(ee);const le=ee.date.toDate?ee.date.toDate():new Date(ee.date);b({patientId:ee.patientId||"",patientName:ee.patientName||"",date:le.toISOString().split("T")[0],time:le.toTimeString().slice(0,5),type:ee.type||"",notes:ee.notes||"",phone:ee.phone||""}),f(!0)},ne=async ee=>{if(window.confirm("Tem certeza que deseja cancelar esta consulta?"))try{await ds.deleteAppointment(ee),O()}catch(le){console.error("Error deleting appointment:",le)}},K=ee=>{const le=ee.target.value,P=t.find(x=>x.id===le);b({...T,patientId:le,patientName:P?P.name:"",phone:P?P.phone:""})},de=ee=>{const le=ee.toDate?ee.toDate():new Date(ee);return{date:le.toLocaleDateString("pt-BR"),time:le.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}};return _?E.jsx("div",{className:"flex items-center justify-center min-h-64",children:E.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Agendamentos"}),E.jsxs("button",{onClick:()=>f(!0),className:"btn btn-primary px-4 py-2 text-sm font-medium",children:[E.jsx(Dw,{size:20,className:"mr-2"}),"Nova Consulta"]})]}),E.jsx("div",{className:"card",children:E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx(bp,{className:"h-5 w-5 text-gray-400 dark:text-white min-w-[20px] min-h-[20px]"}),E.jsx("input",{type:"date",value:o,onChange:ee=>l(ee.target.value),className:"input max-w-xs bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors [&::-webkit-calendar-picker-indicator]:invert-0 dark:[&::-webkit-calendar-picker-indicator]:invert"})]})}),E.jsxs("div",{className:"card",children:[E.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Consultas - ",new Date(o).toLocaleDateString("pt-BR")]}),r.length===0?E.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"Nenhuma consulta agendada para esta data"}):E.jsx("div",{className:"space-y-4",children:r.map(ee=>{const{time:le}=de(ee.date);return E.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx("div",{className:"bg-primary-100 dark:bg-primary-900 p-2 rounded-lg",children:E.jsx(Pf,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:ee.patientName}),E.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[le," - ",ee.type]}),ee.notes&&E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:ee.notes})]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{onClick:()=>q(ee),className:"p-2 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400",children:E.jsx(bw,{size:16})}),E.jsx("button",{onClick:()=>ne(ee.id),className:"p-2 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400",children:E.jsx(Ow,{size:16})})]})]},ee.id)})})]}),E.jsx(Mw,{isOpen:h,onClose:()=>{f(!1),y(null),b({patientId:"",patientName:"",date:"",time:"",type:"",notes:"",phone:""})},title:p?"Editar Consulta":"Nova Consulta",children:E.jsxs("form",{onSubmit:B,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Paciente"}),E.jsxs("select",{value:T.patientId,onChange:K,className:"input",required:!0,children:[E.jsx("option",{value:"",children:"Selecione um paciente"}),t.map(ee=>E.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data"}),E.jsx("input",{type:"date",value:T.date,onChange:ee=>b({...T,date:ee.target.value}),className:"input",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hora"}),E.jsx("input",{type:"time",value:T.time,onChange:ee=>b({...T,time:ee.target.value}),className:"input",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Consulta"}),E.jsxs("select",{value:T.type,onChange:ee=>b({...T,type:ee.target.value}),className:"input",required:!0,children:[E.jsx("option",{value:"",children:"Selecione o tipo"}),E.jsx("option",{value:"Consulta",children:"Consulta"}),E.jsx("option",{value:"Limpeza",children:"Limpeza"}),E.jsx("option",{value:"Extração",children:"Extração"}),E.jsx("option",{value:"Obturação",children:"Obturação"}),E.jsx("option",{value:"Canal",children:"Canal"}),E.jsx("option",{value:"Emergência",children:"Emergência"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Observações"}),E.jsx("textarea",{value:T.notes,onChange:ee=>b({...T,notes:ee.target.value}),className:"input",rows:"3",placeholder:"Observações sobre a consulta..."})]}),E.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[E.jsx("button",{type:"button",onClick:()=>{f(!1),y(null)},className:"btn btn-secondary px-4 py-2 text-sm",children:"Cancelar"}),E.jsx("button",{type:"submit",className:"btn btn-primary px-4 py-2 text-sm",children:p?"Salvar":"Agendar"})]})]})})]})},kP=()=>{const[r,e]=U.useState([]),[t,i]=U.useState([]),[o,l]=U.useState(""),[h,f]=U.useState(!1),[p,y]=U.useState(null),[_,S]=U.useState(!1),[T,b]=U.useState({name:"",email:"",phone:"",address:"",birthDate:"",notes:""});U.useEffect(()=>{O()},[]),U.useEffect(()=>{i(o?r.filter(K=>K.name.toLowerCase().includes(o.toLowerCase())||K.email.toLowerCase().includes(o.toLowerCase())||K.phone.includes(o)):r)},[o,r]);const O=async()=>{try{const K=await Qa.getPatients();e(K),i(K)}catch(K){console.error("Error loading patients:",K)}finally{S(!1)}},$=async K=>{K.preventDefault();try{p?await Qa.updatePatient(p.id,T):await Qa.createPatient(T),f(!1),y(null),b({name:"",email:"",phone:"",address:"",birthDate:"",notes:""}),O()}catch(de){console.error("Error saving patient:",de)}},B=K=>{y(K),b({name:K.name||"",email:K.email||"",phone:K.phone||"",address:K.address||"",birthDate:K.birthDate||"",notes:K.notes||""}),f(!0)},q=async K=>{if(window.confirm("Tem certeza que deseja excluir este paciente?"))try{await Qa.deletePatient(K),O()}catch(de){console.error("Error deleting patient:",de)}},ne=K=>K?new Date(K).toLocaleDateString("pt-BR"):"";return _?E.jsx("div",{className:"flex items-center justify-center min-h-64",children:E.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Carregando..."})}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pacientes"}),E.jsxs("button",{onClick:()=>f(!0),className:"btn btn-primary px-4 py-2 text-sm font-medium",children:[E.jsx(Dw,{size:20,className:"mr-2"}),"Novo Paciente"]})]}),E.jsx("div",{className:"card",children:E.jsxs("div",{className:"relative",children:[E.jsx(hP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),E.jsx("input",{type:"text",placeholder:"Buscar pacientes...",value:o,onChange:K=>l(K.target.value),className:"input pl-10"})]})}),E.jsxs("div",{className:"card",children:[E.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Lista de Pacientes (",t.length,")"]}),t.length===0?E.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:o?"Nenhum paciente encontrado":"Nenhum paciente cadastrado"}):E.jsx("div",{className:"space-y-4",children:t.map(K=>E.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx("div",{className:"bg-primary-100 dark:bg-primary-900 p-2 rounded-lg",children:E.jsx(Vw,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:K.name}),E.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[K.email," • ",K.phone]}),K.birthDate&&E.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Nascimento: ",ne(K.birthDate)]})]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{onClick:()=>B(K),className:"p-2 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400",children:E.jsx(bw,{size:16})}),E.jsx("button",{onClick:()=>q(K.id),className:"p-2 text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400",children:E.jsx(Ow,{size:16})})]})]},K.id))})]}),E.jsx(Mw,{isOpen:h,onClose:()=>{f(!1),y(null),b({name:"",email:"",phone:"",address:"",birthDate:"",notes:""})},title:p?"Editar Paciente":"Novo Paciente",children:E.jsxs("form",{onSubmit:$,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome Completo"}),E.jsx("input",{type:"text",value:T.name,onChange:K=>b({...T,name:K.target.value}),className:"input",required:!0})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),E.jsx("input",{type:"email",value:T.email,onChange:K=>b({...T,email:K.target.value}),className:"input",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefone"}),E.jsx("input",{type:"tel",value:T.phone,onChange:K=>b({...T,phone:K.target.value}),className:"input",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Endereço"}),E.jsx("input",{type:"text",value:T.address,onChange:K=>b({...T,address:K.target.value}),className:"input"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data de Nascimento"}),E.jsx("input",{type:"date",value:T.birthDate,onChange:K=>b({...T,birthDate:K.target.value}),className:"input"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Observações"}),E.jsx("textarea",{value:T.notes,onChange:K=>b({...T,notes:K.target.value}),className:"input",rows:"3",placeholder:"Observações sobre o paciente..."})]}),E.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[E.jsx("button",{type:"button",onClick:()=>{f(!1),y(null)},className:"btn btn-secondary px-4 py-2 text-sm",children:"Cancelar"}),E.jsx("button",{type:"submit",className:"btn btn-primary px-4 py-2 text-sm",children:p?"Salvar":"Cadastrar"})]})]})})]})},AP=()=>{const{theme:r,toggleTheme:e}=Aw(),[t,i]=U.useState({name:"Clínica Odontológica",address:"",phone:"",email:"",workingHours:{start:"08:00",end:"18:00"}}),o=l=>{l.preventDefault(),console.log("Clinic data saved:",t)};return E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Configurações"}),E.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gerencie as configurações da sua clínica"})]}),E.jsxs("div",{className:"card",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Aparência"}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg",children:r==="light"?E.jsx(Df,{className:"h-5 w-5 text-yellow-500"}):E.jsx(Nf,{className:"h-5 w-5 text-blue-500"})}),E.jsxs("div",{children:[E.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:["Tema ",r==="light"?"Claro":"Escuro"]}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Altere a aparência da interface"})]})]}),E.jsx("button",{onClick:e,className:"btn btn-secondary px-4 py-2 text-sm",children:"Alterar Tema"})]})]}),E.jsxs("div",{className:"card",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Informações da Clínica"}),E.jsxs("form",{onSubmit:o,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome da Clínica"}),E.jsx("input",{type:"text",value:t.name,onChange:l=>i({...t,name:l.target.value}),className:"input"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Endereço"}),E.jsx("input",{type:"text",value:t.address,onChange:l=>i({...t,address:l.target.value}),className:"input"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefone"}),E.jsx("input",{type:"tel",value:t.phone,onChange:l=>i({...t,phone:l.target.value}),className:"input"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),E.jsx("input",{type:"email",value:t.email,onChange:l=>i({...t,email:l.target.value}),className:"input"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Horário de Funcionamento"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Início"}),E.jsx("input",{type:"time",value:t.workingHours.start,onChange:l=>i({...t,workingHours:{...t.workingHours,start:l.target.value}}),className:"input"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Fim"}),E.jsx("input",{type:"time",value:t.workingHours.end,onChange:l=>i({...t,workingHours:{...t.workingHours,end:l.target.value}}),className:"input"})]})]})]}),E.jsx("div",{className:"flex justify-end pt-4",children:E.jsx("button",{type:"submit",className:"btn btn-primary px-6 py-2 text-sm",children:"Salvar Configurações"})})]})]}),E.jsxs("div",{className:"card",children:[E.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Informações do Sistema"}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Versão"}),E.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"1.0.0"})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Último Backup"}),E.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date().toLocaleDateString("pt-BR")})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status"}),E.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-full",children:"Online"})]})]})]})]})};function CP(){return E.jsx(zR,{children:E.jsx(UR,{children:E.jsx(mI,{basename:"/DentalCare",children:E.jsxs(qT,{children:[E.jsx(fi,{path:"/login",element:E.jsx(TP,{})}),E.jsx(fi,{path:"/register",element:E.jsx(IP,{})}),E.jsxs(fi,{path:"/",element:E.jsx(Cw,{children:E.jsx(EP,{})}),children:[E.jsx(fi,{index:!0,element:E.jsx(SP,{})}),E.jsx(fi,{path:"appointments",element:E.jsx(xP,{})}),E.jsx(fi,{path:"patients",element:E.jsx(kP,{})}),E.jsx(fi,{path:"settings",element:E.jsx(AP,{})})]})]})})})})}YE.createRoot(document.getElementById("root")).render(E.jsx(U.StrictMode,{children:E.jsx(CP,{})}));
